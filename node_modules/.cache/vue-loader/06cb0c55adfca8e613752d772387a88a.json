{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/components/ZoomQuestionForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/components/ZoomQuestionForm.vue","mtime":1679379067237},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBJY29uQmFzZVR3byBmcm9tICJAL2NvbXBvbmVudHMvSWNvbkJhc2VUd28iOwppbXBvcnQgVHJhc2hJY29uIGZyb20gIkAvY29tcG9uZW50cy9pY29ucy9UcmFzaEljb24iOwppbXBvcnQgQ2FtZXJhSWNvbiBmcm9tICJAL2NvbXBvbmVudHMvaWNvbnMvQ2FtZXJhSWNvbiI7CmltcG9ydCBQZW5JY29uIGZyb20gIkAvY29tcG9uZW50cy9pY29ucy9QZW5JY29uIjsKaW1wb3J0IENyb3BJY29uIGZyb20gIkAvY29tcG9uZW50cy9pY29ucy9Dcm9wSWNvbiI7CmltcG9ydCBQaG9uZUljb24gZnJvbSAiQC9jb21wb25lbnRzL2ljb25zL1Bob25lSWNvbiI7CmltcG9ydCBQbHVzSWNvbiBmcm9tICJAL2NvbXBvbmVudHMvaWNvbnMvUGx1c0ljb24iOwppbXBvcnQgQXJyb3dSaWdodEljb24gZnJvbSAiQC9jb21wb25lbnRzL2ljb25zL0Fycm93UmlnaHRJY29uIjsKaW1wb3J0IFpvb21JY29uIGZyb20gIkAvY29tcG9uZW50cy9pY29ucy9ab29tSWNvbiI7CmltcG9ydCBNaWNyb3Bob25lSWNvbiBmcm9tICJAL2NvbXBvbmVudHMvaWNvbnMvTWljcm9waG9uZUljb24iOwppbXBvcnQgTWljcm9waG9uZVNsYXNoSWNvbiBmcm9tICJAL2NvbXBvbmVudHMvaWNvbnMvTWljcm9waG9uZVNsYXNoSWNvbiI7CmltcG9ydCBTdG9wSWNvbiBmcm9tICJAL2NvbXBvbmVudHMvaWNvbnMvU3RvcEljb24iOwppbXBvcnQgQ2lyY2xlSWNvbiBmcm9tICJAL2NvbXBvbmVudHMvaWNvbnMvQ2lyY2xlSWNvbiI7CmltcG9ydCBQZXJzb25Ub0Rvb3JJY29uIGZyb20gIkAvY29tcG9uZW50cy9pY29ucy9QZXJzb25Ub0Rvb3JJY29uIjsKaW1wb3J0IERpc3BsYXlJY29uIGZyb20gIkAvY29tcG9uZW50cy9pY29ucy9EaXNwbGF5SWNvbiI7CmltcG9ydCBEaXNwbGF5U2xhc2hJY29uIGZyb20gIkAvY29tcG9uZW50cy9pY29ucy9EaXNwbGF5U2xhc2hJY29uIjsKaW1wb3J0IFZpZGVvSWNvbiBmcm9tICJAL2NvbXBvbmVudHMvaWNvbnMvVmlkZW9JY29uIjsKaW1wb3J0IFZpZGVvU2xhc2hJY29uIGZyb20gIkAvY29tcG9uZW50cy9pY29ucy9WaWRlb1NsYXNoSWNvbiI7CmltcG9ydCBWdWVDcm9wcGVyIGZyb20gJ3Z1ZS1jcm9wcGVyanMnOwppbXBvcnQgJ2Nyb3BwZXJqcy9kaXN0L2Nyb3BwZXIuY3NzJzsKaW1wb3J0IFpvb21WaWRlbyBmcm9tICdAem9vbS92aWRlb3Nkayc7CmltcG9ydCBLSlVSIGZyb20gJ2pzcnNhc2lnbic7Cgpjb25zdCBnZW5SYW5IZXggPSBzaXplID0+IFsuLi5BcnJheShzaXplKV0ubWFwKCgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2KS50b1N0cmluZygxNikpLmpvaW4oJycpOwpsZXQgc3RyZWFtOyAvLyB6b29tIHN0cmVhbQpjb25zdCBjbGllbnQgPSBab29tVmlkZW8uY3JlYXRlQ2xpZW50KCk7IC8vIHpvb20gY2xpZW50CgpsZXQgY2FudmFzSGFuZGxlciA9IG51bGw7IC8vIGNhbnZhcyAvIHZpZGVvIHRhZyB0byBiZSBsb2FkZWQgdG8gc2hvdyB2aWRlbyBjYW0KbGV0IHNjcmVlbkhhbmRsZXIgPSBudWxsOyAvLyBjYW52YXMgLyB2aWRlbyB0YWcgdG8gc2hvdyBzY3JlZW4gc2hhcmUKbGV0IGF1ZGlvQ2FudmFzID0gbnVsbDsKbGV0IGF1ZGlvQ2FudmFzQ3R4ID0gbnVsbDsKCmxldCBtY3N0cmVhbSA9IG51bGw7IC8vIGNhbnZhcyBzdHJlYW0KbGV0IG1jID0gbnVsbDsgLy8gbG9jYWwgbWVkaWEgcmVjb3JkIHRvIHJlY29yZCB6b29tIHN0cmVhbSAodGhlb3JpY2FsbHkpCmxldCBtY01pbWVUeXBlID0gISF3aW5kb3cuc2FmYXJpID8gInZpZGVvL21wNCIgOiAidmlkZW8vd2VibSI7CmxldCBtcyA9IG51bGw7IC8vIGxvY2FsIG1lZGlhIHN0cmVhbSByZXByZXNlbnRpbmcgdGhlIGNhbnZhcy92aWRlbwpsZXQgbWljVHJhY2sgPSBudWxsOyAvLyBsb2NhbCBtZWRpYSBzdHJlYW0gcmVwcmVzZW50aW5nIHVzZXIncyBtaWMKbGV0IGNodW5rcyA9IFtdOwpsZXQgc2FmYXJpQXVkaW9EZWNvZGU7CmxldCBzYWZhcmlBdWRpb0VuY29kZTsKbGV0IHNlc3Npb25Ub3BpYyA9IGdlblJhbkhleCg2KTsKbGV0IHNlc3Npb25QYXNzd29yZCA9IGdlblJhbkhleCg2KTsKCi8vIGZpbmFsIHJlbmRpbmcgcGxhY2UKbGV0IGNhbnZhc1JlbmRlckhhbmRsZSA9IG51bGw7CmxldCBjYW52YXNSZW5kZXJIYW5kbGVTdHJlYW0gPSBudWxsOwpsZXQgY2FudmFzUmVuZGVySGFuZGxlQ3R4ID0gbnVsbDsgCgovKgogIHNvbWUgaXNzdWVzIC8gZmVhdHVyZXMKICAxLiBwaWN0dXJlLWluLXBpY3R1cmUgd2hlbiBzdGFydGluZyB6b29tICYgc2hhcmUgc2NyZWVuCiAgMi4gbWljIGZlZWRiYWNrIHByb2JsZW0gb24gY2hyb21lCiAgICAtIHByb2JsZW0gd2hlbiBzdGFydGluZyByZWNvcmRpbmcKICAzLiBzY29wZSBkaXNwbGF5IHdoZW4gcmVjb3JkaW5nIG9ubHkgc291bmQKICA0LiBtZWRpYSByZWNvcmRlciBzdGF0ZSwgc29tZXRoaW5nIGdldCBsb3N0IGFmdGVyIGEgcmVjb3JkaW5nIHNlc3Npb24uCgogIC8vIG5ldyBwbGFuOiByZWJ1aWxkaW5nIHRoZSBtZWRpYXJlY29yZGVyIGFuZCB6b29tIGNvbnRyb2xzCiAgMS4gbWVkaWFyZWNvcmRlciBuZWVkcyBzdHJlYW1zIAogIDIuIHRpZSB2aWRlby9jYW52YXMgdGFnIHRvIHN0cmVhbSwgcmVjb3JkIGFueXRoaW5nIG9uIHRoYXQKICAzLiB0aWUgbWljIGFzIGEgbmV3IHN0cmVhbSwgcmVjb3JkIGFueXRoaW5nIG9uIHRoYXQuIChmaW5kIGlmIGNhbiByZXNvbHZlIHRoZSBmZWVkYmFjayBwcm9ibGVtKQoqLwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJab29tUXVlc3Rpb25Gb3JtIiwKICBkYXRhICgpIHsKICAgIHJldHVybiB7IHN0YXR1czogJ1JlYWR5Jywgc2Vzc2lvblRvcGljLCBzZXNzaW9uUGFzc3dvcmQgfTsKICB9LCAKICBhc3luYyB1cGRhdGVkKCkgeyAKICAgIC8vIGNhbGxlZCBldmVyeXRpbWUgdGhlIGZvcm0gZ2V0cyB1cGRhdGVkLiB3YW50ZWQgdG8gZG8gbW91bnRlZCwgYnV0IHRoYXQgd2lsbCBvbmx5IGNhbGxlZCBvbmNlLgoKICAgIGNvbnNvbGUubG9nKCdab29tUXVlc3Rpb25Gb3JtIHVwZGF0ZWQnKTsKICAgIGNvbnNvbGUubG9nKGBVc2luZyBab29tIFZJREVPIFNESyB2ZXJzaW9uICR7Wm9vbVZpZGVvLlZFUlNJT059YCk7CgogICAgLyoKICAgICAgcGxhbjogCiAgICAgIC0gY2hlY2sgaWYgY2FudmFzIGlzIHRoZXJlOyBpZiBub3QgdGhlcmU6CiAgICAgIC0gdG8gYWRkIGNhbnZhcyhlcykgb3IgdmlkZW8gdGFnIGJhc2VkIG9uIGJyb3dzZXIKICAgICAgLSBzZXR1cCBhdWRpbyB3YXZlZm9ybSBkcmF3IGZuCiAgICAgIC0gc2V0dXAgY29tcG9zaXRlIGRyYXcgZm4KICAgICAgLSBzZXR1cCBtZWRpYSByZWNvcmRlciB0byByZWNvcmQgdGhlIGNvbXBvc2l0ZSBjYW52YXMgLyBtaWMKICAgICovCgogICAgLy8gaWYgdGhlcmUgYWxyZWFkeSB0aGVyZSwgc2tpcCBjaGVja2luZwogICAgbGV0IGNhbnZhc0NoZWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlbGYtdmlldy1jYW52YXMnKTsKICAgIGxldCB2aWRlb0NoZWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlbGYtdmlldy12aWRlbycpOwoKCiAgICAvLyBjaGVjayBpZiBjYW52YXMgaXMgYWxyZWFkeSB0aGVyZSwgaWYgYWxyZWFkeSB0aGVyZSwgc2tpcCB0aGUgcmVzdCBvZiB0aGUgc3RlcCAKICAgIGlmKGNhbnZhc0NoZWNrICE9PSBudWxsIHx8IHZpZGVvQ2hlY2sgIT09IG51bGwpewogICAgICByZXR1cm47CiAgICB9CgogICAgLy8gLS0tLSBTRVRVUCBUSEUgQ0FOVkFTIC8gTUVESUEgUkVDT1JERVIgSUYgSVQnUyBOT1QgVEhFUkUgLS0tLQoKICAgIC8vIHNldHVwIHRoZSBjb21wb3NpdGUgY2FudmFzICwgd2hpY2ggd2lsbCBiZSBsYXRlciB1c2UgZm9yIHJlY29yZGluZy4KICAgIGNhbnZhc1JlbmRlckhhbmRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYW52YXMtcmVuZGVyJyk7CiAgICBjYW52YXNSZW5kZXJIYW5kbGVDdHggPSBjYW52YXNSZW5kZXJIYW5kbGUuZ2V0Q29udGV4dCgnMmQnKTsKICAgIGNhbnZhc1JlbmRlckhhbmRsZVN0cmVhbSA9IGNhbnZhc1JlbmRlckhhbmRsZS5jYXB0dXJlU3RyZWFtKCk7CgogICAgLy8gYWRkIHZpZGVvIC8gY2FudmFzIHRhZyBiYXNlZCBvbiBicm93c2VyIGFuZCB0aGVyZSdzIHNoYXJlZCBhcnJheSBidWZmZXIgZGlzYWJsZWQKICAgIGxldCB0aGVWaWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RoZS12aWV3JykKICAgIC8vaWYoISF3aW5kb3cuY2hyb21lICYmICEodHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nKSl7CiAgICAvKgogICAgaWYobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2ZpcmVmb3gnKSA+IC0xKXsKICAgICAgLy8gZGVidWc6IHRyeWluZyB0byBmb3JjZSBmaXJlZm94IHRvIHVzZSBjYW52YXMKICAgICAgY2FudmFzSGFuZGxlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICBjYW52YXNIYW5kbGVyLmlkPSdzZWxmLXZpZXctY2FudmFzJzsKICAgIH0gZWxzZSBpZih0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgPT09ICdmdW5jdGlvbicpewogICAgKi8KICAgIGlmKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyl7CiAgICAgIC8vIGhhdmUgc2hhcmVkIGFycmF5IGJ1ZmZlciBlbmFibGVkCiAgICAgIGNhbnZhc0hhbmRsZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgICAgY2FudmFzSGFuZGxlci5pZD0nc2VsZi12aWV3LWNhbnZhcyc7CiAgICB9IGVsc2UgewogICAgICAvLyBkb2Vzbid0IGhhdmUgc2hhcmVkIGFycmF5IGJ1ZmZlciBlbmFibGUgKGxpa2UgY2hyb21lKQogICAgICBjYW52YXNIYW5kbGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTsKICAgICAgY2FudmFzSGFuZGxlci5pZD0nc2VsZi12aWV3LXZpZGVvJzsKICAgIH0KICAgIGNhbnZhc0hhbmRsZXIuaGVpZ2h0PSczMjUnOwogICAgY2FudmFzSGFuZGxlci53aWR0aD0nNTc2JzsKICAgIGNhbnZhc0hhbmRsZXIuY2xhc3NOYW1lPSdib3JkZXItMiBib3JkZXItYmxhY2sgaC1hdXRvIGgtMjAgdy1mdWxsIG1kOnctc2NyZWVuIG1heC13LXhsJzsKICAgIHRoZVZpZXcudGV4dENvbnRlbnQgPSAnJzsKICAgIHRoZVZpZXcuYXBwZW5kQ2hpbGQoY2FudmFzSGFuZGxlcik7CgogICAgLy8gYWRkIHZpZGVvIC8gY2FudmFzIHRhZyBmb3IgdGhlIHNjcmVlbiBzaGFyZSBiYXNlZCBvbiBicm93c2VyCiAgICBsZXQgdGhlU2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RoZS1zY3JlZW4nKTsKICAgIGlmKCEhd2luZG93LmNocm9tZSl7CiAgICAgIHNjcmVlbkhhbmRsZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpOwogICAgICBzY3JlZW5IYW5kbGVyLmlkID0gJ3NjcmVlbi1zaGFyZS12aWRlbyc7CiAgICB9IGVsc2UgewogICAgICBzY3JlZW5IYW5kbGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIHNjcmVlbkhhbmRsZXIuaWQgPSAnc2NyZWVuLXNoYXJlLWNhbnZhcyc7CiAgICAgIHNjcmVlbkhhbmRsZXIub25wbGF5ID0gKCkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdzY3JlZW4gc2hhcmUgZGV0ZWN0ZWQnKTsKICAgICAgfQogICAgfQogICAgc2NyZWVuSGFuZGxlci5jbGFzc05hbWU9J2JvcmRlci0yIGJvcmRlci1ibGFjayBoLWF1dG8gaC0yMCB3LWZ1bGwgbWQ6dy1zY3JlZW4gbWF4LXcteGwnOwogICAgdGhlU2NyZWVuLmFwcGVuZENoaWxkKHNjcmVlbkhhbmRsZXIpOwoKICAgIC8vIHRlc3Q6IGNhcHR1cmUgZXZlcnl0aGluZyBmcm9tIHNoYXJlIHNjcmVlbiB2aWRlbyAvIGNhbnZhcwogICAgLy8gY2FudmFzUmVuZGVySGFuZGxlU3RyZWFtID0gc2NyZWVuSGFuZGxlci5jYXB0dXJlU3RyZWFtKCk7CgogICAgLy8gY2FwdHVyZSB0aGUgbWljLCBhbmQgcHV0IGl0IGluIGEgYXVkaW9Db250ZXh0LCBzbyB3ZSBjYW4gYW5hbHlzZSBhbmQgZHJhdwogICAgLy8gYWxzbywgcHV0IHRoZSBzdHJlYW0gaW4gdGhlIGZpbmFsIHJlbmRlciBzdHJlYW0sIHNvIGNhbiByZWNvcmQgdGhpbmdzLiAKICAgIGNvbnN0IGF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTsKICAgIG1pY1RyYWNrID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KTsKICAgIG1pY1RyYWNrLmdldEF1ZGlvVHJhY2tzKClbMF0uZW5hYmxlZCA9IGZhbHNlOwogICAgY2FudmFzUmVuZGVySGFuZGxlU3RyZWFtLmFkZFRyYWNrKG1pY1RyYWNrLmdldEF1ZGlvVHJhY2tzKClbMF0pOwoKICAgIGNvbnN0IHNvdXJjZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShtaWNUcmFjaykKICAgIGNvbnN0IGFuYWx5c2VyID0gYXVkaW9Db250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7CiAgICBhbmFseXNlci5mZnRTaXplID0gMjA0ODsKCiAgICBjb25zdCBidWZmZXJMZW5ndGggPSBhbmFseXNlci5mcmVxdWVuY3lCaW5Db3VudDsKICAgIGNvbnN0IGRhdGFBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlckxlbmd0aCk7CiAgICBhbmFseXNlci5nZXRCeXRlVGltZURvbWFpbkRhdGEoZGF0YUFycmF5KTsKCiAgICAvLyBDb25uZWN0IHRoZSBzb3VyY2UgdG8gYmUgYW5hbHlzZWQKICAgIHNvdXJjZS5jb25uZWN0KGFuYWx5c2VyKTsKCiAgICAvLyBjYW52YXMgdG8gZHJhdyB0aGUgc291bmQKICAgIGF1ZGlvQ2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RoZS1hdWRpbycpOwogICAgYXVkaW9DYW52YXNDdHggPSBhdWRpb0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwoKICAgIC8vIGRlYnVnLCBjaGVjayBhdWRpbyBDb250ZXh0CiAgICAvLyBjb25zb2xlLmxvZygnYXVkaW9Db250ZXh0JywgYXVkaW9Db250ZXh0KTsKCiAgICAvLyBkcmF3IHRoZSB3YXZlZm9ybQogICAgZnVuY3Rpb24gZHJhdygpIHsKICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXcpOwoKICAgICAgYW5hbHlzZXIuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKGRhdGFBcnJheSk7CgogICAgICBhdWRpb0NhbnZhc0N0eC5maWxsU3R5bGUgPSAicmdiKDIwMCwgMjAwLCAyMDApIjsKICAgICAgYXVkaW9DYW52YXNDdHguZmlsbFJlY3QoMCwgMCwgYXVkaW9DYW52YXMud2lkdGgsIGF1ZGlvQ2FudmFzLmhlaWdodCk7CgogICAgICBhdWRpb0NhbnZhc0N0eC5saW5lV2lkdGggPSAyOwogICAgICBhdWRpb0NhbnZhc0N0eC5zdHJva2VTdHlsZSA9ICJyZ2IoMCwgMCwgMCkiOwoKICAgICAgYXVkaW9DYW52YXNDdHguYmVnaW5QYXRoKCk7CgogICAgICBjb25zdCBzbGljZVdpZHRoID0gKGF1ZGlvQ2FudmFzLndpZHRoICogMS4wKSAvIGJ1ZmZlckxlbmd0aDsKICAgICAgbGV0IHggPSAwOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJMZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHYgPSBkYXRhQXJyYXlbaV0gLyAxMjguMDsKICAgICAgICBjb25zdCB5ID0gKHYgKiBhdWRpb0NhbnZhcy5oZWlnaHQpIC8gMjsKCiAgICAgICAgaWYgKGkgPT09IDApIHsKICAgICAgICAgIGF1ZGlvQ2FudmFzQ3R4Lm1vdmVUbyh4LCB5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXVkaW9DYW52YXNDdHgubGluZVRvKHgsIHkpOwogICAgICAgIH0KCiAgICAgICAgeCArPSBzbGljZVdpZHRoOwogICAgICB9CgogICAgICBhdWRpb0NhbnZhc0N0eC5saW5lVG8oYXVkaW9DYW52YXMud2lkdGgsIGF1ZGlvQ2FudmFzLmhlaWdodCAvIDIpOwogICAgICBhdWRpb0NhbnZhc0N0eC5zdHJva2UoKTsKICAgIH0KICAgIGRyYXcoKTsKCiAgICAvLyBkcmF3IGNvbXBvc2l0ZSBiYXNlZCBvbiBzb3VyY2UgY2FudmFzL3ZpZGVvCiAgICBsZXQgZHJhd0NvbXBvc2l0ZSA9ICgpID0+IHsKICAgICAgLy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhd0NvbXBvc2l0ZSk7CgogICAgICBsZXQgbWljT24gPSB0aGlzLiRzdG9yZS5zdGF0ZS50ZWFjaGVyQ3JlYXRlQXNzaWdubWVudC5zdGF0ZXMuaXNNaWNPbjsKICAgICAgbGV0IHZpZGVvT24gPSB0aGlzLiRzdG9yZS5zdGF0ZS50ZWFjaGVyQ3JlYXRlQXNzaWdubWVudC5zdGF0ZXMuaXNWaWRlb09uOwogICAgICBsZXQgc2NyZWVuU2hhcmVPbiA9IHRoaXMuJHN0b3JlLnN0YXRlLnRlYWNoZXJDcmVhdGVBc3NpZ25tZW50LnN0YXRlcy5pc1NjcmVlblNoYXJlOwoKICAgICAgLy8gY2xlYXIgdGhlIHBpY3R1cmUgZmlyc3QKICAgICAgLy9jYW52YXNSZW5kZXJIYW5kbGVDdHguY2xlYXJSZWN0KDAsMCwgY2FudmFzUmVuZGVySGFuZGxlLndpZHRoLCBjYW52YXNSZW5kZXJIYW5kbGUuaGVpZ2h0KTsKCiAgICAgIGlmICh2aWRlb09uICYmICFzY3JlZW5TaGFyZU9uKSB7CiAgICAgICAgLy8gY2FtZXJhIG9uLCBidXQgbm90IHNjcmVlbiBzaGFyZQogICAgICAgIGNhbnZhc1JlbmRlckhhbmRsZUN0eC5kcmF3SW1hZ2UoY2FudmFzSGFuZGxlciwgMCwwLCAKICAgICAgICAgIGNhbnZhc1JlbmRlckhhbmRsZS53aWR0aCwgY2FudmFzUmVuZGVySGFuZGxlLmhlaWdodCk7CiAgICAgIH0gZWxzZSBpZiAoIXZpZGVvT24gJiYgc2NyZWVuU2hhcmVPbikgewogICAgICAgIC8vIGNhbWVyYSBvZmYsIGJ1dCBzY3JlZW4gaXMgc2hhcmVkCiAgICAgICAgLy8gbmVlZCB0byBmaWd1cmUgb3V0IGEgd2F5IHRoYXQgZG9lc24ndCBwcm9kdWNlZCBjbGlwcGluZyB3aGVuIHJlY29yZGluZwogICAgICAgIC8vIGNhbnZhc1JlbmRlckhhbmRsZUN0eC5kcmF3SW1hZ2Uoc2NyZWVuSGFuZGxlciwgMCwwICwgY2FudmFzUmVuZGVySGFuZGxlLndpZHRoLCBjYW52YXNSZW5kZXJIYW5kbGUuaGVpZ2h0KQogICAgICAgIC8vY2FudmFzUmVuZGVySGFuZGxlQ3R4LmRyYXdJbWFnZShzY3JlZW5IYW5kbGVyLCAwLCAwKTsKICAgICAgICBjYW52YXNSZW5kZXJIYW5kbGVDdHguZHJhd0ltYWdlKHNjcmVlbkhhbmRsZXIsIDAsMCAsCiAgICAgICAgICBjYW52YXNSZW5kZXJIYW5kbGUud2lkdGgsIGNhbnZhc1JlbmRlckhhbmRsZS5oZWlnaHQpOwogICAgICB9IGVsc2UgaWYgKHZpZGVvT24gJiYgc2NyZWVuU2hhcmVPbikgewogICAgICAgIC8vIGJvdGggdmlkZW8gYW5kIHNjcmVlbiBzaGFyZSBpcyBvbiwgZG8gUGlQCiAgICAgICAgLy8gY2FudmFzUmVuZGVySGFuZGxlQ3R4LmNsZWFyUmVjdCgwLDAsIGNhbnZhc1JlbmRlckhhbmRsZS53aWR0aCwgY2FudmFzUmVuZGVySGFuZGxlLmhlaWdodCk7CiAgICAgICAgY2FudmFzUmVuZGVySGFuZGxlQ3R4LmRyYXdJbWFnZShzY3JlZW5IYW5kbGVyLCAwLDAgLAogICAgICAgICAgY2FudmFzUmVuZGVySGFuZGxlLndpZHRoLCBjYW52YXNSZW5kZXJIYW5kbGUuaGVpZ2h0KTsKICAgICAgICBjYW52YXNSZW5kZXJIYW5kbGVDdHguZHJhd0ltYWdlKGNhbnZhc0hhbmRsZXIsIAogICAgICAgICAgMCwwLCBjYW52YXNIYW5kbGVyLndpZHRoLCBjYW52YXNIYW5kbGVyLmhlaWdodCwKICAgICAgICAgIGNhbnZhc1JlbmRlckhhbmRsZS53aWR0aCozLzQsIGNhbnZhc1JlbmRlckhhbmRsZS5oZWlnaHQqMy80LAogICAgICAgICAgY2FudmFzUmVuZGVySGFuZGxlLndpZHRoLzQsIGNhbnZhc1JlbmRlckhhbmRsZS5oZWlnaHQvNAogICAgICAgICk7CiAgICAgIH0gZWxzZSBpZiAobWljT24gJiYgIXZpZGVvT24gJiYgIXNjcmVlblNoYXJlT24pIHsKICAgICAgICAvLyBvbmx5IHRoZSBtaWMgaXMgb24KICAgICAgICBjYW52YXNSZW5kZXJIYW5kbGVDdHguZHJhd0ltYWdlKGF1ZGlvQ2FudmFzLCAKICAgICAgICAgIDAsMCwgY2FudmFzUmVuZGVySGFuZGxlLndpZHRoLCBjYW52YXNSZW5kZXJIYW5kbGUuaGVpZ2h0CiAgICAgICAgKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBkZWZhdWx0LCBubyBpbnB1dAogICAgICAgIGNhbnZhc1JlbmRlckhhbmRsZUN0eC5maWxsVGV4dCgiTk8gSU5QVVQiLCBjYW52YXNSZW5kZXJIYW5kbGUud2lkdGgvMiwgY2FudmFzUmVuZGVySGFuZGxlLmhlaWdodC8yKTsKICAgICAgfQogICAgfTsgCiAgICAvLyBkcmF3Q29tcG9zaXRlKCk7CiAgICAvLyByZWRyYXcgdGhlIGNvbXBvc2l0ZSBjYW52YXMgNjAgdGltZXMgLyBzZWNvbmQuIHdvdWxkIGxpa2UgdG8gdXNlIHJlcXVlc3RBbmltYXRpb25GcmFtZSwgCiAgICAvLyBidXQgaXQgcGF1c2VzIGlmIHRoZSBicm93c2VyIGlzIG9mZiBmb2N1cy4gCiAgICBzZXRJbnRlcnZhbChkcmF3Q29tcG9zaXRlLCAxMDAwLzYwKTsKCiAgICAvLyBzdGFydCBidWlsZGluZyB0aGUgbWVkaWEgcmVjb3JkZXIKICAgIC8vIGNhcHR1cmUgd2hhdCdzIGdvaW5nIG9uIGluIHRoZSByZW5kZXIgY2FudmFzIGFuZCB0aGUgbWljCiAgICBtYyA9IG5ldyBNZWRpYVJlY29yZGVyKGNhbnZhc1JlbmRlckhhbmRsZVN0cmVhbSwgeyB0eXBlOiBtY01pbWVUeXBlIH0pOwogICAgbWMub25zdGFydCA9ICgpID0+IHsKICAgICAgLy8gc3RhcnQgcmVjb3JkaW5nCiAgICAgIGNvbnNvbGUubG9nKCdtYyBvbnN0YXJ0Jyk7CiAgICB9CiAgICBtYy5vbnN0b3AgPSAoZSkgPT4gewogICAgICBjb25zb2xlLmxvZygnbWMgb25zdG9wJyk7CgogICAgICAvL2NvbGxlY3QgYWxsIGRhdGEgYW5kIGR1bXAgaXQKICAgICAgLy9jb25zdCBibG9iID0gbmV3IEJsb2IoY2h1bmtzLCB7dHlwZTogJ3ZpZGVvL3dlYm0nfSk7CiAgICAgIC8vIGVhY2ggYnJvd3NlciBoYXMgZGlmZmVyZW50IGlkZWEgd2hhdCBtaW1lVHlwZSBpcyBzdXBwb3J0ZWQuIHNvIHNhZmFyaTogdmlkZW8vbXA0LCBmaXJlZm94ICYgY2hyb21lOiB2aWRlby93ZWJtCiAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihjaHVua3MsIHsgdHlwZTogbWNNaW1lVHlwZSB9KTsKICAgICAgY2h1bmtzID0gW107CgogICAgICAvL3B1dCB0aGUgYmxvYiBpbiBhIHZpZGVvIGdhbGxlcnkKICAgICAgY29uc29sZS5sb2coJ3B1c2hpbmcgbmV3IGJsb2Igd2l0aCBtZW1lVHlwZScsIG1jTWltZVR5cGUgKTsKICAgICAgdmFyIHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgIC8vIGNvbnNvbGUubG9nKCd1cmwnLCB1cmwpOwogICAgICB2YXIgdmlkZW9UYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpOwogICAgICB2aWRlb1RhZy5hdXRvcGxheSA9IHRydWU7CiAgICAgIHZpZGVvVGFnLmNvbnRyb2xzID0gdHJ1ZTsKICAgICAgdmlkZW9UYWcuaGVpZ2h0ID0gNDgwOwogICAgICB2aWRlb1RhZy53aWR0aCA9IDg1NDsKICAgICAgdmlkZW9UYWcuc3JjID0gdXJsOwoKICAgICAgLy9hbHdheXMgcmVwbGFjZSB3aGF0J3MgZXZlciBpbiB0aGUgcHJldmlldyBnYWxsZXJ5CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2aWRlby1wcmV2aWV3LWdhbGxlcnknKS50ZXh0Q29udGVudCA9ICcnOwogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdmlkZW8tcHJldmlldy1nYWxsZXJ5JykuYXBwZW5kQ2hpbGQodmlkZW9UYWcpOwoKCiAgICAgIC8vdHJpZ2dlciB0byBwdXNoIHZpZGVvIGNvbnRlbnQgdG8gcXVlc3Rpb25EZXRhaWxzLnpvb21NZWV0aW5ncwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGVhY2hlckNyZWF0ZUFzc2lnbm1lbnQvaGFuZGxlWm9vbVF1ZXN0aW9uJywgdXJsKTsKICAgICAgLy8gVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwoKICAgICAgLy8gZm9yIGRlYnVnLCB2aWRlbyBjb250ZW50IGZvciBkZWJ1Z2dpbmcKICAgICAgLy8gY29uc29sZS5sb2coJ3JlY29yZCB1cmwgZHVtcCcsIHVybCk7CiAgICB9CiAgICBtYy5vbmRhdGFhdmFpbGFibGUgPSAoZSkgPT4gewogICAgICAvLyBtb3ZlIGRhdGEgZnJvbSBidWZmZXIgdG8gYXJyYXkKICAgICAgY29uc29sZS5sb2coJ21jIG9uZGF0YWF2YWlsYWJsZScpOwoKICAgICAgLy9wdW1wIGRhdGEgaW4gdGhlIGNodW5rcyBhcnJheS4KICAgICAgY2h1bmtzLnB1c2goZS5kYXRhKTsKCiAgICAgIC8vIGFmdGVyIHN0b3AgYGRhdGFhdmlsYWJsZWAgZXZlbnQgcnVuIG9uZSBtb3JlIHRpbWUKICAgICAgaWYgKG1jLnN0YXRlID09PSAncmVjb3JkaW5nJykgewogICAgICAgICAgbWMuc3RvcCgpOwogICAgICB9CiAgICAgIHRoaXMuc3RhdHVzID0gIlJlY29yZGluZy4gUHVzaGluZyBkYXRhIHRvIGNhY2hlIC4uLiI7CiAgICB9CgogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgY3JlYXRlWm9vbU1lZXRpbmcoZSkgewogICAgICAvL2hhcHBlbnMgd2hlbiBjcmVhdGUgYSB6b29tIG1lZXRpbmcgY2xpY2tlZAoKICAgICAgY29uc29sZS5sb2coJ2NyZWF0ZSBhIHpvb20gbWVldGluZycpOwogICAgICB0aGlzLnN0YXR1cyA9ICJKb2luaW5nIG1lZXRpbmcgLi4uIgogICAgICBjbGllbnQuaW5pdCgnZW4tVVMnLCAnQ0ROJyk7CgogICAgICAvL2NyZWF0ZSBzZXNzaW9uCiAgICAgIC8vIDEuIGdlbmVyYXRlIGp3dAoKICAgICAgLy9jb25zb2xlLmxvZygnZ2VuZXJhdGUgand0Jyk7CiAgICAgIGNvbnN0IGlhdCA9IE1hdGgucm91bmQoKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gMzAwMDApIC8gMTAwMCkKICAgICAgY29uc3QgZXhwID0gaWF0ICsgNjAgKiA2MCAqIDIKCiAgICAgIGNvbnN0IG9IZWFkZXIgPSB7IGFsZzogJ0hTMjU2JywgdHlwOiAnSldUJyB9CgogICAgICBjb25zdCBvUGF5bG9hZCA9IHsKICAgICAgICBhcHBfa2V5OiBwcm9jZXNzLmVudi5WVUVfQVBQX1pPT01fVklERU9fU0RLX0tFWSwKICAgICAgICB0cGM6IHNlc3Npb25Ub3BpYywKICAgICAgICB2ZXJzaW9uOiAxLAogICAgICAgIHJvbGVfdHlwZTogMSwKICAgICAgICBpYXQ6IGlhdCwKICAgICAgICBleHA6IGV4cCwKICAgICAgICBwd2Q6IHNlc3Npb25QYXNzd29yZCwKICAgICAgfQoKICAgICAgY29uc3Qgc0hlYWRlciA9IEpTT04uc3RyaW5naWZ5KG9IZWFkZXIpCiAgICAgIGNvbnN0IHNQYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkob1BheWxvYWQpCiAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IEtKVVIuandzLkpXUy5zaWduKCdIUzI1NicsIHNIZWFkZXIsIHNQYXlsb2FkLCBwcm9jZXNzLmVudi5WVUVfQVBQX1pPT01fVklERU9fU0RLX1NFQ1JFVCk7CiAgICAgIC8vY29uc29sZS5sb2coJ3NpZ25hdHVyZTonLCBzaWduYXR1cmUpOwoKICAgICAgLy8gMi4gYWN0dWFsbHkgY3JlYXRlIHRoZSBzZXNzaW9uCiAgICAgIGNvbnNvbGUubG9nKCdjcmVhdGUgYSB6b29tIHNlc3Npb24nKTsKICAgICAgLy8gYXdhaXQgY2xpZW50LmpvaW4oJ3Nlc3Npb24nLCBzaWduYXR1cmUsICdlcndpbmthcmltQGdtYWlsLmNvbScsICdwYXNzd29yZCcpLnRoZW4oKHJlcykgPT4gewogICAgICBhd2FpdCBjbGllbnQuam9pbihzZXNzaW9uVG9waWMsIHNpZ25hdHVyZSwgdGhpcy4kc3RvcmUuc3RhdGUuYXV0aFVzZXIuZW1haWwsIHNlc3Npb25QYXNzd29yZCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgc3RyZWFtID0gY2xpZW50LmdldE1lZGlhU3RyZWFtKCk7CiAgICAgICAgY29uc29sZS5sb2coJ3JlcycsIHJlcyk7CiAgICAgICAgdGhpcy5zdGF0dXMgPSBgSm9pbiBzdWNjZXNzZnVsLiBTZXNzaW9uIElEOiAke3Nlc3Npb25Ub3BpY30sIFBhc3N3b3JkOiAke3Nlc3Npb25QYXNzd29yZH1gOwoKICAgICAgICAvKgogICAgICAgIGNvbnNvbGUubG9nKCdzdHJlYW0nLCBzdHJlYW0pOwogICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQnLCBjbGllbnQpOwogICAgICAgIGNvbnNvbGUubG9nKCdzZXNzaW9uSW5mbycsIGNsaWVudC5nZXRTZXNzaW9uSW5mbygpKTsKICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50aW5mbycsIGNsaWVudC5nZXRDdXJyZW50VXNlckluZm8oKS51c2VySWQpOwogICAgICAgICovCiAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgIHRoaXMuc3RhdHVzID0gIkpvaW4gRmFpbGVkLiBDaGVjayBpZiBhZC1ibG9ja2VyIGlzIGFjdGl2ZS4iOwogICAgICAgIGNvbnNvbGUubG9nKCdqb2luIGZhaWxlZDsgY2hlY2sgY29ubmVjdGlvbiBvciBhZC1ibG9ja3MnKTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgfSkKCiAgICAgIC8vIGV2ZW50IGxpc3RlbmVyIHRvIHNlZSB3aGVuIGRlc2t0b3AgU2FmYXJpIGF1ZGlvIGhhcyBiZWVuIGluaXRpYWxpemVkCiAgICAgIGNsaWVudC5vbignbWVkaWEtc2RrLWNoYW5nZScsIChwYXlsb2FkKSA9PiB7CiAgICAgICAgaWYgKHBheWxvYWQudHlwZSA9PT0gJ2F1ZGlvJyAmJiBwYXlsb2FkLnJlc3VsdCA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgICBpZiAocGF5bG9hZC5hY3Rpb24gPT09ICdlbmNvZGUnKSB7CiAgICAgICAgICAgIC8vIGVuY29kZSBmb3Igc2VuZGluZyBhdWRpbyBzdHJlYW0gKHNwZWFrKQogICAgICAgICAgICBzYWZhcmlBdWRpb0VuY29kZSA9IHRydWUKICAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5hY3Rpb24gPT09ICdkZWNvZGUnKSB7CiAgICAgICAgICAgIC8vIGRlY29kZSBmb3IgcmVjZWl2aW5nIGF1ZGlvIHN0cmVhbSAoaGVhcikKICAgICAgICAgICAgc2FmYXJpQXVkaW9EZWNvZGUgPSB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgaWYod2luZG93LnNhZmFyaSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAvLyBkZXNrdG9wIFNhZmFyaSwgY2hlY2sgaWYgZGVza3RvcCBTYWZhcmkgYXVkaW8gaGFzIGJlZW4gaW5pdGlhbGl6ZWQKICAgICAgICAgIGlmIChzYWZhcmlBdWRpb0VuY29kZSAmJiBzYWZhcmlBdWRpb0RlY29kZSkgewogICAgICAgICAgICAvLyBkZXNrdG9wIFNhZmFyaSBhdWRpbyBoYXMgYmVlbiBpbml0aWFsaXplZAogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIC8vIHRyeSB0byBzdGFydCBhdWRpbyBhdXRvbWF0aWNhbGx5IGluIFNhZmFyaQogICAgICAgICAgICAgIHN0cmVhbS5zdGFydEF1ZGlvKHsgYXV0b1N0YXJ0QXVkaW9JblNhZmFyaTogdHJ1ZSB9KQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgIC8vIHN0YXJ0aW5nIGF1ZGlvIGF1dG9tYXRpY2FsbHkgaW4gU2FmYXJpIGZhaWxlZCwgcmV0cnkgb3IgaGFuZGxlIGVycm9yCiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGRlc2t0b3AgU2FmYXJpIGF1ZGlvIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCwgcmV0cnkgb3IgaGFuZGxlIGVycm9yCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzYWZhcmkgYXVkaW8gaGFzIG5vdCBmaW5pc2hlZCBpbml0aWFsaXppbmcnKQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0pCgogICAgICBjb25zb2xlLmxvZygnam9pbiBzdWNjZXNzJyk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndGVhY2hlckNyZWF0ZUFzc2lnbm1lbnQvdG9nZ2xlSXNJblpvb21NZWV0aW5nJyk7CgogICAgICAvLyBkZXRlY3QgJ3N0b3Agc2hhcmluZycgY29udHJvbGxlZCBieSB0aGUgYnJvd3NlcgogICAgICBjbGllbnQub24oJ3Bhc3NpdmVseS1zdG9wLXNoYXJlJywgKHBheWxvYWQpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnZGV0ZWN0ZWQgc2NyZWVuIHNoYXJlIGlzIG9mZicsIHBheWxvYWQpOwogICAgICAgIHRoaXMudG9nZ2xlU2hhcmVTY3JlZW5CdXR0b24oKTsKICAgICAgfSk7CgogICAgfSwKICAgIGxlYXZlWm9vbU1lZXRpbmcoZSkgewogICAgICAvLyBzd2l0Y2ggb2ZmIGNhbWVyYSwgbWljLCBzY3JlZW4gc2hhcmUgYW5kIHJlY29yZGluZyBpZiB0aGV5IGFyZSBvbgogICAgICBpZih0aGlzLiRzdG9yZS5zdGF0ZS50ZWFjaGVyQ3JlYXRlQXNzaWdubWVudC5zdGF0ZXMuaXNWaWRlb09uKXsKICAgICAgICAgIHRoaXMudG9nZ2xlVmlkZW9CdXR0b24oKTsKICAgICAgfQogICAgICBpZih0aGlzLiRzdG9yZS5zdGF0ZS50ZWFjaGVyQ3JlYXRlQXNzaWdubWVudC5zdGF0ZXMuaXNNaWNPbil7CiAgICAgICAgdGhpcy50b2dnbGVNaWNCdXR0b24oKTsKICAgICAgfQogICAgICBpZih0aGlzLiRzdG9yZS5zdGF0ZS50ZWFjaGVyQ3JlYXRlQXNzaWdubWVudC5zdGF0ZXMuaXNTY3JlZW5TaGFyZSl7CiAgICAgICAgdGhpcy50b2dnbGVTaGFyZVNjcmVlbkJ1dHRvbigpOwogICAgICB9CiAgICAgIGlmKHRoaXMuJHN0b3JlLnN0YXRlLnRlYWNoZXJDcmVhdGVBc3NpZ25tZW50LnN0YXRlcy5pc1JlY29yZGluZyl7CiAgICAgICAgdGhpcy5zdG9wUmVjb3JkaW5nKCk7CiAgICAgIH0KCiAgICAgIC8vIGxlYXZlIHpvb20gbWVldGluZwogICAgICBjbGllbnQubGVhdmUodHJ1ZSk7CgogICAgICBjb25zb2xlLmxvZygnbGVhdmUgc3VjY2VzcycpOwogICAgICB0aGlzLnN0YXR1cyA9ICJMZWZ0IHRoZSBtZWV0aW5nLiI7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndGVhY2hlckNyZWF0ZUFzc2lnbm1lbnQvdG9nZ2xlSXNJblpvb21NZWV0aW5nJyk7CiAgICB9LAogICAgYXN5bmMgdG9nZ2xlVmlkZW9CdXR0b24oKSB7CiAgICAgIHZhciB2aWRlb1N0YXRlID0gdGhpcy4kc3RvcmUuc3RhdGUudGVhY2hlckNyZWF0ZUFzc2lnbm1lbnQuc3RhdGVzLmlzVmlkZW9PbjsKCiAgICAgIGlmICh2aWRlb1N0YXRlKXsKICAgICAgICAvLyB2aWRlbyBpcyBvbiwgc3RvcCB2aWRlbwogICAgICAgIHRoaXMuc3RhdHVzID0gJ0NhbWVyYSB0dXJuZWQgb2ZmJzsKICAgICAgICBzdHJlYW0uc3RvcFZpZGVvKCk7CiAgICAgICAgY2FudmFzUmVuZGVySGFuZGxlQ3R4LmNsZWFyUmVjdCgwLDAsIGNhbnZhc1JlbmRlckhhbmRsZS53aWR0aCwgY2FudmFzUmVuZGVySGFuZGxlLmhlaWdodCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gdmlkZW8gaXMgb2ZmLCBzdGFydCB2aWRlbwogICAgICAgIHRoaXMuc3RhdHVzID0gJ0NhbWVyYSB0dXJuZWQgb24nOwoKICAgICAgICBjb25zb2xlLmxvZygnY2hlY2tpbmcgU2hhcmVkQXJyYXlCdWZmZXInLCB0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIpOwogICAgICAgIGlmKCEhd2luZG93LmNocm9tZSAmJiAhKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJykpIHsKICAgICAgICAvLyBpZighKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJykpIHsKICAgICAgICAgIC8vIGlmIGRlc2t0b3AgQ2hyb21lIG9yIEVkZ2UgKENocm9taXVtKSB3aXRoIFNoYXJlZEFycmF5QnVmZmVyIG5vdCBlbmFibGVkCiAgICAgICAgICBjb25zb2xlLmxvZygnc2l0ZSBpcyBjaHJvbWUgYW5kIHcvbyBTaGFyZWRBcnJheUJ1ZmZlcicpOwogICAgICAgICAgY29uc29sZS5sb2coJ3RyeWluZyB0byBwdXQgdmlkZW8gb24gJywgY2FudmFzSGFuZGxlcik7CgogICAgICAgICAgc3RyZWFtLnN0YXJ0VmlkZW8oeyB2aWRlb0VsZW1lbnQ6IGNhbnZhc0hhbmRsZXIgfSk7CgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBhbGwgb3RoZXIgYnJvd3NlcnMgYW5kIGRlc2t0b3AgQ2hyb21lIG9yIEVkZ2UgKENocm9taXVtKSB3aXRoIFNoYXJlZEFycmF5QnVmZmVyIGVuYWJsZWQKCiAgICAgICAgICBjb25zb2xlLmxvZygnb3RoZXIgYnJvd3NlcnMgb3IgY2hyb21lIHcvIFNoYXJlZEFycmF5QnVmZmVyJykKICAgICAgICAgIGNvbnNvbGUubG9nKCd0cnlpbmcgdG8gcHV0IHZpZGVvIG9uICcsIGNhbnZhc0hhbmRsZXIpOwoKICAgICAgICAgIC8qCiAgICAgICAgICBzdHJlYW0uc3RhcnRWaWRlbygoKSA9PiB7CiAgICAgICAgICAgIHN0cmVhbS5yZW5kZXJWaWRlbyhjYW52YXNIYW5kbGVyLCBjbGllbnQuZ2V0Q3VycmVudFVzZXJJbmZvKCkudXNlcklkLCAzMDAsIDIwMCwgMCwgMCwgMyk7CiAgICAgICAgICB9KQogICAgICAgICAgKi8KICAgICAgICAgc3RyZWFtLnN0YXJ0VmlkZW8oKS50aGVuKCgpID0+IHsKICAgICAgICAgIHN0cmVhbS5yZW5kZXJWaWRlbyhjYW52YXNIYW5kbGVyLCBjbGllbnQuZ2V0Q3VycmVudFVzZXJJbmZvKCkudXNlcklkLAogICAgICAgICAgICBjYW52YXNIYW5kbGVyLndpZHRoLCBjYW52YXNIYW5kbGVyLmhlaWdodCwgMCwgMCwgMwogICAgICAgICAgKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3N1Y2Nlc2Z1bGx5IHJlbmRlcmVkIHZpZGVvJyk7CiAgICAgICAgICB9KS5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgcmVuZGVyIHZpZGVvJywgZSk7CiAgICAgICAgICB9KTsKICAgICAgICAgfSkKICAgICAgICB9CgogICAgICAgIGNhbnZhc1JlbmRlckhhbmRsZS53aWR0aCA9IGNhbnZhc0hhbmRsZXIud2lkdGg7CiAgICAgICAgY2FudmFzUmVuZGVySGFuZGxlLmhlaWdodCA9IGNhbnZhc0hhbmRsZXIuaGVpZ2h0OwogICAgICB9CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndGVhY2hlckNyZWF0ZUFzc2lnbm1lbnQvdG9nZ2xlVmlkZW8nKTsKICAgIH0sCiAgICBhc3luYyB0b2dnbGVTaGFyZVNjcmVlbkJ1dHRvbihlKSB7CiAgICAgIC8qCiAgICAgICAgaGF2ZSB0byBmaWd1cmUgb3V0IGhvdyB0byBkbyBQaVAgd2hlbiBzdGFydGluZyBib3RoIHZpZGVvIGFuZCBzaGFyZSBzY3JlZW4uCiAgICAgICAgLSBzZWUgaWYgaSBjYW4gdXNlIHJlbmRlclZpZGVvIGZuIHRvIGRvIHRoaXMuCiAgICAgICovCiAgICAgIGNvbnNvbGUubG9nKCd0b2dnbGUgc2hhcmUgc2NyZWVuIGJ1dHRvbiBwcmVzc2VkJyk7CgogICAgICB2YXIgc2NyZWVuU2hhcmVTdGF0ZSA9IHRoaXMuJHN0b3JlLnN0YXRlLnRlYWNoZXJDcmVhdGVBc3NpZ25tZW50LnN0YXRlcy5pc1NjcmVlblNoYXJlOwoKICAgICAgaWYgKHNjcmVlblNoYXJlU3RhdGUpIHsKICAgICAgICBjb25zb2xlLmxvZygndHVybmluZyBzY3JlZW4gc2hhcmUgb2ZmJyk7CiAgICAgICAgLy8gc2NyZWVuIHNoYXJlIGlzIG9uLCB0b2dnbGUgb2ZmCiAgICAgICAgc3RyZWFtLnN0b3BTaGFyZVNjcmVlbigpOwogICAgICAgIGNhbnZhc1JlbmRlckhhbmRsZUN0eC5jbGVhclJlY3QoMCwwLCBjYW52YXNSZW5kZXJIYW5kbGUud2lkdGgsIGNhbnZhc1JlbmRlckhhbmRsZS5oZWlnaHQpOwogICAgICAgIHRoaXMuc3RhdHVzID0gJ1NjcmVlbiBzaGFyZSB0dXJuZWQgb2ZmJzsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBzY3JlZW4gc2hhcmUgaXMgb2ZmLCB0b2dnbGUgb24KICAgICAgICBjb25zb2xlLmxvZygnc3RhcnRpbmcgc2NyZWVuIHNoYXJlIG9uJywgc2NyZWVuSGFuZGxlcik7CiAgICAgICAgc3RyZWFtLnN0YXJ0U2hhcmVTY3JlZW4oc2NyZWVuSGFuZGxlcikudGhlbigoKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhgc2V0dGluZyB0aGUgcmVuZGVyIHNjcmVlbiB0byAke3NjcmVlbkhhbmRsZXIud2lkdGh9IHggJHtzY3JlZW5IYW5kbGVyLmhlaWdodH1gKQogICAgICAgICAgaWYoc2NyZWVuSGFuZGxlci53aWR0aCA9PSAwKSB7CiAgICAgICAgICAgIGNhbnZhc1JlbmRlckhhbmRsZS53aWR0aD0xMDI0OwogICAgICAgICAgICBjYW52YXNSZW5kZXJIYW5kbGUuaGVpZ2h0PTgwMDsKCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjYW52YXNSZW5kZXJIYW5kbGUud2lkdGggPSBzY3JlZW5IYW5kbGVyLndpZHRoOwogICAgICAgICAgICBjYW52YXNSZW5kZXJIYW5kbGUuaGVpZ2h0ID0gc2NyZWVuSGFuZGxlci5oZWlnaHQ7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzaGFyaW5nIHNjcmVlbicsIGUpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuc3RhdHVzID0gJ1NjcmVlbiBzaGFyZSB0dXJuZWQgb24nOwoKICAgICAgfQoKICAgICAgLy8gdXBkYXRlIHRoZSB0b2dnbGUgc3RhdGUKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd0ZWFjaGVyQ3JlYXRlQXNzaWdubWVudC90b2dnbGVTaGFyZVNjcmVlbicpOwoKICAgIH0sCiAgICBhc3luYyB0b2dnbGVNaWNCdXR0b24oZSl7CiAgICAgIGNvbnNvbGUubG9nKCd0b2dnbGUgdGhlIG1pYycpOwoKICAgICAgdmFyIG1pY1N0YXRlID0gdGhpcy4kc3RvcmUuc3RhdGUudGVhY2hlckNyZWF0ZUFzc2lnbm1lbnQuc3RhdGVzLmlzTWljT247CgogICAgICBpZiAobWljU3RhdGUpIHsKICAgICAgICAvLyBtaWMgaXMgb24sIHR1cm4gaXQgb2ZmCiAgICAgICAgc3RyZWFtLnN0b3BBdWRpbygpOwogICAgICAgIG1pY1RyYWNrLmdldEF1ZGlvVHJhY2tzKClbMF0uZW5hYmxlZCA9IGZhbHNlOwogICAgICAgIGNhbnZhc1JlbmRlckhhbmRsZUN0eC5jbGVhclJlY3QoMCwwLCBjYW52YXNSZW5kZXJIYW5kbGUud2lkdGgsIGNhbnZhc1JlbmRlckhhbmRsZS5oZWlnaHQpOwogICAgICAgIHRoaXMuc3RhdHVzID0gJ01pY3JvcGhvbmUgaXMgdHVybmVkIG9mZic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gbWljIGlzIG9mZiwgdHVybiBpdCBvbgogICAgICAgIHN0cmVhbS5zdGFydEF1ZGlvKCk7CiAgICAgICAgbWljVHJhY2suZ2V0QXVkaW9UcmFja3MoKVswXS5lbmFibGVkID0gdHJ1ZTsKICAgICAgICB0aGlzLnN0YXR1cyA9ICdNaWNyb3Bob25lIGlzIHR1cm5lZCBvbic7CiAgICAgIH0KCiAgICAgIC8vIHRvZ2dsZSB0aGUgbWljIHN0YXRlCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndGVhY2hlckNyZWF0ZUFzc2lnbm1lbnQvdG9nZ2xlTWljJyk7CiAgICB9LAogICAgYXN5bmMgc3RhcnRSZWNvcmRpbmcoKXsKICAgICAgY29uc29sZS5sb2coJ3N0YXJ0IHJlY29yZCcpOwoKICAgICAgbWMuc3RhcnQoKTsKCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndGVhY2hlckNyZWF0ZUFzc2lnbm1lbnQvdG9nZ2xlUmVjb3JkaW5nJyk7CiAgICAgIHRoaXMuc3RhdHVzID0gJ1JlY29yZGluZyBzdGFydGVkJzsKICAgIH0sCiAgICBzdG9wUmVjb3JkaW5nKCl7CiAgICAgIGNvbnNvbGUubG9nKCdzdG9wIHJlY29yZCcpOwoKICAgICAgbWMuc3RvcCgpOwoKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd0ZWFjaGVyQ3JlYXRlQXNzaWdubWVudC90b2dnbGVSZWNvcmRpbmcnKTsKICAgICAgdGhpcy5zdGF0dXMgPSAnUmVjb3JkaW5nIHN0b3BwZWQnOwogICAgfSwKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENyb3BJY29uLCBQZW5JY29uLCBDYW1lcmFJY29uLCBUcmFzaEljb24sIEljb25CYXNlVHdvLAogICAgVnVlQ3JvcHBlciwgUGhvbmVJY29uLCBQbHVzSWNvbiwgQXJyb3dSaWdodEljb24sIFpvb21JY29uLAogICAgTWljcm9waG9uZUljb24sIE1pY3JvcGhvbmVTbGFzaEljb24sIFN0b3BJY29uLCBDaXJjbGVJY29uLCBQZXJzb25Ub0Rvb3JJY29uLCAKICAgIERpc3BsYXlJY29uLCBEaXNwbGF5U2xhc2hJY29uLCBWaWRlb0ljb24sIFZpZGVvU2xhc2hJY29uLAogIH0sCgp9OwoK"},{"version":3,"sources":["ZoomQuestionForm.vue"],"names":[],"mappings":";AAuLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"ZoomQuestionForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <!-- FORM: Zoom Question -->\n    <div v-if=\"$store.state.teacherCreateAssignment.states.isCreatingZoomQuestion\">\n      <p>Works best in Google Chrome. Some features may not be available in other browsers.</p>\n\n      <!-- Join / leave meeting -->\n      <div class=\"flex -mx-1 mb-4\" >\n        <div class=\"px-1 w-1/2 h-28\">\n          <button @click=\"createZoomMeeting\"\n            class=\"mt-2 w-full text-lg font-normal leading-tight rounded-md border border-none appearance-none bg-gray-secondary text-purple-secondary focus:outline-none focus:shadow-outline\"\n          >\n            <div class=\"flex col-span-1 row-span-1 justify-center py-4\">\n              <icon-base-two class=\"w-12\">\n                <phone-icon class=\"w-12\"/>\n              </icon-base-two>\n            </div>\n            <div class=\"flex col-span-1 row-span-2 justify-center py-2\">\n              Join\n            </div>\n          </button>\n        </div>\n        <div class=\"px-1 w-1/2 h-28\">\n          <button @click=\"leaveZoomMeeting\"\n                  class=\"mt-2 w-full text-lg font-normal leading-tight rounded-md border border-none appearance-none bg-gray-secondary text-purple-secondary focus:outline-none focus:shadow-outline\"\n          >\n            <div class=\"flex col-span-1 row-span-1 justify-center py-4\">\n              <icon-base-two class=\"w-12\">\n                <person-to-door-icon class=\"w-12\"/>\n              </icon-base-two>\n            </div>\n            <div class=\"flex col-span-1 row-span-2 justify-center py-2\">\n              Leave\n            </div>\n          </button>\n        </div>\n      </div>\n\n      <!-- Status Bar -->\n      <div class=\"flex -mx-1 mb-4\" >\n        <div class=\"py-2 mt-2 w-full text-lg font-normal leading-tight rounded-md border border-none appearance-none bg-gray-secondary text-purple-secondary focus:outline-none focus:shadow-outline\">\n          Status: {{ status }}\n        </div>\n\n      </div>\n\n      <!-- video canvas -->\n      <p>Video panel</p>\n      <div class=\"flex -mx-1 mb-4\" >\n        <div id=\"the-view\" class=\"px-1 w-full\">\n        </div>\n      </div>\n\n      <p>Audio Waveform</p>\n      <div class=\"flex -mx-1 mb-4\">\n        <canvas id=\"the-audio\" class=\"px-1 w-full border-2 border-solid\"> </canvas>\n      </div>\n\n      <!-- screen share  video test -->\n      <p>Screen Share Panel</p>\n      <div class=\"flex -mx-1 mb-4\">\n        <div id=\"the-screen\" class=\"px-1 w-full\">\n        </div>\n      </div>\n\n      <!-- final render test -->\n      <p>Final render test</p>\n      <div class=\"flex -mx-1 mb-4\">\n        <canvas width=\"300\" height=\"150\" id=\"canvas-render\" class=\"border-2 border-black h-auto h-20 w-full md:w-screen max-w-xl \"></canvas>\n      </div>\n\n      <!-- camera and mic controls -->\n      <div class=\"flex -mx-1 mb-4\" >\n        <div class=\"px-1 w-1/3 h-28\">\n          <button @click=\"toggleVideoButton\"\n            id=\"video-button\"\n            class=\"mt-2 w-full text-lg font-normal leading-tight rounded-md border border-none appearance-none bg-gray-secondary text-purple-secondary focus:outline-none focus:shadow-outline\"\n            :disabled=\"!$store.getters['teacherCreateAssignment/hasZoomMeeting']\"\n          >\n            <div class=\"flex col-span-1 row-span-1 justify-center py-4\">\n              <icon-base-two class=\"w-12\">\n                <video-icon v-if=\"$store.state.teacherCreateAssignment.states.isVideoOn\" class=\"w-12\" />\n                <video-slash-icon v-else class=\"w-12\" />\n              </icon-base-two>\n            </div>\n            <div class=\"flex col-span-1 row-span-2 justify-center py-2\">\n              Camera\n            </div>\n          </button>\n        </div>\n        <div class=\"px-1 w-1/3 h-28\">\n          <button @click=\"toggleMicButton\"\n            id=\"mic-button\"\n            class=\"mt-2 w-full text-lg font-normal leading-tight rounded-md border border-none appearance-none bg-gray-secondary text-purple-secondary focus:outline-none focus:shadow-outline\"\n            :disabled=\"!$store.getters['teacherCreateAssignment/hasZoomMeeting']\"\n          >\n            <div class=\"flex col-span-1 row-span-1 justify-center py-4\">\n              <icon-base-two class=\"w-12\">\n                <microphone-icon v-if=\"$store.state.teacherCreateAssignment.states.isMicOn\" class=\"w-12\"/>\n                <microphone-slash-icon v-else class=\"w-12\"/>\n              </icon-base-two>\n            </div>\n            <div class=\"flex col-span-1 row-span-2 justify-center py-2\">\n              Microphone \n            </div>\n          </button>\n        </div>\n        <div class=\"px-1 w-1/3 h-28\">\n          <button @click=\"toggleShareScreenButton\"\n            id=\"screen-button\"\n            class=\"mt-2 w-full text-lg font-normal leading-tight rounded-md border border-none appearance-none bg-gray-secondary text-purple-secondary focus:outline-none focus:shadow-outline\"\n            :disabled=\"!$store.getters['teacherCreateAssignment/hasZoomMeeting']\"\n          >\n            <div class=\"flex col-span-1 row-span-1 justify-center py-4\">\n              <icon-base-two class=\"w-12\">\n                <display-icon v-if=\"$store.state.teacherCreateAssignment.states.isScreenShare\" class=\"w-12\" />\n                <display-slash-icon v-else class=\"w-12\"/>\n              </icon-base-two>\n            </div>\n            <div class=\"flex col-span-1 row-span-2 justify-center py-2\">\n              Screen\n            </div>\n          </button>\n        </div>\n      </div>\n\n      <!-- recording controls -->\n      <div class=\"flex -mx-1 mb-4\" >\n        <div class=\"px-1 w-1/2 h-28\">\n          <button @click=\"startRecording\"\n            class=\"mt-2 w-full text-lg font-normal leading-tight rounded-md border border-none appearance-none bg-gray-secondary text-purple-secondary focus:outline-none focus:shadow-outline\"\n            :disabled=\"!$store.getters['teacherCreateAssignment/hasZoomMeeting'] || $store.getters['teacherCreateAssignment/hasZoomRecording']\"\n          >\n            <div class=\"flex col-span-1 row-span-1 justify-center py-4\" :class=\"{ 'text-red-500': $store.getters['teacherCreateAssignment/hasZoomRecording'] }\">\n              <icon-base-two class=\"w-12\">\n                <circle-icon class=\"w-12\"/>\n              </icon-base-two>\n            </div>\n            <div class=\"flex col-span-1 row-span-2 justify-center py-2\">\n              Rec Start\n            </div>\n          </button>\n        </div>\n        <div class=\"px-1 w-1/2 h-28\">\n          <button @click=\"stopRecording\"\n            class=\"mt-2 w-full text-lg font-normal leading-tight rounded-md border border-none appearance-none bg-gray-secondary text-purple-secondary focus:outline-none focus:shadow-outline\"\n            :disabled=\"!$store.getters['teacherCreateAssignment/hasZoomMeeting'] || !$store.getters['teacherCreateAssignment/hasZoomRecording']\"\n          >\n            <div class=\"flex col-span-1 row-span-1 justify-center py-4\">\n              <icon-base-two class=\"w-12\">\n                <stop-icon class=\"w-12\"/>\n              </icon-base-two>\n            </div>\n            <div class=\"flex col-span-1 row-span-2 justify-center py-2\">\n              Rec Stop\n            </div>\n          </button>\n        </div>\n      </div>\n\n\n      <!-- recording gallery-->\n      <div class=\"flex -mx-1 mb-4\" >\n        <p>recording gallery here</p>\n      </div>\n      <div id=\"video-preview-gallery\" class=\"flex -mx-1 mb-4\" >\n        <div v-if=\"$store.state.teacherCreateAssignment.creatingQuestionDetails.zoomMeetings\">\n          <video\n            width=\"854\" height=\"480\"\n            controls=\"\" :src=\"$store.state.teacherCreateAssignment.creatingQuestionDetails.zoomMeetings\">\n          </video>\n        </div>\n      </div>\n\n      <div class=\"flex -mx-1 mb-4\" >\n        <p>A session by {{ $store.state.authUser.fullname }} ({{ $store.state.authUser.email }}). Session topic: {{ sessionTopic }} / session pasword: {{ sessionPassword }}</p>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport TrashIcon from \"@/components/icons/TrashIcon\";\nimport CameraIcon from \"@/components/icons/CameraIcon\";\nimport PenIcon from \"@/components/icons/PenIcon\";\nimport CropIcon from \"@/components/icons/CropIcon\";\nimport PhoneIcon from \"@/components/icons/PhoneIcon\";\nimport PlusIcon from \"@/components/icons/PlusIcon\";\nimport ArrowRightIcon from \"@/components/icons/ArrowRightIcon\";\nimport ZoomIcon from \"@/components/icons/ZoomIcon\";\nimport MicrophoneIcon from \"@/components/icons/MicrophoneIcon\";\nimport MicrophoneSlashIcon from \"@/components/icons/MicrophoneSlashIcon\";\nimport StopIcon from \"@/components/icons/StopIcon\";\nimport CircleIcon from \"@/components/icons/CircleIcon\";\nimport PersonToDoorIcon from \"@/components/icons/PersonToDoorIcon\";\nimport DisplayIcon from \"@/components/icons/DisplayIcon\";\nimport DisplaySlashIcon from \"@/components/icons/DisplaySlashIcon\";\nimport VideoIcon from \"@/components/icons/VideoIcon\";\nimport VideoSlashIcon from \"@/components/icons/VideoSlashIcon\";\nimport VueCropper from 'vue-cropperjs';\nimport 'cropperjs/dist/cropper.css';\nimport ZoomVideo from '@zoom/videosdk';\nimport KJUR from 'jsrsasign';\n\nconst genRanHex = size => [...Array(size)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\nlet stream; // zoom stream\nconst client = ZoomVideo.createClient(); // zoom client\n\nlet canvasHandler = null; // canvas / video tag to be loaded to show video cam\nlet screenHandler = null; // canvas / video tag to show screen share\nlet audioCanvas = null;\nlet audioCanvasCtx = null;\n\nlet mcstream = null; // canvas stream\nlet mc = null; // local media record to record zoom stream (theorically)\nlet mcMimeType = !!window.safari ? \"video/mp4\" : \"video/webm\";\nlet ms = null; // local media stream representing the canvas/video\nlet micTrack = null; // local media stream representing user's mic\nlet chunks = [];\nlet safariAudioDecode;\nlet safariAudioEncode;\nlet sessionTopic = genRanHex(6);\nlet sessionPassword = genRanHex(6);\n\n// final rending place\nlet canvasRenderHandle = null;\nlet canvasRenderHandleStream = null;\nlet canvasRenderHandleCtx = null; \n\n/*\n  some issues / features\n  1. picture-in-picture when starting zoom & share screen\n  2. mic feedback problem on chrome\n    - problem when starting recording\n  3. scope display when recording only sound\n  4. media recorder state, something get lost after a recording session.\n\n  // new plan: rebuilding the mediarecorder and zoom controls\n  1. mediarecorder needs streams \n  2. tie video/canvas tag to stream, record anything on that\n  3. tie mic as a new stream, record anything on that. (find if can resolve the feedback problem)\n*/\n\nexport default {\n  name: \"ZoomQuestionForm\",\n  data () {\n    return { status: 'Ready', sessionTopic, sessionPassword };\n  }, \n  async updated() { \n    // called everytime the form gets updated. wanted to do mounted, but that will only called once.\n\n    console.log('ZoomQuestionForm updated');\n    console.log(`Using Zoom VIDEO SDK version ${ZoomVideo.VERSION}`);\n\n    /*\n      plan: \n      - check if canvas is there; if not there:\n      - to add canvas(es) or video tag based on browser\n      - setup audio waveform draw fn\n      - setup composite draw fn\n      - setup media recorder to record the composite canvas / mic\n    */\n\n    // if there already there, skip checking\n    let canvasCheck = document.querySelector('#self-view-canvas');\n    let videoCheck = document.querySelector('#self-view-video');\n\n\n    // check if canvas is already there, if already there, skip the rest of the step \n    if(canvasCheck !== null || videoCheck !== null){\n      return;\n    }\n\n    // ---- SETUP THE CANVAS / MEDIA RECORDER IF IT'S NOT THERE ----\n\n    // setup the composite canvas , which will be later use for recording.\n    canvasRenderHandle = document.querySelector('#canvas-render');\n    canvasRenderHandleCtx = canvasRenderHandle.getContext('2d');\n    canvasRenderHandleStream = canvasRenderHandle.captureStream();\n\n    // add video / canvas tag based on browser and there's shared array buffer disabled\n    let theView = document.querySelector('#the-view')\n    //if(!!window.chrome && !(typeof SharedArrayBuffer === 'function')){\n    /*\n    if(navigator.userAgent.toLowerCase().indexOf('firefox') > -1){\n      // debug: trying to force firefox to use canvas\n      canvasHandler = document.createElement('canvas');\n      canvasHandler.id='self-view-canvas';\n    } else if(typeof SharedArrayBuffer === 'function'){\n    */\n    if(typeof SharedArrayBuffer === 'function'){\n      // have shared array buffer enabled\n      canvasHandler = document.createElement('canvas');\n      canvasHandler.id='self-view-canvas';\n    } else {\n      // doesn't have shared array buffer enable (like chrome)\n      canvasHandler = document.createElement('video');\n      canvasHandler.id='self-view-video';\n    }\n    canvasHandler.height='325';\n    canvasHandler.width='576';\n    canvasHandler.className='border-2 border-black h-auto h-20 w-full md:w-screen max-w-xl';\n    theView.textContent = '';\n    theView.appendChild(canvasHandler);\n\n    // add video / canvas tag for the screen share based on browser\n    let theScreen = document.querySelector('#the-screen');\n    if(!!window.chrome){\n      screenHandler = document.createElement('video');\n      screenHandler.id = 'screen-share-video';\n    } else {\n      screenHandler = document.createElement('canvas');\n      screenHandler.id = 'screen-share-canvas';\n      screenHandler.onplay = () => {\n        console.log('screen share detected');\n      }\n    }\n    screenHandler.className='border-2 border-black h-auto h-20 w-full md:w-screen max-w-xl';\n    theScreen.appendChild(screenHandler);\n\n    // test: capture everything from share screen video / canvas\n    // canvasRenderHandleStream = screenHandler.captureStream();\n\n    // capture the mic, and put it in a audioContext, so we can analyse and draw\n    // also, put the stream in the final render stream, so can record things. \n    const audioContext = new AudioContext();\n    micTrack = await navigator.mediaDevices.getUserMedia({ audio: true });\n    micTrack.getAudioTracks()[0].enabled = false;\n    canvasRenderHandleStream.addTrack(micTrack.getAudioTracks()[0]);\n\n    const source = audioContext.createMediaStreamSource(micTrack)\n    const analyser = audioContext.createAnalyser();\n    analyser.fftSize = 2048;\n\n    const bufferLength = analyser.frequencyBinCount;\n    const dataArray = new Uint8Array(bufferLength);\n    analyser.getByteTimeDomainData(dataArray);\n\n    // Connect the source to be analysed\n    source.connect(analyser);\n\n    // canvas to draw the sound\n    audioCanvas = document.querySelector('#the-audio');\n    audioCanvasCtx = audioCanvas.getContext('2d');\n\n    // debug, check audio Context\n    // console.log('audioContext', audioContext);\n\n    // draw the waveform\n    function draw() {\n      requestAnimationFrame(draw);\n\n      analyser.getByteTimeDomainData(dataArray);\n\n      audioCanvasCtx.fillStyle = \"rgb(200, 200, 200)\";\n      audioCanvasCtx.fillRect(0, 0, audioCanvas.width, audioCanvas.height);\n\n      audioCanvasCtx.lineWidth = 2;\n      audioCanvasCtx.strokeStyle = \"rgb(0, 0, 0)\";\n\n      audioCanvasCtx.beginPath();\n\n      const sliceWidth = (audioCanvas.width * 1.0) / bufferLength;\n      let x = 0;\n\n      for (let i = 0; i < bufferLength; i++) {\n        const v = dataArray[i] / 128.0;\n        const y = (v * audioCanvas.height) / 2;\n\n        if (i === 0) {\n          audioCanvasCtx.moveTo(x, y);\n        } else {\n          audioCanvasCtx.lineTo(x, y);\n        }\n\n        x += sliceWidth;\n      }\n\n      audioCanvasCtx.lineTo(audioCanvas.width, audioCanvas.height / 2);\n      audioCanvasCtx.stroke();\n    }\n    draw();\n\n    // draw composite based on source canvas/video\n    let drawComposite = () => {\n      //requestAnimationFrame(drawComposite);\n\n      let micOn = this.$store.state.teacherCreateAssignment.states.isMicOn;\n      let videoOn = this.$store.state.teacherCreateAssignment.states.isVideoOn;\n      let screenShareOn = this.$store.state.teacherCreateAssignment.states.isScreenShare;\n\n      // clear the picture first\n      //canvasRenderHandleCtx.clearRect(0,0, canvasRenderHandle.width, canvasRenderHandle.height);\n\n      if (videoOn && !screenShareOn) {\n        // camera on, but not screen share\n        canvasRenderHandleCtx.drawImage(canvasHandler, 0,0, \n          canvasRenderHandle.width, canvasRenderHandle.height);\n      } else if (!videoOn && screenShareOn) {\n        // camera off, but screen is shared\n        // need to figure out a way that doesn't produced clipping when recording\n        // canvasRenderHandleCtx.drawImage(screenHandler, 0,0 , canvasRenderHandle.width, canvasRenderHandle.height)\n        //canvasRenderHandleCtx.drawImage(screenHandler, 0, 0);\n        canvasRenderHandleCtx.drawImage(screenHandler, 0,0 ,\n          canvasRenderHandle.width, canvasRenderHandle.height);\n      } else if (videoOn && screenShareOn) {\n        // both video and screen share is on, do PiP\n        // canvasRenderHandleCtx.clearRect(0,0, canvasRenderHandle.width, canvasRenderHandle.height);\n        canvasRenderHandleCtx.drawImage(screenHandler, 0,0 ,\n          canvasRenderHandle.width, canvasRenderHandle.height);\n        canvasRenderHandleCtx.drawImage(canvasHandler, \n          0,0, canvasHandler.width, canvasHandler.height,\n          canvasRenderHandle.width*3/4, canvasRenderHandle.height*3/4,\n          canvasRenderHandle.width/4, canvasRenderHandle.height/4\n        );\n      } else if (micOn && !videoOn && !screenShareOn) {\n        // only the mic is on\n        canvasRenderHandleCtx.drawImage(audioCanvas, \n          0,0, canvasRenderHandle.width, canvasRenderHandle.height\n        );\n      } else {\n        // default, no input\n        canvasRenderHandleCtx.fillText(\"NO INPUT\", canvasRenderHandle.width/2, canvasRenderHandle.height/2);\n      }\n    }; \n    // drawComposite();\n    // redraw the composite canvas 60 times / second. would like to use requestAnimationFrame, \n    // but it pauses if the browser is off focus. \n    setInterval(drawComposite, 1000/60);\n\n    // start building the media recorder\n    // capture what's going on in the render canvas and the mic\n    mc = new MediaRecorder(canvasRenderHandleStream, { type: mcMimeType });\n    mc.onstart = () => {\n      // start recording\n      console.log('mc onstart');\n    }\n    mc.onstop = (e) => {\n      console.log('mc onstop');\n\n      //collect all data and dump it\n      //const blob = new Blob(chunks, {type: 'video/webm'});\n      // each browser has different idea what mimeType is supported. so safari: video/mp4, firefox & chrome: video/webm\n      const blob = new Blob(chunks, { type: mcMimeType });\n      chunks = [];\n\n      //put the blob in a video gallery\n      console.log('pushing new blob with memeType', mcMimeType );\n      var url = URL.createObjectURL(blob);\n      // console.log('url', url);\n      var videoTag = document.createElement('video');\n      videoTag.autoplay = true;\n      videoTag.controls = true;\n      videoTag.height = 480;\n      videoTag.width = 854;\n      videoTag.src = url;\n\n      //always replace what's ever in the preview gallery\n      document.querySelector('#video-preview-gallery').textContent = '';\n      document.querySelector('#video-preview-gallery').appendChild(videoTag);\n\n\n      //trigger to push video content to questionDetails.zoomMeetings\n      this.$store.dispatch('teacherCreateAssignment/handleZoomQuestion', url);\n      // URL.revokeObjectURL(url);\n\n      // for debug, video content for debugging\n      // console.log('record url dump', url);\n    }\n    mc.ondataavailable = (e) => {\n      // move data from buffer to array\n      console.log('mc ondataavailable');\n\n      //pump data in the chunks array.\n      chunks.push(e.data);\n\n      // after stop `dataavilable` event run one more time\n      if (mc.state === 'recording') {\n          mc.stop();\n      }\n      this.status = \"Recording. Pushing data to cache ...\";\n    }\n\n  },\n  methods: {\n    async createZoomMeeting(e) {\n      //happens when create a zoom meeting clicked\n\n      console.log('create a zoom meeting');\n      this.status = \"Joining meeting ...\"\n      client.init('en-US', 'CDN');\n\n      //create session\n      // 1. generate jwt\n\n      //console.log('generate jwt');\n      const iat = Math.round((new Date().getTime() - 30000) / 1000)\n      const exp = iat + 60 * 60 * 2\n\n      const oHeader = { alg: 'HS256', typ: 'JWT' }\n\n      const oPayload = {\n        app_key: process.env.VUE_APP_ZOOM_VIDEO_SDK_KEY,\n        tpc: sessionTopic,\n        version: 1,\n        role_type: 1,\n        iat: iat,\n        exp: exp,\n        pwd: sessionPassword,\n      }\n\n      const sHeader = JSON.stringify(oHeader)\n      const sPayload = JSON.stringify(oPayload)\n      const signature = KJUR.jws.JWS.sign('HS256', sHeader, sPayload, process.env.VUE_APP_ZOOM_VIDEO_SDK_SECRET);\n      //console.log('signature:', signature);\n\n      // 2. actually create the session\n      console.log('create a zoom session');\n      // await client.join('session', signature, 'erwinkarim@gmail.com', 'password').then((res) => {\n      await client.join(sessionTopic, signature, this.$store.state.authUser.email, sessionPassword).then((res) => {\n        stream = client.getMediaStream();\n        console.log('res', res);\n        this.status = `Join successful. Session ID: ${sessionTopic}, Password: ${sessionPassword}`;\n\n        /*\n        console.log('stream', stream);\n        console.log('client', client);\n        console.log('sessionInfo', client.getSessionInfo());\n        console.log('clientinfo', client.getCurrentUserInfo().userId);\n        */\n      }).catch((error) => {\n        this.status = \"Join Failed. Check if ad-blocker is active.\";\n        console.log('join failed; check connection or ad-blocks');\n        console.log(error)\n      })\n\n      // event listener to see when desktop Safari audio has been initialized\n      client.on('media-sdk-change', (payload) => {\n        if (payload.type === 'audio' && payload.result === 'success') {\n          if (payload.action === 'encode') {\n            // encode for sending audio stream (speak)\n            safariAudioEncode = true\n          } else if (payload.action === 'decode') {\n            // decode for receiving audio stream (hear)\n            safariAudioDecode = true\n          }\n        };\n\n        if(window.safari !== undefined) {\n          // desktop Safari, check if desktop Safari audio has been initialized\n          if (safariAudioEncode && safariAudioDecode) {\n            // desktop Safari audio has been initialized\n            try {\n              // try to start audio automatically in Safari\n              stream.startAudio({ autoStartAudioInSafari: true })\n            } catch (error) {\n              // starting audio automatically in Safari failed, retry or handle error\n              console.log(error)\n            }\n          } else {\n            // desktop Safari audio has not been initialized, retry or handle error\n            console.log('safari audio has not finished initializing')\n          }\n        };\n      })\n\n      console.log('join success');\n      this.$store.commit('teacherCreateAssignment/toggleIsInZoomMeeting');\n\n      // detect 'stop sharing' controlled by the browser\n      client.on('passively-stop-share', (payload) => {\n        console.log('detected screen share is off', payload);\n        this.toggleShareScreenButton();\n      });\n\n    },\n    leaveZoomMeeting(e) {\n      // switch off camera, mic, screen share and recording if they are on\n      if(this.$store.state.teacherCreateAssignment.states.isVideoOn){\n          this.toggleVideoButton();\n      }\n      if(this.$store.state.teacherCreateAssignment.states.isMicOn){\n        this.toggleMicButton();\n      }\n      if(this.$store.state.teacherCreateAssignment.states.isScreenShare){\n        this.toggleShareScreenButton();\n      }\n      if(this.$store.state.teacherCreateAssignment.states.isRecording){\n        this.stopRecording();\n      }\n\n      // leave zoom meeting\n      client.leave(true);\n\n      console.log('leave success');\n      this.status = \"Left the meeting.\";\n      this.$store.commit('teacherCreateAssignment/toggleIsInZoomMeeting');\n    },\n    async toggleVideoButton() {\n      var videoState = this.$store.state.teacherCreateAssignment.states.isVideoOn;\n\n      if (videoState){\n        // video is on, stop video\n        this.status = 'Camera turned off';\n        stream.stopVideo();\n        canvasRenderHandleCtx.clearRect(0,0, canvasRenderHandle.width, canvasRenderHandle.height);\n      } else {\n        // video is off, start video\n        this.status = 'Camera turned on';\n\n        console.log('checking SharedArrayBuffer', typeof SharedArrayBuffer);\n        if(!!window.chrome && !(typeof SharedArrayBuffer === 'function')) {\n        // if(!(typeof SharedArrayBuffer === 'function')) {\n          // if desktop Chrome or Edge (Chromium) with SharedArrayBuffer not enabled\n          console.log('site is chrome and w/o SharedArrayBuffer');\n          console.log('trying to put video on ', canvasHandler);\n\n          stream.startVideo({ videoElement: canvasHandler });\n\n        } else {\n          // all other browsers and desktop Chrome or Edge (Chromium) with SharedArrayBuffer enabled\n\n          console.log('other browsers or chrome w/ SharedArrayBuffer')\n          console.log('trying to put video on ', canvasHandler);\n\n          /*\n          stream.startVideo(() => {\n            stream.renderVideo(canvasHandler, client.getCurrentUserInfo().userId, 300, 200, 0, 0, 3);\n          })\n          */\n         stream.startVideo().then(() => {\n          stream.renderVideo(canvasHandler, client.getCurrentUserInfo().userId,\n            canvasHandler.width, canvasHandler.height, 0, 0, 3\n          ).then(() => {\n            console.log('succesfully rendered video');\n          }).catch((e) => {\n            console.log('error render video', e);\n          });\n         })\n        }\n\n        canvasRenderHandle.width = canvasHandler.width;\n        canvasRenderHandle.height = canvasHandler.height;\n      }\n      this.$store.commit('teacherCreateAssignment/toggleVideo');\n    },\n    async toggleShareScreenButton(e) {\n      /*\n        have to figure out how to do PiP when starting both video and share screen.\n        - see if i can use renderVideo fn to do this.\n      */\n      console.log('toggle share screen button pressed');\n\n      var screenShareState = this.$store.state.teacherCreateAssignment.states.isScreenShare;\n\n      if (screenShareState) {\n        console.log('turning screen share off');\n        // screen share is on, toggle off\n        stream.stopShareScreen();\n        canvasRenderHandleCtx.clearRect(0,0, canvasRenderHandle.width, canvasRenderHandle.height);\n        this.status = 'Screen share turned off';\n      } else {\n        // screen share is off, toggle on\n        console.log('starting screen share on', screenHandler);\n        stream.startShareScreen(screenHandler).then(() => {\n          console.log(`setting the render screen to ${screenHandler.width} x ${screenHandler.height}`)\n          if(screenHandler.width == 0) {\n            canvasRenderHandle.width=1024;\n            canvasRenderHandle.height=800;\n\n          } else {\n            canvasRenderHandle.width = screenHandler.width;\n            canvasRenderHandle.height = screenHandler.height;\n          }\n        }).catch((e) => {\n          console.log('error sharing screen', e);\n        });\n        this.status = 'Screen share turned on';\n\n      }\n\n      // update the toggle state\n      this.$store.commit('teacherCreateAssignment/toggleShareScreen');\n\n    },\n    async toggleMicButton(e){\n      console.log('toggle the mic');\n\n      var micState = this.$store.state.teacherCreateAssignment.states.isMicOn;\n\n      if (micState) {\n        // mic is on, turn it off\n        stream.stopAudio();\n        micTrack.getAudioTracks()[0].enabled = false;\n        canvasRenderHandleCtx.clearRect(0,0, canvasRenderHandle.width, canvasRenderHandle.height);\n        this.status = 'Microphone is turned off';\n      } else {\n        // mic is off, turn it on\n        stream.startAudio();\n        micTrack.getAudioTracks()[0].enabled = true;\n        this.status = 'Microphone is turned on';\n      }\n\n      // toggle the mic state\n      this.$store.commit('teacherCreateAssignment/toggleMic');\n    },\n    async startRecording(){\n      console.log('start record');\n\n      mc.start();\n\n      this.$store.commit('teacherCreateAssignment/toggleRecording');\n      this.status = 'Recording started';\n    },\n    stopRecording(){\n      console.log('stop record');\n\n      mc.stop();\n\n      this.$store.commit('teacherCreateAssignment/toggleRecording');\n      this.status = 'Recording stopped';\n    },\n  },\n  components: {\n    CropIcon, PenIcon, CameraIcon, TrashIcon, IconBaseTwo,\n    VueCropper, PhoneIcon, PlusIcon, ArrowRightIcon, ZoomIcon,\n    MicrophoneIcon, MicrophoneSlashIcon, StopIcon, CircleIcon, PersonToDoorIcon, \n    DisplayIcon, DisplaySlashIcon, VideoIcon, VideoSlashIcon,\n  },\n\n};\n\n</script>\n\n<style scoped>\n\n</style>\n"]}]}