{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/components/AssignmentCalendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/components/AssignmentCalendar.vue","mtime":1680008048380},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVkNhbGVuZGFyIGZyb20gJ3YtY2FsZW5kYXInOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBBc3NpZ25tZW50UmVwb3NpdG9yeSBmcm9tICIuLi9yZXBvc2l0b3JpZXMvQXNzaWdubWVudFJlcG9zaXRvcnkiOwoKVnVlLnVzZShWQ2FsZW5kYXIpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBc3NpZ25tZW50Q2FsZW5kYXIiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXlzOiBbXSwKICAgICAgc2VsZWN0ZWREYXk6IFtdLAogICAgICBkYXRlOiBuZXcgRGF0ZSgpLAogICAgICBkdWVkYXRlczogW10sCgogICAgICBzZWxlY3RBdHRyaWJ1dGU6IHsKICAgICAgICBoaWdobGlnaHQ6ICd5ZWxsb3cnCiAgICAgICAgLy8gRG9uJ3QgbmVlZCB0aGUgZGF0ZSBoZXJlCiAgICAgIH0sCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICdzZWxlY3RlZERheScgOiAnZW1pdFNlbGVjdGVkRGF0ZScsCiAgfSwKICBjb21wdXRlZDogewogICAgZGF0ZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmRheXMubWFwKGRheSA9PiBkYXkuZGF0ZSk7CiAgICB9LAoKICAgIHRvZGF5RGF0ZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogbW9tZW50KCkuZm9ybWF0KCJZWVlZLU1NLUREIiksCiAgICAgICAgZGF0ZTogbW9tZW50KCkudG9EYXRlKCkKICAgICAgfQogICAgfSwKICAgIGF0dHJpYnV0ZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGVzLm1hcChkYXRlID0+ICh7CiAgICAgICAgaGlnaGxpZ2h0OiAodGhpcy50b2RheURhdGUuZGF0ZSA9PT0gZGF0ZSkgPyAnaW5kaWdvJzoncmVkJywKICAgICAgICBkYXRlczogZGF0ZSwKICAgICAgfSkpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25EYXlDbGljayhkYXkpIHsKICAgICAgY29uc3QgaWR4ID0gdGhpcy5zZWxlY3RlZERheS5maW5kSW5kZXgoZCA9PiBkLmlkID09PSBkYXkuaWQpOwogICAgICBpZiAoaWR4ID49IDApIHsKICAgICAgICB0aGlzLnNlbGVjdGVkRGF5LnNwbGljZShpZHgsIDEpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0ZWREYXkgPSBbewogICAgICAgICAgaWQ6IGRheS5pZCwKICAgICAgICAgIGRhdGU6IGRheS5kYXRlLAogICAgICAgIH1dCiAgICAgIH0KICAgIH0sCgogICAgZW1pdFNlbGVjdGVkRGF0ZSAoKSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkRGF5Lmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLiRlbWl0KCdzZWxlY3RlZERhdGUnLCB0aGlzLnNlbGVjdGVkRGF5WzBdWydkYXRlJ10pCiAgICAgIH0KICAgIH0sCgogICAgZ2V0RHVlZGF0ZXMgKCkgewogICAgICBBc3NpZ25tZW50UmVwb3NpdG9yeS5nZXREdWVEYXRlcygpCiAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewoKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGEKCiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsKCiAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gZGF0YVtpXTsKCiAgICAgICAgICAgICAgICAgIGxldCBpdGVtRGV0YWlsID0gewogICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmR1ZV9kYXRldGltZSwKICAgICAgICAgICAgICAgICAgICBkYXRlOiBtb21lbnQoU3RyaW5nKGl0ZW0uZHVlX2RhdGV0aW1lKSkudG9EYXRlKCkKCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgdGhpcy5kYXlzLnB1c2goaXRlbURldGFpbCkKICAgICAgICAgICAgICAgIH0KICAgICAgICB9KQogICAgfQoKICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyBTZXQgaW5pdGlhbCBkYXRlCiAgICB0aGlzLmRheXMucHVzaCh0aGlzLnRvZGF5RGF0ZSkKICAgIHRoaXMuc2VsZWN0ZWREYXkucHVzaCh0aGlzLnRvZGF5RGF0ZSkKCiAgICAvLyBHZXQgZHVlIGRhdGVzCiAgICB0aGlzLmdldER1ZWRhdGVzKCkKICB9Cn0K"},{"version":3,"sources":["AssignmentCalendar.vue"],"names":[],"mappings":";;;AAaA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"AssignmentCalendar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-date-picker is-expanded\n                 title-position=\"left\"\n                 v-model=\"date\"\n                 :attributes=\"attributes\"\n                 :select-attribute=\"selectAttribute\"\n                 @dayclick=\"onDayClick\"\n  />\n</template>\n\n<script>\n\n\nimport Vue from 'vue';\nimport VCalendar from 'v-calendar';\nimport moment from 'moment';\nimport AssignmentRepository from \"../repositories/AssignmentRepository\";\n\nVue.use(VCalendar);\n\nexport default {\n  name: \"AssignmentCalendar\",\n  data() {\n    return {\n      days: [],\n      selectedDay: [],\n      date: new Date(),\n      duedates: [],\n\n      selectAttribute: {\n        highlight: 'yellow'\n        // Don't need the date here\n      },\n    };\n  },\n  watch: {\n    'selectedDay' : 'emitSelectedDate',\n  },\n  computed: {\n    dates() {\n      return this.days.map(day => day.date);\n    },\n\n    todayDate() {\n      return {\n        id: moment().format(\"YYYY-MM-DD\"),\n        date: moment().toDate()\n      }\n    },\n    attributes() {\n      return this.dates.map(date => ({\n        highlight: (this.todayDate.date === date) ? 'indigo':'red',\n        dates: date,\n      }));\n    }\n  },\n  methods: {\n    onDayClick(day) {\n      const idx = this.selectedDay.findIndex(d => d.id === day.id);\n      if (idx >= 0) {\n        this.selectedDay.splice(idx, 1);\n      } else {\n        this.selectedDay = [{\n          id: day.id,\n          date: day.date,\n        }]\n      }\n    },\n\n    emitSelectedDate () {\n      if (this.selectedDay.length > 0) {\n        this.$emit('selectedDate', this.selectedDay[0]['date'])\n      }\n    },\n\n    getDuedates () {\n      AssignmentRepository.getDueDates()\n              .then(response => {\n\n                const data = response.data.data\n\n                for (let i = 0; i < data.length; i++) {\n\n                  let item = data[i];\n\n                  let itemDetail = {\n                    id: item.due_datetime,\n                    date: moment(String(item.due_datetime)).toDate()\n\n                  }\n                  this.days.push(itemDetail)\n                }\n        })\n    }\n\n  },\n  mounted() {\n    // Set initial date\n    this.days.push(this.todayDate)\n    this.selectedDay.push(this.todayDate)\n\n    // Get due dates\n    this.getDuedates()\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}