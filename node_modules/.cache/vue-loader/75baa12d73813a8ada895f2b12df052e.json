{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/students/StudentAssignments/Answer/AnswerEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/students/StudentAssignments/Answer/AnswerEdit.vue","mtime":1679379067245},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBEYXNoYm9hcmRMYXlvdXQgZnJvbSAiQC92aWV3cy9sYXlvdXQvRGFzaGJvYXJkTGF5b3V0IjsKaW1wb3J0IFBhZ2VIZWFkZXJUaHJlZSBmcm9tICJAL2NvbXBvbmVudHMvUGFnZUhlYWRlclRocmVlIjsKaW1wb3J0IE5hdkJhY2sgZnJvbSAiQC9jb21wb25lbnRzL05hdkJhY2siOwppbXBvcnQgSWNvbkJhc2VUd28gZnJvbSAiQC9jb21wb25lbnRzL0ljb25CYXNlVHdvIjsKaW1wb3J0IFRyYXNoSWNvbiBmcm9tICJAL2NvbXBvbmVudHMvaWNvbnMvVHJhc2hJY29uIjsKaW1wb3J0IFN1Ym1pc3Npb25SZXBvc2l0b3J5IGZyb20gIkAvcmVwb3NpdG9yaWVzL1N1Ym1pc3Npb25SZXBvc2l0b3J5IjsKaW1wb3J0IEFycm93QmFja0ljb24gZnJvbSAiQC9jb21wb25lbnRzL2ljb25zL0Fycm93QmFja0ljb24iOwppbXBvcnQgTW9kYWwgZnJvbSAiQC9jb21wb25lbnRzL01vZGFsIjsKCi8vIFZ1ZSBDcm9wcGVyCmltcG9ydCBWdWVDcm9wcGVyIGZyb20gJ3Z1ZS1jcm9wcGVyanMnOwppbXBvcnQgJ2Nyb3BwZXJqcy9kaXN0L2Nyb3BwZXIuY3NzJzsKCi8vIEZPTlQgQVdFU09NRQppbXBvcnQge0ZvbnRBd2Vzb21lSWNvbn0gZnJvbSAnQGZvcnRhd2Vzb21lL3Z1ZS1mb250YXdlc29tZScKaW1wb3J0IHtmYVRyYXNoLCBmYUNyb3BBbHR9IGZyb20gIkBmb3J0YXdlc29tZS9mcmVlLXNvbGlkLXN2Zy1pY29ucyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFuc3dlckVkaXQiLAogIHByb3BzOiB7CiAgICBzdWJtaXNzaW9uSUQ6IFtTdHJpbmcsIE51bWJlcl0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewoKICAgICAgLy8gU3RhdGVzCiAgICAgIGlzTWFpblBhZ2U6IHRydWUsCiAgICAgIGlzRWRpdGluZ1dyaXR0ZW5BbnN3ZXI6IGZhbHNlLAogICAgICBpc1ByZXZpZXdpbmdTbmFwcGVkQW5zd2VyOiBmYWxzZSwKICAgICAgaXNTaG93aW5nTW9kYWw6IGZhbHNlLAogICAgICBzdWJtaXNzaW9uU3RhdHVzOiBudWxsLAoKICAgICAgYmFja2VuZFN0b3JhZ2VQYXRoOiBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX0JBQ0tFTkRfU1RPUkFHRX0vc3VibWlzc2lvbnMvYCwKCiAgICAgIHNuYXBwZWRBbnN3ZXJzOiBbXSwKICAgICAgc25hcHBlZEFuc3dlclByZXZpZXdzOiBbXSwKCiAgICAgIGlzUHJldmlld2luZ1BhdGg6IG51bGwsCgogICAgICAvLyBFeGlzdGluZyBzbmFwcGVkIGFuc3dlcnMKICAgICAgZXhpc3RpbmdTbmFwcGVkQW5zd2VyczogW10sCiAgICAgIHJlbW92ZWRTbmFwcGVkQW5zd2VyczogW10sCiAgICAgIGFkZGVkU25hcHBlZEFuc3dlcnM6IFtdLAoKICAgICAgLy8gQ29tcGlsZWQgYW5zd2VyCiAgICAgIGFuc3dlcjogewogICAgICAgIHR5cGU6IG51bGwsCiAgICAgICAgY29udGVudDogbnVsbAogICAgICB9LAoKICAgICAgYXNzaWdubWVudERldGFpbHM6IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICB0aXRsZTogbnVsbAogICAgICB9LAoKICAgICAgbmV3QW5zd2VyOiBbXSwKICAgICAgcmVtYXJrczogbnVsbCwKCiAgICAgIC8vIEljb25zCiAgICAgIGljb25zOiB7CiAgICAgICAgY3JvcDogZmFDcm9wQWx0LAogICAgICAgIHRyYXNoOiBmYVRyYXNoCiAgICAgIH0sCgogICAgICAvLyBDYXRjaCBlcnJvcgogICAgICBlcnJvcnM6IG51bGwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBoYXNBbnN3ZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLmFuc3dlci50eXBlICE9PSBudWxsICYmIHRoaXMuYW5zd2VyLmNvbnRlbnQgIT09ICcnOwogICAgfSwKICAgIGlzV3JpdHRlbkFuc3dlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuYW5zd2VyLnR5cGUgPT09ICd3cml0dGVuJzsKICAgIH0sCiAgICBpc1NuYXBwZWRBbnN3ZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLmFuc3dlci50eXBlID09PSAnc25hcHBlZCc7CiAgICB9LAogICAgcGFnZVRpdGxlKCkgewogICAgICBpZiAodGhpcy5pc01haW5QYWdlKSByZXR1cm4gJ0Fuc3dlcic7CiAgICAgIGlmICh0aGlzLmlzRWRpdGluZ1dyaXR0ZW5BbnN3ZXIpIHJldHVybiAnRWRpdCBBbnN3ZXInCiAgICB9LAogIH0sCiAgbWV0aG9kczogewoKICAgIGhhbmRsZUxvYWRlZEV4aXN0aW5nQW5zd2VycyhrZXkpIHsKCiAgICAgIGxldCBhbnN3ZXJLZXkgPSBgYW5zd2VyXyR7a2V5fWA7CiAgICAgIGxldCBpbWFnZSA9IHRoaXMuJHJlZnNbYW5zd2VyS2V5XTsKCiAgICAgIHRoaXMuJHJlZnNbYGNyb3BwZXJfJHtrZXl9YF0ucmVwbGFjZShpbWFnZSkKICAgIH0sCgogICAgZmV0Y2hEYXRhKCkgewoKICAgICAgU3VibWlzc2lvblJlcG9zaXRvcnkuZmluZCh0aGlzLnN1Ym1pc3Npb25JRCkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHsKCiAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgLy8gQXNzaWdubWVudCBkZXRhaWxzCiAgICAgICAgICAgICAgdGhpcy5hc3NpZ25tZW50RGV0YWlscy5pZCA9IGRhdGEuYXNzaWdubWVudF9pZDsKICAgICAgICAgICAgICB0aGlzLmFzc2lnbm1lbnREZXRhaWxzLnRpdGxlID0gZGF0YS5hc3NpZ25tZW50X3RpdGxlOwoKICAgICAgICAgICAgICAvLyBQcm9jZXNzaW5nIGV4aXN0aW5nIFNuYXBwZWQgQW5zd2VyCiAgICAgICAgICAgICAgaWYgKGRhdGEuc25hcF9hbnN3ZXIpIHsKICAgICAgICAgICAgICAgIHRoaXMuYW5zd2VyLnR5cGUgPSAnc25hcHBlZCc7CgogICAgICAgICAgICAgICAgbGV0IGV4aXN0aW5nQW5zd2VyRmlsZU5hbWVzID0gZGF0YS5zbmFwX2Fuc3dlci5zcGxpdCgnLCcpOwogICAgICAgICAgICAgICAgbGV0IGV4aXN0aW5nQW5zd2VyRmlsZVBhdGhzID0gZGF0YS5zbmFwX2Fuc3dlcl91cmwuc3BsaXQoJywnKTsKCiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4aXN0aW5nQW5zd2VyRmlsZU5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuZXhpc3RpbmdTbmFwcGVkQW5zd2Vycy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiBleGlzdGluZ0Fuc3dlckZpbGVOYW1lc1tpXSwKICAgICAgICAgICAgICAgICAgICBwYXRoOiBleGlzdGluZ0Fuc3dlckZpbGVQYXRoc1tpXQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChkYXRhLndyaXR0ZW5fYW5zd2VyKSB7CiAgICAgICAgICAgICAgICB0aGlzLmFuc3dlci50eXBlID0gJ3dyaXR0ZW4nOwogICAgICAgICAgICAgICAgdGhpcy5hbnN3ZXIuY29udGVudCA9IGRhdGEud3JpdHRlbl9hbnN3ZXI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aGlzLnJlbWFya3MgPSBkYXRhLnJlbWFya3M7CiAgICAgICAgICAgIH0KCiAgICAgICAgICB9KQogICAgfSwKCiAgICBoYW5kbGVWdWVDcm9wcGVyUmVhZHkoZSkgewogICAgICBsZXQgY3JvcHBlciA9IGUudGFyZ2V0LmNyb3BwZXI7CgogICAgICBjcm9wcGVyLmF1dG9Dcm9wID0gZmFsc2U7CgogICAgICBjcm9wcGVyLmNsZWFyKCk7CiAgICAgIGNyb3BwZXIuZGlzYWJsZSgpOwoKICAgICAgLy8gSWYgdGhpcyBpcyBuZXcgcGhvdG8gdXBsb2FkZWQsIGFkZCBpbWFnZSB0byBzbmFwcGVkIGFuc3dlcnMgYXJyYXkKICAgICAgaWYgKCFjcm9wcGVyLnJlcGxhY2VkKSB7CgogICAgICAgIGNyb3BwZXIuZ2V0Q3JvcHBlZENhbnZhcyh7CiAgICAgICAgICBtYXhXaWR0aDogNzIwLAogICAgICAgICAgbWF4SGVpZ2h0OiA3MjAsCiAgICAgICAgICBmaWxsQ29sb3I6ICcjZmZmJwogICAgICAgIH0pLnRvQmxvYigoYmxvYikgPT4gewogICAgICAgICAgdGhpcy5hZGRlZFNuYXBwZWRBbnN3ZXJzLnB1c2goYmxvYikKICAgICAgICB9LCAnaW1hZ2UvanBlZycpOwogICAgICB9CiAgICB9LAoKICAgIHRvZ2dsZVNuYXBwZWRDcm9wcGluZ1N0YXR1cyhrZXkpIHsKICAgICAgdGhpcy5zbmFwcGVkQW5zd2VyUHJldmlld3Nba2V5XS5jcm9wcGluZyA9ICF0aGlzLnNuYXBwZWRBbnN3ZXJQcmV2aWV3c1trZXldLmNyb3BwaW5nOwoKICAgICAgbGV0IGNyb3BwZXJLZXkgPSBgY3JvcHBlcl8ke2tleX1gCiAgICAgIGxldCBjcm9wcGVyID0gdGhpcy4kcmVmc1tjcm9wcGVyS2V5XVswXTsKCiAgICAgIC8vIElmIGNyb3BwaW5nLCBlbmFibGUKICAgICAgaWYgKHRoaXMuc25hcHBlZEFuc3dlclByZXZpZXdzW2tleV0uY3JvcHBpbmcpIHsKICAgICAgICBjcm9wcGVyLmVuYWJsZSgpOwogICAgICAgIC8vIGNyb3BwZXIuY3JvcCgpOwogICAgICB9IGVsc2UgewogICAgICAgIGNyb3BwZXIuY2xlYXIoKTsKICAgICAgICBjcm9wcGVyLmRpc2FibGUoKTsKICAgICAgfQogICAgfSwKCiAgICBzYXZlQ3JvcHBlZFNuYXBwZWRBbnN3ZXIoa2V5KSB7CiAgICAgIGxldCBjcm9wcGVyS2V5ID0gYGNyb3BwZXJfJHtrZXl9YAoKICAgICAgbGV0IGNyb3BwZXIgPSB0aGlzLiRyZWZzW2Nyb3BwZXJLZXldWzBdOwoKICAgICAgbGV0IGNyb3BwZWQgPSBjcm9wcGVyLmdldENyb3BwZWRDYW52YXMoewogICAgICAgIG1heFdpZHRoOiA3MjAsCiAgICAgICAgbWF4SGVpZ2h0OiA3MjAsCiAgICAgICAgZmlsbENvbG9yOiAnI2ZmZicKICAgICAgfSk7CgogICAgICBsZXQgZGF0YVVSTCA9IGNyb3BwZWQudG9EYXRhVVJMKCJpbWFnZS9qcGVnIik7CiAgICAgIGNyb3BwZXIucmVwbGFjZShkYXRhVVJMKTsKICAgICAgdGhpcy5zbmFwcGVkQW5zd2VyUHJldmlld3Nba2V5XS5zb3VyY2UgPSBkYXRhVVJMOwoKICAgICAgY3JvcHBlZC50b0Jsb2IoKGJsb2IpID0+IHsKICAgICAgICB0aGlzLmFkZGVkU25hcHBlZEFuc3dlcnNba2V5XSA9IGJsb2I7CiAgICAgIH0sICdpbWFnZS9qcGVnJyk7CgogICAgICB0aGlzLnRvZ2dsZVNuYXBwZWRDcm9wcGluZ1N0YXR1cyhrZXkpCgogICAgfSwKCiAgICBzdWJtaXQoKSB7CgogICAgICAvLyBDb21waWxlIFNuYXBwZWQgQW5zd2VycywgdG8gcmVtb3ZlIGFuZCBuZXdseSBhZGRlZC4KICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgdG9SZW1vdmU6IHRoaXMucmVtb3ZlZFNuYXBwZWRBbnN3ZXJzLAogICAgICAgIHRvQWRkOiB0aGlzLmFkZGVkU25hcHBlZEFuc3dlcnMKICAgICAgfQoKICAgICAgU3VibWlzc2lvblJlcG9zaXRvcnkudXBkYXRlKAogICAgICAgICAgewogICAgICAgICAgICBzdWJtaXNzaW9uSUQ6IHRoaXMuc3VibWlzc2lvbklELAogICAgICAgICAgICBhc3NpZ25tZW50SUQ6IHRoaXMuYXNzaWdubWVudERldGFpbHMuaWQsCiAgICAgICAgICAgIGFuc3dlclR5cGU6IHRoaXMuYW5zd2VyLnR5cGUsCiAgICAgICAgICAgIGFuc3dlckNvbnRlbnQ6IGRhdGEsCiAgICAgICAgICAgIHJlbWFya3M6IHRoaXMucmVtYXJrcywKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICB0aGlzLnN1Ym1pc3Npb25TdGF0dXMgPSAnc3VjY2Vzcyc7CiAgICAgICAgICAgICAgdGhpcy50b2dnbGVNb2RhbCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuc3VibWlzc2lvblN0YXR1cyA9ICdlcnJvcic7CiAgICAgICAgICAgICAgdGhpcy50b2dnbGVNb2RhbCgpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcgogICAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgIH0sCgogICAgZWRpdFdyaXR0ZW5BbnN3ZXIoKSB7CiAgICAgIHRoaXMudG9nZ2xlRWRpdGluZ01vZGUoKTsKICAgICAgdGhpcy5uZXdBbnN3ZXIgPSB0aGlzLmFuc3dlci5jb250ZW50OwogICAgfSwKCiAgICBjb21waWxlV3JpdHRlbkFuc3dlcigpIHsKICAgICAgaWYgKHRoaXMubmV3QW5zd2VyLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmFuc3dlci5jb250ZW50ID0gdGhpcy5uZXdBbnN3ZXI7CiAgICAgICAgdGhpcy50b2dnbGVFZGl0aW5nTW9kZSgpOwogICAgICB9CiAgICB9LAoKICAgIGhhbmRsZVNuYXBwZWRBbnN3ZXJQcmV2aWV3KGluZGV4LCB0eXBlKSB7CgogICAgICB0aGlzLmlzUHJldmlld2luZ1BhdGggPSB0aGlzLnNuYXBwZWRBbnN3ZXJQcmV2aWV3c1t0eXBlXVtpbmRleF07CiAgICAgIHRoaXMudG9nZ2xlU25hcHBlZEFuc3dlclByZXZpZXcoKTsKICAgIH0sCgogICAgb25GaWxlU2VsZWN0ZWQoZSkgewoKICAgICAgbGV0IGZpbGVzID0gZS50YXJnZXQuZmlsZXMgfHwgZS5kYXRhVHJhbnNmZXIuZmlsZXMKCiAgICAgIGlmICghZmlsZXMubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIGlmIChmaWxlc1swXS50eXBlLm1hdGNoKCJpbWFnZS4qIikpIHsKICAgICAgICB0aGlzLmdlbmVyYXRlU25hcHBlZEFuc3dlclByZXZpZXcoZmlsZXMpCiAgICAgIH0KCiAgICAgIGUudGFyZ2V0LnZhbHVlID0gJycKICAgIH0sCgogICAgZ2VuZXJhdGVTbmFwcGVkQW5zd2VyUHJldmlldyhmaWxlcykgewogICAgICBmaWxlcy5mb3JFYWNoKGYgPT4gewoKICAgICAgICBpZiAoIWYudHlwZS5tYXRjaCgiaW1hZ2UuKiIpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CgogICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewoKICAgICAgICAgIHRoYXQuc25hcHBlZEFuc3dlclByZXZpZXdzLnB1c2goewogICAgICAgICAgICBzb3VyY2U6IGUudGFyZ2V0LnJlc3VsdCwKICAgICAgICAgICAgY3JvcHBpbmc6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGYpOwogICAgICB9KTsKICAgIH0sCgogICAgcmVtb3ZlU25hcHBlZEFuc3dlcihpbmRleCwgdHlwZSkgewoKICAgICAgaWYgKHR5cGUgPT09ICdleGlzdGluZycpIHsKICAgICAgICB0aGlzLnJlbW92ZWRTbmFwcGVkQW5zd2Vycy5wdXNoKHRoaXMuZXhpc3RpbmdTbmFwcGVkQW5zd2Vyc1tpbmRleF0ubmFtZSkKICAgICAgICB0aGlzLmV4aXN0aW5nU25hcHBlZEFuc3dlcnMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGUgPT09ICduZXcnKSB7CgogICAgICAgIGxldCBjcm9wcGVyS2V5ID0gYGNyb3BwZXJfJHtpbmRleH1gCgogICAgICAgIGxldCBjcm9wcGVyID0gdGhpcy4kcmVmc1tjcm9wcGVyS2V5XVswXTsKICAgICAgICBjcm9wcGVyLmRlc3Ryb3koKTsKCgogICAgICAgIHRoaXMuYWRkZWRTbmFwcGVkQW5zd2Vycy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIHRoaXMuc25hcHBlZEFuc3dlclByZXZpZXdzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KCiAgICB9LAoKICAgIHRvZ2dsZVNuYXBwZWRBbnN3ZXJQcmV2aWV3KCkgewoKICAgICAgaWYgKHRoaXMuaXNQcmV2aWV3aW5nU25hcHBlZEFuc3dlcikgewogICAgICAgIHRoaXMuaXNNYWluUGFnZSA9IHRydWU7CiAgICAgICAgdGhpcy5pc0VkaXRpbmdXcml0dGVuQW5zd2VyID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc1ByZXZpZXdpbmdTbmFwcGVkQW5zd2VyID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc01haW5QYWdlID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc0VkaXRpbmdXcml0dGVuQW5zd2VyID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc1ByZXZpZXdpbmdTbmFwcGVkQW5zd2VyID0gdHJ1ZTsKICAgICAgfQogICAgfSwKCiAgICB0b2dnbGVFZGl0aW5nTW9kZSgpIHsKCiAgICAgIGlmICh0aGlzLmlzRWRpdGluZ1dyaXR0ZW5BbnN3ZXIpIHsKICAgICAgICB0aGlzLmlzTWFpblBhZ2UgPSB0cnVlOwogICAgICAgIHRoaXMuaXNFZGl0aW5nV3JpdHRlbkFuc3dlciA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNQcmV2aWV3aW5nU25hcHBlZEFuc3dlciA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNNYWluUGFnZSA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNFZGl0aW5nV3JpdHRlbkFuc3dlciA9IHRydWU7CiAgICAgICAgdGhpcy5pc1ByZXZpZXdpbmdTbmFwcGVkQW5zd2VyID0gZmFsc2U7CiAgICAgIH0KCiAgICB9LAoKICAgIHRvZ2dsZU1vZGFsKCkgewogICAgICB0aGlzLmlzU2hvd2luZ01vZGFsID0gIXRoaXMuaXNTaG93aW5nTW9kYWw7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaERhdGEoKTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE1vZGFsLCBBcnJvd0JhY2tJY29uLCBUcmFzaEljb24sIEljb25CYXNlVHdvLCBOYXZCYWNrLCBQYWdlSGVhZGVyVGhyZWUsIERhc2hib2FyZExheW91dCwKICAgIFZ1ZUNyb3BwZXIsCiAgICBGb250QXdlc29tZUljb24KICB9Cn0K"},{"version":3,"sources":["AnswerEdit.vue"],"names":[],"mappings":";AA+OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AnswerEdit.vue","sourceRoot":"src/views/students/StudentAssignments/Answer","sourcesContent":["<template>\n\n  <dashboard-layout :content-fills-screen=\"isEditingWrittenAnswer || isPreviewingSnappedAnswer\"\n                    :has-custom-bottom-bar=\"isMainPage\"\n                    :no-bottom-bar=\"isEditingWrittenAnswer || isPreviewingSnappedAnswer\"\n  >\n\n\n    <template v-slot:pageHeader>\n      <page-header-three>\n\n        <template v-slot:leftAction>\n          <nav-back v-if=\"isMainPage\" type=\"cancel\"\n                    :to=\"{name: 'student.assignments.show'}\"\n                    class=\"w-2/3 text-left\" stroke-color=\"red-primary\"/>\n\n          <div @click=\"toggleEditingMode\" v-if=\"isEditingWrittenAnswer\" class=\"pl-3\">\n            <icon-base-two class=\"w-2/7\">\n              <arrow-back-icon/>\n            </icon-base-two>\n          </div>\n\n          <div @click=\"toggleSnappedAnswerPreview\" v-if=\"isPreviewingSnappedAnswer\">\n            <icon-base-two class=\"w-2/7 ml-3\">\n              <arrow-back-icon/>\n            </icon-base-two>\n          </div>\n        </template>\n\n        <template v-slot:mini-title>\n          <div class=\"truncate\">\n            {{ pageTitle }}\n          </div>\n        </template>\n\n        <template v-if=\"isEditingWrittenAnswer\" v-slot:rightAction>\n          <div @click=\"compileWrittenAnswer\"\n               :class=\"newAnswer.length > 0 ? 'text-red-primary' : 'text-gray-primary'\"\n               class=\"font-bold\"\n          >\n            Save\n          </div>\n        </template>\n\n      </page-header-three>\n    </template>\n\n    <template v-slot:content v-if=\"isMainPage\">\n\n\n      <!-- OVERLAYS -->\n      <div v-if=\"isShowingModal\" @click=\"toggleModal\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center inset-x-0 block top-0 bg-gray-primary bg-opacity-75 \">\n      </div>\n\n      <!-- MODAL -->\n      <div v-if=\"isShowingModal\"\n           class=\"fixed left-0 w-full items-center flex flex-col items-center justify-center top-1/4 z-70\">\n        <modal class=\"w-4/5 \"\n               :modal-type=\"submissionStatus\"\n               :redirect-route=\"{name: 'student.assignments.show'}\"\n               @toggleModal=\"toggleModal\"\n        >\n          <template slot=\"message\">\n            <div v-if=\"submissionStatus === 'success'\" class=\"w-full\">\n              Got something to change? Don't worry! You can always edit your published homework\n            </div>\n            <div v-if=\"submissionStatus === 'error'\" class=\"w-full\">\n              Oops! There seems to be an error in your submission.\n            </div>\n          </template>\n          <template slot=\"button\">\n            Okay\n          </template>\n        </modal>\n\n        <modal v-if=\"errors\"\n               modal-type=\"error\"\n               class=\"w-4/5 \"\n               @toggleModal=\"toggleModal\"\n        >\n          <template slot=\"message\">\n            <div>\n              {{ errors }}\n            </div>\n          </template>\n          <template slot=\"button\">\n            Okay\n          </template>\n        </modal>\n      </div>\n\n\n      <div class=\"relative pt-7/24 px-6 h-full w-full text-left text-purple-primary\">\n\n        <!-- SUBMISSION DETAIL -->\n        <div>\n          <div>\n            Your answer will be submitted to\n          </div>\n          <div class=\"font-bold mt-1 truncate\">\n            {{ assignmentDetails ? assignmentDetails.title : '' }}\n          </div>\n        </div>\n\n        <!-- VIEW EXISTING ANSWERS -->\n        <div class=\"mt-10\" v-if=\"isSnappedAnswer && existingSnappedAnswers.length\">\n          <div class=\"mb-4\">\n            Current Answers\n          </div>\n          <div v-for=\"(image,key) in existingSnappedAnswers\"\n               class=\"flex flex-col py-5 px-5 mt-2 mb-2 w-full text-lg font-normal leading-tight rounded-md border border-none appearance-none bg-gray-secondary text-purple-secondary focus:outline-none focus:shadow-outline placeholder-purple-secondary\"\n          >\n            <div class=\"mt-5 w-full\">\n              <img :src=\"image.path\"/>\n            </div>\n\n            <div class=\"flex flex-row items-center mt-2 md:mt-4 \">\n              <button @click=\"removeSnappedAnswer(key, 'existing')\"\n                      class=\"flex flex-row items-center w-full py-3 md:py-5 mr-1 rounded-lg bg-red-primary focus:outline-none\">\n                <div class=\"text-white text-sm md:text-lg w-3/4\">\n                  Remove\n                </div>\n                <div class=\"w-1/4\">\n                  <font-awesome-icon class=\"w-full fa-1x text-white\" :icon=\"icons.trash\"/>\n                </div>\n              </button>\n            </div>\n          </div>\n        </div>\n\n\n        <!-- VIEW NEW ANSWERS -->\n        <div class=\"mt-10\" v-if=\"isSnappedAnswer\">\n          <div class=\"mb-4\">\n            New Answers\n          </div>\n\n          <div v-for=\"(image,key) in snappedAnswerPreviews\"\n               class=\"flex flex-col py-5 px-5 mt-2 mb-2 w-full text-lg font-normal leading-tight rounded-md border border-none appearance-none bg-gray-secondary text-purple-secondary focus:outline-none focus:shadow-outline placeholder-purple-secondary\"\n          >\n\n            <div class=\"mt-5 w-full\">\n\n              <vue-cropper :ref=\"`cropper_${key}`\"\n                           :src=\"image.source\"\n                           alt=\"Source Image\"\n                           @ready=\"handleVueCropperReady\"\n              >\n              </vue-cropper>\n\n              <div v-if=\"image.cropping\" class=\"flex flex-row items-center mt-4 md:mt-4 \">\n                <button @click=\"toggleSnappedCroppingStatus(key)\"\n                        class=\"flex flex-row items-center w-1/2  py-3 md:py-5 mr-1 rounded-lg bg-red-primary focus:outline-none\">\n                  <div class=\"text-white text-sm md:text-lg w-full\">\n                    Cancel\n                  </div>\n                </button>\n                <button @click=\"saveCroppedSnappedAnswer(key)\"\n                        class=\"flex flex-row items-center  py-3  md:py-5 w-1/2 ml-1 rounded-lg bg-green-400 focus:outline-none\">\n                  <div class=\"text-white text-sm md:text-lg w-3/4\">\n                    Done\n                  </div>\n                  <div class=\"w-1/4\">\n                    <font-awesome-icon class=\"w-full fa-1x text-white\" :icon=\"icons.crop\"/>\n                  </div>\n                </button>\n              </div>\n\n              <div v-else class=\"flex flex-row items-center mt-2 md:mt-4 \">\n                <button @click=\"removeSnappedAnswer(key, 'new')\"\n                        class=\"flex flex-row items-center w-1/2  py-3 md:py-5 mr-1 rounded-lg bg-red-primary focus:outline-none\">\n                  <div class=\"text-white text-sm md:text-lg w-3/4\">\n                    Remove\n                  </div>\n                  <div class=\"w-1/4\">\n                    <font-awesome-icon class=\"w-full fa-1x text-white\" :icon=\"icons.trash\"/>\n                  </div>\n                </button>\n                <button @click=\"toggleSnappedCroppingStatus(key)\"\n                        class=\"flex flex-row items-center  py-3  md:py-5 w-1/2 ml-1 rounded-lg bg-purple-primary focus:outline-none\">\n                  <div class=\"text-white text-sm md:text-lg w-3/4\">\n                    Crop\n                  </div>\n                  <div class=\"w-1/4\">\n                    <font-awesome-icon class=\"w-full fa-1x text-white\" :icon=\"icons.crop\"/>\n                  </div>\n                </button>\n              </div>\n            </div>\n\n          </div>\n\n          <!-- ADD MORE PHOTO -->\n          <div class=\"flex mb-4 -mx-1\">\n            <label\n                class=\"text-center pl-6 pr-2 py-5 mt-2  appearance-none border rounded-md border-none w-full text-lg font-normal leading-tight focus:outline-none focus:shadow-outline text-red-primary\">\n              + Add more photo\n              <input class=\"hidden\" type=\"file\" accept=\"image/*\" multiple @change=\"onFileSelected\">\n            </label>\n          </div>\n\n        </div>\n\n        <div class=\"mt-6\">\n          <div>\n            Your remarks\n          </div>\n          <div class=\"mt-4 h-36 \">\n                    <textarea v-model=\"remarks\"\n                              class=\"resize-y text-purple-primary py-4 px-5 h-full w-full bg-gray-secondary rounded focus:outline-none placeholder-purple-secondary\"\n                              placeholder=\"Remarks\"></textarea>\n          </div>\n        </div>\n\n      </div>\n    </template>\n\n    <template v-if=\"isEditingWrittenAnswer\" slot=\"content\">\n      <div class=\" pt-32 px-6 h-full\">\n        <textarea v-model=\"newAnswer\"\n                  class=\"resize-y text-purple-primary  w-full h-full  rounded focus:outline-none\"\n        />\n      </div>\n    </template>\n\n    <template v-slot:bottomBar v-if=\"isMainPage\">\n      <div class=\"w-full md:max-w-xl px-2\">\n        <button @click=\"submit\"\n                class=\"w-full font-bold rounded-full bg-yellow-primary text-purple-primary text-sm  py-4 px-1 flex flex-row justify-center\">\n          Submit Answer\n        </button>\n      </div>\n    </template>\n  </dashboard-layout>\n\n</template>\n\n<script>\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport NavBack from \"@/components/NavBack\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport TrashIcon from \"@/components/icons/TrashIcon\";\nimport SubmissionRepository from \"@/repositories/SubmissionRepository\";\nimport ArrowBackIcon from \"@/components/icons/ArrowBackIcon\";\nimport Modal from \"@/components/Modal\";\n\n// Vue Cropper\nimport VueCropper from 'vue-cropperjs';\nimport 'cropperjs/dist/cropper.css';\n\n// FONT AWESOME\nimport {FontAwesomeIcon} from '@fortawesome/vue-fontawesome'\nimport {faTrash, faCropAlt} from \"@fortawesome/free-solid-svg-icons\";\n\nexport default {\n  name: \"AnswerEdit\",\n  props: {\n    submissionID: [String, Number]\n  },\n  data() {\n    return {\n\n      // States\n      isMainPage: true,\n      isEditingWrittenAnswer: false,\n      isPreviewingSnappedAnswer: false,\n      isShowingModal: false,\n      submissionStatus: null,\n\n      backendStoragePath: `${process.env.VUE_APP_BACKEND_STORAGE}/submissions/`,\n\n      snappedAnswers: [],\n      snappedAnswerPreviews: [],\n\n      isPreviewingPath: null,\n\n      // Existing snapped answers\n      existingSnappedAnswers: [],\n      removedSnappedAnswers: [],\n      addedSnappedAnswers: [],\n\n      // Compiled answer\n      answer: {\n        type: null,\n        content: null\n      },\n\n      assignmentDetails: {\n        id: null,\n        title: null\n      },\n\n      newAnswer: [],\n      remarks: null,\n\n      // Icons\n      icons: {\n        crop: faCropAlt,\n        trash: faTrash\n      },\n\n      // Catch error\n      errors: null\n    }\n  },\n  computed: {\n    hasAnswer() {\n      return this.answer.type !== null && this.answer.content !== '';\n    },\n    isWrittenAnswer() {\n      return this.answer.type === 'written';\n    },\n    isSnappedAnswer() {\n      return this.answer.type === 'snapped';\n    },\n    pageTitle() {\n      if (this.isMainPage) return 'Answer';\n      if (this.isEditingWrittenAnswer) return 'Edit Answer'\n    },\n  },\n  methods: {\n\n    handleLoadedExistingAnswers(key) {\n\n      let answerKey = `answer_${key}`;\n      let image = this.$refs[answerKey];\n\n      this.$refs[`cropper_${key}`].replace(image)\n    },\n\n    fetchData() {\n\n      SubmissionRepository.find(this.submissionID)\n          .then(response => {\n\n            if (response.data.success) {\n\n              const data = response.data.data;\n\n              // Assignment details\n              this.assignmentDetails.id = data.assignment_id;\n              this.assignmentDetails.title = data.assignment_title;\n\n              // Processing existing Snapped Answer\n              if (data.snap_answer) {\n                this.answer.type = 'snapped';\n\n                let existingAnswerFileNames = data.snap_answer.split(',');\n                let existingAnswerFilePaths = data.snap_answer_url.split(',');\n\n                for (let i = 0; i < existingAnswerFileNames.length; i++) {\n                  this.existingSnappedAnswers.push({\n                    name: existingAnswerFileNames[i],\n                    path: existingAnswerFilePaths[i]\n                  })\n                }\n\n              }\n\n              if (data.written_answer) {\n                this.answer.type = 'written';\n                this.answer.content = data.written_answer;\n              }\n\n              this.remarks = data.remarks;\n            }\n\n          })\n    },\n\n    handleVueCropperReady(e) {\n      let cropper = e.target.cropper;\n\n      cropper.autoCrop = false;\n\n      cropper.clear();\n      cropper.disable();\n\n      // If this is new photo uploaded, add image to snapped answers array\n      if (!cropper.replaced) {\n\n        cropper.getCroppedCanvas({\n          maxWidth: 720,\n          maxHeight: 720,\n          fillColor: '#fff'\n        }).toBlob((blob) => {\n          this.addedSnappedAnswers.push(blob)\n        }, 'image/jpeg');\n      }\n    },\n\n    toggleSnappedCroppingStatus(key) {\n      this.snappedAnswerPreviews[key].cropping = !this.snappedAnswerPreviews[key].cropping;\n\n      let cropperKey = `cropper_${key}`\n      let cropper = this.$refs[cropperKey][0];\n\n      // If cropping, enable\n      if (this.snappedAnswerPreviews[key].cropping) {\n        cropper.enable();\n        // cropper.crop();\n      } else {\n        cropper.clear();\n        cropper.disable();\n      }\n    },\n\n    saveCroppedSnappedAnswer(key) {\n      let cropperKey = `cropper_${key}`\n\n      let cropper = this.$refs[cropperKey][0];\n\n      let cropped = cropper.getCroppedCanvas({\n        maxWidth: 720,\n        maxHeight: 720,\n        fillColor: '#fff'\n      });\n\n      let dataURL = cropped.toDataURL(\"image/jpeg\");\n      cropper.replace(dataURL);\n      this.snappedAnswerPreviews[key].source = dataURL;\n\n      cropped.toBlob((blob) => {\n        this.addedSnappedAnswers[key] = blob;\n      }, 'image/jpeg');\n\n      this.toggleSnappedCroppingStatus(key)\n\n    },\n\n    submit() {\n\n      // Compile Snapped Answers, to remove and newly added.\n      let data = {\n        toRemove: this.removedSnappedAnswers,\n        toAdd: this.addedSnappedAnswers\n      }\n\n      SubmissionRepository.update(\n          {\n            submissionID: this.submissionID,\n            assignmentID: this.assignmentDetails.id,\n            answerType: this.answer.type,\n            answerContent: data,\n            remarks: this.remarks,\n          })\n          .then(response => {\n            if (response.data.success) {\n              this.submissionStatus = 'success';\n              this.toggleModal();\n            } else {\n              this.submissionStatus = 'error';\n              this.toggleModal()\n            }\n          })\n          .catch(error => {\n                this.errors = error\n              }\n          )\n    },\n\n    editWrittenAnswer() {\n      this.toggleEditingMode();\n      this.newAnswer = this.answer.content;\n    },\n\n    compileWrittenAnswer() {\n      if (this.newAnswer.length > 0) {\n        this.answer.content = this.newAnswer;\n        this.toggleEditingMode();\n      }\n    },\n\n    handleSnappedAnswerPreview(index, type) {\n\n      this.isPreviewingPath = this.snappedAnswerPreviews[type][index];\n      this.toggleSnappedAnswerPreview();\n    },\n\n    onFileSelected(e) {\n\n      let files = e.target.files || e.dataTransfer.files\n\n      if (!files.length) {\n        return\n      }\n\n      if (files[0].type.match(\"image.*\")) {\n        this.generateSnappedAnswerPreview(files)\n      }\n\n      e.target.value = ''\n    },\n\n    generateSnappedAnswerPreview(files) {\n      files.forEach(f => {\n\n        if (!f.type.match(\"image.*\")) {\n          return;\n        }\n\n        let reader = new FileReader();\n        let that = this;\n\n        reader.onload = function (e) {\n\n          that.snappedAnswerPreviews.push({\n            source: e.target.result,\n            cropping: false\n          });\n        }\n\n        reader.readAsDataURL(f);\n      });\n    },\n\n    removeSnappedAnswer(index, type) {\n\n      if (type === 'existing') {\n        this.removedSnappedAnswers.push(this.existingSnappedAnswers[index].name)\n        this.existingSnappedAnswers.splice(index, 1);\n      }\n\n      if (type === 'new') {\n\n        let cropperKey = `cropper_${index}`\n\n        let cropper = this.$refs[cropperKey][0];\n        cropper.destroy();\n\n\n        this.addedSnappedAnswers.splice(index, 1);\n        this.snappedAnswerPreviews.splice(index, 1);\n      }\n\n    },\n\n    toggleSnappedAnswerPreview() {\n\n      if (this.isPreviewingSnappedAnswer) {\n        this.isMainPage = true;\n        this.isEditingWrittenAnswer = false;\n        this.isPreviewingSnappedAnswer = false;\n      } else {\n        this.isMainPage = false;\n        this.isEditingWrittenAnswer = false;\n        this.isPreviewingSnappedAnswer = true;\n      }\n    },\n\n    toggleEditingMode() {\n\n      if (this.isEditingWrittenAnswer) {\n        this.isMainPage = true;\n        this.isEditingWrittenAnswer = false;\n        this.isPreviewingSnappedAnswer = false;\n      } else {\n        this.isMainPage = false;\n        this.isEditingWrittenAnswer = true;\n        this.isPreviewingSnappedAnswer = false;\n      }\n\n    },\n\n    toggleModal() {\n      this.isShowingModal = !this.isShowingModal;\n    }\n  },\n  mounted() {\n    this.fetchData();\n  },\n  components: {\n    Modal, ArrowBackIcon, TrashIcon, IconBaseTwo, NavBack, PageHeaderThree, DashboardLayout,\n    VueCropper,\n    FontAwesomeIcon\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}