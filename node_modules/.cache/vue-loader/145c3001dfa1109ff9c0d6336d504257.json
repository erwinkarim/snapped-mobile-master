{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherSettings/TeacherSettings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherSettings/TeacherSettings.vue","mtime":1679379067249},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlRlYWNoZXJTZXR0aW5ncyIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CgogICAgICBmYUljb25zOiB7CiAgICAgICAgZ29vZ2xlOiBmYUdvb2dsZSwKICAgICAgICBlZGl0OiBmYUVkaXQKICAgICAgfSwKCiAgICAgIGRldGFpbHM6IHsKICAgICAgICBmdWxsTmFtZTogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBpY29uOiAnaWRlbnRpZmljYXRpb24taWNvbicKICAgICAgICB9LAogICAgICAgIHNjaG9vbDogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBpY29uOiAnYWNhZGVtaWMtaWNvbicKICAgICAgICB9LAogICAgICAgIGVtYWlsOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIGljb246ICdlbWFpbC1pY29uJwogICAgICAgIH0sCiAgICAgICAgY29udGFjdE51bTogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBpY29uOiAncGhvbmUtaWNvbicKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNHb29nbGVDbGFzc3Jvb21JbnRlZ3JhdGVkKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRHb29nbGVJbnRlZ3JhdGVkCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dvdXQoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2dvdXQnKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ2xvZ2luJ30pCiAgICB9LAogICAgZ2V0RGV0YWlsczogZnVuY3Rpb24gKCkgewogICAgICBUZWFjaGVyUmVwb3NpdG9yeS5nZXRUZWFjaGVyRGV0YWlscygpCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CgogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7CgogICAgICAgICAgICAgIGxldCBkYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhWzBdOwoKICAgICAgICAgICAgICB0aGlzLmRldGFpbHMuZnVsbE5hbWUudmFsdWUgPSBkYXRhLmZ1bGxuYW1lOwogICAgICAgICAgICAgIHRoaXMuZGV0YWlscy5zY2hvb2wudmFsdWUgPSBkYXRhLnNjaG9vbF9uYW1lOwogICAgICAgICAgICAgIHRoaXMuZGV0YWlscy5lbWFpbC52YWx1ZSA9IGRhdGEuZW1haWw7CiAgICAgICAgICAgICAgdGhpcy5kZXRhaWxzLmNvbnRhY3ROdW0udmFsdWUgPSBkYXRhLmNvbnRhY3RfbnVtOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgfSwKICAgIGhhbmRsZUdvb2dsZUNsYXNzcm9vbUludGVncmF0aW9uKCkgewoKICAgICAgLy8gSWYgYWxyZWFkeSBpbnRlZ3JhdGVkLCBkaXNjb25uZWN0CiAgICAgIGlmICh0aGlzLmlzR29vZ2xlQ2xhc3Nyb29tSW50ZWdyYXRlZCkgewogICAgICAgIEdvb2dsZUNsYXNzcm9vbVJlcG9zaXRvcnkuZGlzY29ubmVjdCgpCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0QXV0aFVzZXInKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgfSBlbHNlIHsKCiAgICAgICAgR29vZ2xlQ2xhc3Nyb29tUmVwb3NpdG9yeS5pbnRlZ3JhdGlvbigpCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKCiAgICAgICAgICAgICAgY29uc3QgbmV3V2luZG93ID0gdGhpcy5vcGVuV2luZG93KCcnLCAnbWVzc2FnZScpCiAgICAgICAgICAgICAgbmV3V2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgaGFuZGxlTWVzc2FnZShldmVudCkgewogICAgICBpZiAoZXZlbnQuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldEF1dGhVc2VyJykKICAgICAgfQogICAgfSwKCiAgICAvKioKICAgICAqICAgT3BlbnMgYSBwb3B1cCB3aW5kb3cgdG8gbG9hZCBMYXJhdmVsIFNvY2lhbGl0ZSByZWRpcmVjdCBwYWdlcyB2aWEgVVJMCiAgICAgKiovCiAgICBvcGVuV2luZG93KHVybCwgdGl0bGUsIG9wdGlvbnMgPSB7fSkgewogICAgICBpZiAodHlwZW9mIHVybCA9PT0gJ29iamVjdCcpIHsKICAgICAgICBvcHRpb25zID0gdXJsCiAgICAgICAgdXJsID0gJycKICAgICAgfQoKICAgICAgb3B0aW9ucyA9IHt1cmwsIHRpdGxlLCB3aWR0aDogNjAwLCBoZWlnaHQ6IDcyMCwgLi4ub3B0aW9uc30KCiAgICAgIGNvbnN0IGR1YWxTY3JlZW5MZWZ0ID0gd2luZG93LnNjcmVlbkxlZnQgIT09IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JlZW5MZWZ0IDogd2luZG93LnNjcmVlbi5sZWZ0CiAgICAgIGNvbnN0IGR1YWxTY3JlZW5Ub3AgPSB3aW5kb3cuc2NyZWVuVG9wICE9PSB1bmRlZmluZWQgPyB3aW5kb3cuc2NyZWVuVG9wIDogd2luZG93LnNjcmVlbi50b3AKICAgICAgY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwgd2luZG93LnNjcmVlbi53aWR0aAogICAgICBjb25zdCBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCB3aW5kb3cuc2NyZWVuLmhlaWdodAoKICAgICAgb3B0aW9ucy5sZWZ0ID0gKCh3aWR0aCAvIDIpIC0gKG9wdGlvbnMud2lkdGggLyAyKSkgKyBkdWFsU2NyZWVuTGVmdAogICAgICBvcHRpb25zLnRvcCA9ICgoaGVpZ2h0IC8gMikgLSAob3B0aW9ucy5oZWlnaHQgLyAyKSkgKyBkdWFsU2NyZWVuVG9wCgogICAgICBjb25zdCBvcHRpb25zU3RyID0gT2JqZWN0LmtleXMob3B0aW9ucykucmVkdWNlKChhY2MsIGtleSkgPT4gewogICAgICAgIGFjYy5wdXNoKGAke2tleX09JHtvcHRpb25zW2tleV19YCkKICAgICAgICByZXR1cm4gYWNjCiAgICAgIH0sIFtdKS5qb2luKCcsJykKCiAgICAgIGNvbnN0IG5ld1dpbmRvdyA9IHdpbmRvdy5vcGVuKHVybCwgdGl0bGUsIG9wdGlvbnNTdHIpCgogICAgICBpZiAod2luZG93LmZvY3VzKSB7CiAgICAgICAgbmV3V2luZG93LmZvY3VzKCkKICAgICAgfQoKICAgICAgcmV0dXJuIG5ld1dpbmRvdwogICAgfQoKICB9LAogIG1vdW50ZWQoKSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuaGFuZGxlTWVzc2FnZSkKICAgIHRoaXMuZ2V0RGV0YWlscygpCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBMb2dvdXRJY29uLAogICAgUGhvbmVJY29uLAogICAgRW1haWxJY29uLAogICAgQm9va0ljb24sCiAgICBBY2FkZW1pY0ljb24sCiAgICBJY29uQmFzZSwKICAgIElkZW50aWZpY2F0aW9uSWNvbiwKICAgIEljb25CYXNlVHdvLAogICAgU2VjdGlvblRpdGxlLAogICAgUGFnZVRpdGxlLAogICAgRGFzaGJvYXJkTGF5b3V0LAogICAgRm9udEF3ZXNvbWVJY29uLAogIH0sCn0KCgppbXBvcnQgRGFzaGJvYXJkTGF5b3V0IGZyb20gIkAvdmlld3MvbGF5b3V0L0Rhc2hib2FyZExheW91dCI7CmltcG9ydCBQYWdlVGl0bGUgZnJvbSAiQC9jb21wb25lbnRzL1BhZ2VUaXRsZSI7CmltcG9ydCBTZWN0aW9uVGl0bGUgZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9TZWN0aW9uVGl0bGUiOwppbXBvcnQgSWNvbkJhc2VUd28gZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9JY29uQmFzZVR3byI7CmltcG9ydCBJZGVudGlmaWNhdGlvbkljb24gZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9pY29ucy9JZGVudGlmaWNhdGlvbkljb24iOwppbXBvcnQgSWNvbkJhc2UgZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9JY29uQmFzZSI7CmltcG9ydCBBY2FkZW1pY0ljb24gZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9pY29ucy9BY2FkZW1pY0ljb24iOwppbXBvcnQgQm9va0ljb24gZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9pY29ucy9Cb29rSWNvbiI7CmltcG9ydCBFbWFpbEljb24gZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9pY29ucy9FbWFpbEljb24iOwppbXBvcnQgUGhvbmVJY29uIGZyb20gIi4uLy4uLy4uL2NvbXBvbmVudHMvaWNvbnMvUGhvbmVJY29uIjsKaW1wb3J0IExvZ291dEljb24gZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9pY29ucy9Mb2dvdXRJY29uIjsKaW1wb3J0IFRlYWNoZXJSZXBvc2l0b3J5IGZyb20gIi4uLy4uLy4uL3JlcG9zaXRvcmllcy9UZWFjaGVyUmVwb3NpdG9yeSI7CmltcG9ydCBHb29nbGVDbGFzc3Jvb21SZXBvc2l0b3J5IGZyb20gIkAvcmVwb3NpdG9yaWVzL0dvb2dsZUNsYXNzcm9vbVJlcG9zaXRvcnkiOwoKLy8gRk9OVCBBV0VTT01FCmltcG9ydCB7Rm9udEF3ZXNvbWVJY29ufSBmcm9tICdAZm9ydGF3ZXNvbWUvdnVlLWZvbnRhd2Vzb21lJwppbXBvcnQge2ZhR29vZ2xlfSBmcm9tICdAZm9ydGF3ZXNvbWUvZnJlZS1icmFuZHMtc3ZnLWljb25zJwppbXBvcnQge2ZhRWRpdH0gZnJvbSAiQGZvcnRhd2Vzb21lL2ZyZWUtc29saWQtc3ZnLWljb25zIjsK"},{"version":3,"sources":["TeacherSettings.vue"],"names":[],"mappings":";;AAmFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"TeacherSettings.vue","sourceRoot":"src/views/teachers/TeacherSettings","sourcesContent":["<template>\n  <dashboard-layout>\n\n    <template v-slot:pageHeader>\n      <page-title title=\"Settings\" class=\"w-3/4\"/>\n    </template>\n\n    <template v-slot:content>\n      <div class=\"w-full px-7 mt-3\">\n\n        <div class=\"flex flex-row items-center justify-between mb-3\">\n          <section-title class=\"text-left mt-4\" title=\"Profile\"/>\n\n          <!--  ROUTE LINK: USER EDIT PROFILE  -->\n<!--          <router-link :to=\"{name: 'auth.profile.edit'}\">-->\n<!--            <font-awesome-icon-->\n<!--                :icon=\"faIcons.edit\"-->\n<!--                class=\"w-full fa-1x text-purple-primary\"-->\n<!--            />-->\n<!--          </router-link>-->\n        </div>\n\n        <div v-for=\"detail in details\"\n             :key=\"detail.value\"\n             class=\"w-full text-left py-3 flex flex-row w-full border-b-1 items-center bg-white\"\n        >\n          <div class=\"w-1/12\">\n            <icon-base class=\" w-full\">\n              <component :is=\"detail.icon\"/>\n            </icon-base>\n          </div>\n          <div class=\"w-5/6 ml-5 text-purple-primary  truncate pr-4\">\n            {{ detail.value }}\n          </div>\n        </div>\n      </div>\n\n      <!-- INTEGRATIONS -->\n      <div class=\"w-full px-7 mt-3\">\n        <section-title class=\"text-left my-4\" title=\"Integrations\"/>\n\n        <!-- GOOGLE CLASSROOM -->\n        <div @click=\"handleGoogleClassroomIntegration\"\n             class=\"w-full  py-3 flex flex-row w-full border-b-1 items-center bg-white\">\n          <div class=\"w-1/12 text-center\">\n            <font-awesome-icon class=\"w-full fa-1x text-purple-primary\" :icon=\"faIcons.google\"/>\n          </div>\n          <div class=\"w-7/12 ml-5 text-purple-primary text-left  truncate pr-4\">\n            Google Classroom\n          </div>\n          <div :class=\"isGoogleClassroomIntegrated ? 'bg-purple-primary' : 'bg-gray-500'\"\n               class=\"text-white rounded-lg py-1 tracking-wide text-xs uppercase px-3 h-full w-4/12\"\n          >\n            {{ isGoogleClassroomIntegrated ? 'DISCONNECT' : 'CONNECT' }}\n          </div>\n\n        </div>\n\n      </div>\n\n\n      <div class=\"w-full px-7 mt-3\">\n        <section-title class=\"text-left my-4\" title=\"Log out\"/>\n        <!-- LOGOUT -->\n        <div @click=\"logout\"\n             class=\"w-full text-left py-4 flex flex-row w-full border-b-1 items-center bg-white\"\n        >\n          <div class=\"w-1/12\">\n            <icon-base class=\"w-full text-red-primary\">\n              <logout-icon/>\n            </icon-base>\n          </div>\n          <div class=\"w-5/6 ml-5 text-red-primary  truncate pr-4\">\n            Log out\n          </div>\n        </div>\n      </div>\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\n\nexport default {\n  name: \"TeacherSettings\",\n  data() {\n    return {\n\n      faIcons: {\n        google: faGoogle,\n        edit: faEdit\n      },\n\n      details: {\n        fullName: {\n          value: null,\n          icon: 'identification-icon'\n        },\n        school: {\n          value: null,\n          icon: 'academic-icon'\n        },\n        email: {\n          value: null,\n          icon: 'email-icon'\n        },\n        contactNum: {\n          value: null,\n          icon: 'phone-icon'\n        }\n      }\n    };\n  },\n  computed: {\n    isGoogleClassroomIntegrated() {\n      return this.$store.getters.getGoogleIntegrated\n    }\n  },\n  methods: {\n    logout() {\n      this.$store.dispatch('logout')\n      this.$router.push({name: 'login'})\n    },\n    getDetails: function () {\n      TeacherRepository.getTeacherDetails()\n          .then(response => {\n\n            if (response.data.success) {\n\n              let data = response.data.data[0];\n\n              this.details.fullName.value = data.fullname;\n              this.details.school.value = data.school_name;\n              this.details.email.value = data.email;\n              this.details.contactNum.value = data.contact_num;\n            }\n          })\n    },\n    handleGoogleClassroomIntegration() {\n\n      // If already integrated, disconnect\n      if (this.isGoogleClassroomIntegrated) {\n        GoogleClassroomRepository.disconnect()\n            .then(response => {\n              if (response.data.success) {\n                this.$store.dispatch('setAuthUser')\n              }\n            })\n      } else {\n\n        GoogleClassroomRepository.integration()\n            .then(response => {\n\n              const newWindow = this.openWindow('', 'message')\n              newWindow.location.href = response.data\n            })\n            .catch(function (error) {\n              console.error(error);\n            });\n      }\n    },\n\n    handleMessage(event) {\n      if (event.data.success) {\n        this.$store.dispatch('setAuthUser')\n      }\n    },\n\n    /**\n     *   Opens a popup window to load Laravel Socialite redirect pages via URL\n     **/\n    openWindow(url, title, options = {}) {\n      if (typeof url === 'object') {\n        options = url\n        url = ''\n      }\n\n      options = {url, title, width: 600, height: 720, ...options}\n\n      const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screen.left\n      const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screen.top\n      const width = window.innerWidth || document.documentElement.clientWidth || window.screen.width\n      const height = window.innerHeight || document.documentElement.clientHeight || window.screen.height\n\n      options.left = ((width / 2) - (options.width / 2)) + dualScreenLeft\n      options.top = ((height / 2) - (options.height / 2)) + dualScreenTop\n\n      const optionsStr = Object.keys(options).reduce((acc, key) => {\n        acc.push(`${key}=${options[key]}`)\n        return acc\n      }, []).join(',')\n\n      const newWindow = window.open(url, title, optionsStr)\n\n      if (window.focus) {\n        newWindow.focus()\n      }\n\n      return newWindow\n    }\n\n  },\n  mounted() {\n    window.addEventListener('message', this.handleMessage)\n    this.getDetails()\n  },\n  components: {\n    LogoutIcon,\n    PhoneIcon,\n    EmailIcon,\n    BookIcon,\n    AcademicIcon,\n    IconBase,\n    IdentificationIcon,\n    IconBaseTwo,\n    SectionTitle,\n    PageTitle,\n    DashboardLayout,\n    FontAwesomeIcon,\n  },\n}\n\n\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport PageTitle from \"@/components/PageTitle\";\nimport SectionTitle from \"../../../components/SectionTitle\";\nimport IconBaseTwo from \"../../../components/IconBaseTwo\";\nimport IdentificationIcon from \"../../../components/icons/IdentificationIcon\";\nimport IconBase from \"../../../components/IconBase\";\nimport AcademicIcon from \"../../../components/icons/AcademicIcon\";\nimport BookIcon from \"../../../components/icons/BookIcon\";\nimport EmailIcon from \"../../../components/icons/EmailIcon\";\nimport PhoneIcon from \"../../../components/icons/PhoneIcon\";\nimport LogoutIcon from \"../../../components/icons/LogoutIcon\";\nimport TeacherRepository from \"../../../repositories/TeacherRepository\";\nimport GoogleClassroomRepository from \"@/repositories/GoogleClassroomRepository\";\n\n// FONT AWESOME\nimport {FontAwesomeIcon} from '@fortawesome/vue-fontawesome'\nimport {faGoogle} from '@fortawesome/free-brands-svg-icons'\nimport {faEdit} from \"@fortawesome/free-solid-svg-icons\";\n</script>\n\n<style scoped>\n\n</style>\n"]}]}