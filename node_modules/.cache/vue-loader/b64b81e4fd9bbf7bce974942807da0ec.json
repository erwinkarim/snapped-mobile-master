{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/students/StudentDetails/StudentDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/students/StudentDetails/StudentDetails.vue","mtime":1679379067246},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBEYXNoYm9hcmRMYXlvdXQgZnJvbSAiQC92aWV3cy9sYXlvdXQvRGFzaGJvYXJkTGF5b3V0IjsKaW1wb3J0IE5hdkJhY2sgZnJvbSAiQC9jb21wb25lbnRzL05hdkJhY2siOwppbXBvcnQgSWNvbkJhc2UgZnJvbSAiQC9jb21wb25lbnRzL0ljb25CYXNlIjsKaW1wb3J0IFByb2ZpbGVQaG90byBmcm9tICJAL2NvbXBvbmVudHMvaWNvbnMvUHJvZmlsZVBob3RvIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgU3R1ZGVudFJlcG9zaXRvcnkgZnJvbSAiQC9yZXBvc2l0b3JpZXMvU3R1ZGVudFJlcG9zaXRvcnkiOwppbXBvcnQgQ2lyY2xlUHJvZ3Jlc3NCYXIgZnJvbSAiQC9jb21wb25lbnRzL0NpcmNsZVByb2dyZXNzQmFyIjsKaW1wb3J0IFJhbmtpbmdQYW5lbCBmcm9tICJAL3ZpZXdzL3N0dWRlbnRzL1N0dWRlbnREZXRhaWxzL2NvbXBvbmVudHMvUmFua2luZ1BhbmVsIjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CmltcG9ydCBQYWdlVGl0bGVUd28gZnJvbSAiQC9jb21wb25lbnRzL1BhZ2VUaXRsZVR3byI7CmltcG9ydCBQYWdlSGVhZGVyVGhyZWUgZnJvbSAiQC9jb21wb25lbnRzL1BhZ2VIZWFkZXJUaHJlZSI7CmltcG9ydCBUYWJCYXIgZnJvbSAiQC92aWV3cy9zdHVkZW50cy9TdHVkZW50RGV0YWlscy9jb21wb25lbnRzL1RhYkJhciI7CmltcG9ydCBJY29uQmFzZVR3byBmcm9tICJAL2NvbXBvbmVudHMvSWNvbkJhc2VUd28iOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdHVkZW50RGV0YWlscyIsCiAgcHJvcHM6IHsKICAgIHN0dWRlbnRJRDogW1N0cmluZywgTnVtYmVyXQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CgogICAgICAvLyBTdGF0dXMKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKCiAgICAgIGF1dGhVc2VyOiBudWxsLAogICAgICBzdHVkZW50RGV0YWlsczogJycsCiAgICAgIHN0dWRlbnRPdmVydmlldzogJycsCiAgICAgIHBhdGg6ICcnLAogICAgICBuYXZCYWNrUm91dGU6ICdob21lJwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICckcm91dGUnOiAnaGFuZGxlUm91dGVDaGFuZ2UnLAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGhhbmRsZU5hdkJhY2tSb3V0ZSgpIHsKICAgICAgaWYgKHRoaXMubmF2QmFja1JvdXRlID09PSAnaG9tZScpIHsKICAgICAgICBpZiAodGhpcy51c2VyUm9sZSA9PT0gJ1N0dWRlbnQnKSB7CiAgICAgICAgICByZXR1cm4ge25hbWU6ICdzdHVkZW50LmhvbWUnfQogICAgICAgIH0KICAgICAgICBpZiAodGhpcy51c2VyUm9sZSA9PT0gJ1RlYWNoZXInKSB7CiAgICAgICAgICByZXR1cm4ge25hbWU6ICd0ZWFjaGVyLmhvbWUnfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4ge25hbWU6IHRoaXMubmF2QmFja1JvdXRlLm5hbWUsIHBhcmFtczogdGhpcy5uYXZCYWNrUm91dGUucGFyYW1zfQogICAgICB9CiAgICB9LAogICAgdXNlclJvbGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmF1dGhVc2VyLnJvbGU7CiAgICB9LAogICAgaXNBdXRoU3R1ZGVudCgpIHsKICAgICAgaWYgKHRoaXMuYXV0aFVzZXIucm9sZSA9PT0gJ1N0dWRlbnQnKSB7CiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuYXV0aFVzZXIuaWQpID09PSBwYXJzZUludCh0aGlzLnN0dWRlbnRJRCkKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbnVsbAogICAgICB9CiAgICB9LAoKICAgIG5vd0RhdGUoKSB7CiAgICAgIGNvbnN0IGRhdGUgPSBtb21lbnQodGhpcy5ub3dEYXRldGltZSwgIllZWVktTU0tREQgaGg6bW06c3MiKS5mb3JtYXQoJ1lZWVktTU0tREQnKQogICAgICByZXR1cm4gZGF0ZSA9PT0gJ0ludmFsaWQgZGF0ZScgPyBtb21lbnQoKS5mb3JtYXQoJ0REIE1NTU0gWVlZWScpIDogZGF0ZQogICAgfSwKICAgIG5vd1RpbWUoKSB7CiAgICAgIGNvbnN0IHRpbWUgPSBtb21lbnQodGhpcy5ub3dEYXRldGltZSwgIllZWVktTU0tREQgaGg6bW06c3MiKS5mb3JtYXQoJ2hoOm1tIEEnKQogICAgICByZXR1cm4gdGltZSA9PT0gJ0ludmFsaWQgZGF0ZScgPyBtb21lbnQoKS5mb3JtYXQoJ2hoOm1tIEEnKSA6IHRpbWUKICAgIH0sCiAgfSwKCiAgbWV0aG9kczogewoKICAgIGhhbmRsZVJvdXRlQ2hhbmdlKCkgewogICAgICBpZiAodGhpcy51c2VyUm9sZSAhPT0gJ1RlYWNoZXInICYmICF0aGlzLmlzQXV0aFN0dWRlbnQpIHsKICAgICAgICBpZiAodGhpcy4kcm91dGUubmFtZSAhPT0gJ3N0dWRlbnQucHJvZmlsZS5zaG93JykgewogICAgICAgICAgcm91dGVyLnB1c2goe25hbWU6ICdzdHVkZW50LnByb2ZpbGUuc2hvdyd9KQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGZldGNoRGF0YSgpIHsKCiAgICAgIFN0dWRlbnRSZXBvc2l0b3J5LmdldE92ZXJ2aWV3KHRoaXMuc3R1ZGVudElEKQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewoKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcykgewoKICAgICAgICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgdGhpcy5zdHVkZW50RGV0YWlscyA9IHsKICAgICAgICAgICAgICAgIHN0dWRlbnROYW1lOiBkYXRhLnN0dWRlbnRfZGV0YWlscy5zdHVkZW50X25hbWUsCiAgICAgICAgICAgICAgICBnZW5kZXI6IGRhdGEuc3R1ZGVudF9kZXRhaWxzLmdlbmRlciwKICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZGF0YS5zdHVkZW50X2RldGFpbHMuc3R1ZGVudF9jbGFzcywKICAgICAgICAgICAgICAgIGNvbnRhY3ROdW06IGRhdGEucGVyc29uYWxfZGV0YWlscy5jb250YWN0X251bWJlciwKICAgICAgICAgICAgICAgIGVtYWlsOiBkYXRhLnBlcnNvbmFsX2RldGFpbHMuZW1haWwKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgIH0sCgogICAgZ2V0Um91dGVQYXJhbXMoKSB7CiAgICAgIHRoaXMucGF0aCA9IHRoaXMuJHJvdXRlLnBhdGgKICAgIH0sCgoKICAgIGdldEF1dGhVc2VyKCkgewogICAgICBsZXQgdXNlciA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0QXV0aFVzZXIKCiAgICAgIHRoaXMuYXV0aFVzZXIgPSB7CiAgICAgICAgaWQ6IHVzZXIuaWQsCiAgICAgICAgcm9sZTogdXNlci5yb2xlCiAgICAgIH0KICAgIH0KCiAgfSwKCiAgYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgcmV0dXJuIG5leHQodm0gPT4gewogICAgICB2bS5wcmV2Um91dGUgPSBmcm9tCiAgICB9KQogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUubmFtZSAhPT0gJ3N0dWRlbnQucHJvZmlsZS5zaG93JykgewogICAgICByb3V0ZXIucHVzaCh7bmFtZTogJ3N0dWRlbnQucHJvZmlsZS5zaG93J30pCiAgICB9CiAgICB0aGlzLmZldGNoRGF0YSgpCiAgICB0aGlzLmdldEF1dGhVc2VyKCkKICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5wcmV2Um91dGUubmFtZSkgewogICAgICB0aGlzLm5hdkJhY2tSb3V0ZSA9IHsKICAgICAgICBuYW1lOiB0aGlzLnByZXZSb3V0ZS5uYW1lLAogICAgICAgIHBhcmFtczogdGhpcy5wcmV2Um91dGUucGFyYW1zCiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICB0aGlzLm5hdkJhY2tSb3V0ZSA9ICdob21lJwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgSWNvbkJhc2VUd28sCiAgICBUYWJCYXIsCiAgICBQYWdlSGVhZGVyVGhyZWUsCiAgICBQYWdlVGl0bGVUd28sIFJhbmtpbmdQYW5lbCwgQ2lyY2xlUHJvZ3Jlc3NCYXIsIFByb2ZpbGVQaG90bywgSWNvbkJhc2UsIE5hdkJhY2ssIERhc2hib2FyZExheW91dAogIH0KfQo="},{"version":3,"sources":["StudentDetails.vue"],"names":[],"mappings":";AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentDetails.vue","sourceRoot":"src/views/students/StudentDetails","sourcesContent":["<template>\n  <dashboard-layout>\n\n    <template v-slot:pageHeader>\n      <page-header-three>\n        <template v-slot:leftAction>\n          <nav-back :to=\"handleNavBackRoute\" class=\"w-2/7\" stroke-color=\"red-primary\"/>\n        </template>\n      </page-header-three>\n    </template>\n\n    <template v-slot:content>\n      <div\n          class=\"fixed top-20 md:top-24 px-5 pt-4 z-40 bg-white w-full md:max-w-xl border-b-1/4 border-opacity-10 border-gray-100 shadow-md-soft md:shadow-none pb-4\">\n\n        <!-- SECTION: STUDENT DETAILS -->\n        <div v-if=\"isLoading\" class=\"flex flex-row items-center items-center px-2\">\n\n          <div class=\"w-3/12 mr-2\">\n            <icon-base-two>\n              <profile-photo :gender=\"studentDetails.gender\"/>\n            </icon-base-two>\n          </div>\n\n          <div class=\"flex flex-col w-full text-left w-3/5  truncate\">\n            <h1 class=\"text-purple-primary font-bold \">\n              {{ studentDetails.studentName }}\n            </h1>\n\n            <div class=\"flex flex-row text-purple-secondary text-px-13 mt-1\">\n              <span class=\"pr-6\">{{ studentDetails.className || '' }}</span>\n              <span>{{ nowDate || '' }}</span>\n            </div>\n          </div>\n        </div>\n\n        <ranking-panel class=\"mt-5\"/>\n\n        <!-- SECTION: TABS -->\n        <tab-bar\n            :user-role=\"authUser.role\"\n            :is-auth-student=\"isAuthStudent\"\n        />\n\n      </div>\n\n      <router-view class=\"top-98 relative mb-24\"\n                   :user-role=\"authUser.role\"\n                   :is-auth-student=\"isAuthStudent\"\n      />\n\n    </template>\n\n\n  </dashboard-layout>\n</template>\n\n<script>\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport NavBack from \"@/components/NavBack\";\nimport IconBase from \"@/components/IconBase\";\nimport ProfilePhoto from \"@/components/icons/ProfilePhoto\";\nimport moment from \"moment\";\nimport StudentRepository from \"@/repositories/StudentRepository\";\nimport CircleProgressBar from \"@/components/CircleProgressBar\";\nimport RankingPanel from \"@/views/students/StudentDetails/components/RankingPanel\";\nimport router from \"@/router\";\nimport PageTitleTwo from \"@/components/PageTitleTwo\";\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport TabBar from \"@/views/students/StudentDetails/components/TabBar\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\n\nexport default {\n  name: \"StudentDetails\",\n  props: {\n    studentID: [String, Number]\n  },\n  data() {\n    return {\n\n      // Status\n      isLoading: false,\n\n      authUser: null,\n      studentDetails: '',\n      studentOverview: '',\n      path: '',\n      navBackRoute: 'home'\n    }\n  },\n  watch: {\n    '$route': 'handleRouteChange',\n  },\n  computed: {\n    handleNavBackRoute() {\n      if (this.navBackRoute === 'home') {\n        if (this.userRole === 'Student') {\n          return {name: 'student.home'}\n        }\n        if (this.userRole === 'Teacher') {\n          return {name: 'teacher.home'}\n        }\n      } else {\n        return {name: this.navBackRoute.name, params: this.navBackRoute.params}\n      }\n    },\n    userRole() {\n      return this.authUser.role;\n    },\n    isAuthStudent() {\n      if (this.authUser.role === 'Student') {\n        return parseInt(this.authUser.id) === parseInt(this.studentID)\n      } else {\n        return null\n      }\n    },\n\n    nowDate() {\n      const date = moment(this.nowDatetime, \"YYYY-MM-DD hh:mm:ss\").format('YYYY-MM-DD')\n      return date === 'Invalid date' ? moment().format('DD MMMM YYYY') : date\n    },\n    nowTime() {\n      const time = moment(this.nowDatetime, \"YYYY-MM-DD hh:mm:ss\").format('hh:mm A')\n      return time === 'Invalid date' ? moment().format('hh:mm A') : time\n    },\n  },\n\n  methods: {\n\n    handleRouteChange() {\n      if (this.userRole !== 'Teacher' && !this.isAuthStudent) {\n        if (this.$route.name !== 'student.profile.show') {\n          router.push({name: 'student.profile.show'})\n        }\n      }\n    },\n    fetchData() {\n\n      StudentRepository.getOverview(this.studentID)\n          .then(response => {\n\n            if (response.data.success) {\n\n              let data = response.data.data;\n\n              this.studentDetails = {\n                studentName: data.student_details.student_name,\n                gender: data.student_details.gender,\n                className: data.student_details.student_class,\n                contactNum: data.personal_details.contact_number,\n                email: data.personal_details.email\n              }\n\n              this.isLoading = true;\n            }\n          })\n    },\n\n    getRouteParams() {\n      this.path = this.$route.path\n    },\n\n\n    getAuthUser() {\n      let user = this.$store.getters.getAuthUser\n\n      this.authUser = {\n        id: user.id,\n        role: user.role\n      }\n    }\n\n  },\n\n  beforeRouteEnter(to, from, next) {\n    return next(vm => {\n      vm.prevRoute = from\n    })\n  },\n\n  created() {\n    if (this.$route.name !== 'student.profile.show') {\n      router.push({name: 'student.profile.show'})\n    }\n    this.fetchData()\n    this.getAuthUser()\n  },\n  mounted() {\n    if (this.prevRoute.name) {\n      this.navBackRoute = {\n        name: this.prevRoute.name,\n        params: this.prevRoute.params\n      };\n    } else {\n      this.navBackRoute = 'home'\n    }\n  },\n  components: {\n    IconBaseTwo,\n    TabBar,\n    PageHeaderThree,\n    PageTitleTwo, RankingPanel, CircleProgressBar, ProfilePhoto, IconBase, NavBack, DashboardLayout\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}