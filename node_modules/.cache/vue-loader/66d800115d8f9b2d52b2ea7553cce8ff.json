{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherAssignments/Export/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherAssignments/Export/Index.vue","mtime":1679379067247},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBEYXNoYm9hcmRMYXlvdXQgZnJvbSAiQC92aWV3cy9sYXlvdXQvRGFzaGJvYXJkTGF5b3V0IjsKaW1wb3J0IFBhZ2VIZWFkZXJUaHJlZSBmcm9tICJAL2NvbXBvbmVudHMvUGFnZUhlYWRlclRocmVlIjsKaW1wb3J0IE5hdkJhY2sgZnJvbSAiQC9jb21wb25lbnRzL05hdkJhY2siOwppbXBvcnQgTW9kYWwgZnJvbSAiQC9jb21wb25lbnRzL01vZGFsIjsKaW1wb3J0IEdvb2dsZUNsYXNzcm9vbVJlcG9zaXRvcnkgZnJvbSAiQC9yZXBvc2l0b3JpZXMvR29vZ2xlQ2xhc3Nyb29tUmVwb3NpdG9yeSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkluZGV4IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKCiAgICAgIC8vIHN0YXRlcwogICAgICBpc0xvYWRpbmc6IHRydWUsCiAgICAgIGlzRXhwb3J0aW5nOiBmYWxzZSwKICAgICAgaXNTdWNjZXNzZnVsOiBmYWxzZSwKCiAgICAgIGhhc0Vycm9yOiBmYWxzZSwKCiAgICAgIHNlbGVjdGVkRm9sZGVyOiBudWxsLAogICAgICBmb2xkZXJzOiBbXQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzR29vZ2xlQ2xhc3Nyb29tSW50ZWdyYXRlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0R29vZ2xlSW50ZWdyYXRlZDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRm9sZGVycygpIHsKCiAgICAgIEdvb2dsZUNsYXNzcm9vbVJlcG9zaXRvcnkuZmV0Y2hGb2xkZXJzKCkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy5mb2xkZXJzID0gcmVzcG9uc2UuZGF0YS5kYXRhLmZvbGRlcnM7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICB9LAogICAgc3VibWl0KCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZEZvbGRlcikgewoKICAgICAgICBsZXQgcGF5bG9hZCA9IHsKICAgICAgICAgIGZvbGRlcklEOiB0aGlzLnNlbGVjdGVkRm9sZGVyLmlkLAogICAgICAgICAgYXNzaWdubWVudElEOiB0aGlzLiRhdHRycy5hc3NpZ25tZW50SUQKICAgICAgICB9CgogICAgICAgIC8vIFNldCBzdGF0ZSB0byBpc0V4cG9ydGluZwogICAgICAgIHRoaXMuaXNFeHBvcnRpbmcgPSB0cnVlOwoKICAgICAgICBHb29nbGVDbGFzc3Jvb21SZXBvc2l0b3J5LmV4cG9ydChwYXlsb2FkKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgdGhpcy5pc0V4cG9ydGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5pc1N1Y2Nlc3NmdWwgPSB0cnVlOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ09vcHMhIEl0IHNlZW1zIHRoYXQgdGhlcmUgaXMgc29tZXRoaW5nIHdyb25nIHdpdGggdGhpcyBleHBvcnQgbW9kdWxlLicpCiAgICAgICAgICAgIH0pCiAgICAgIH0KCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaEZvbGRlcnMoKQogIH0sCiAgY29tcG9uZW50czoge05hdkJhY2ssIFBhZ2VIZWFkZXJUaHJlZSwgRGFzaGJvYXJkTGF5b3V0LCBNb2RhbH0KfQo="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";AAsHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views/teachers/TeacherAssignments/Export","sourcesContent":["<template>\n  <dashboard-layout :has-custom-bottom-bar=\"isGoogleClassroomIntegrated\" :no-bottom-bar=\"!isGoogleClassroomIntegrated\">\n\n    <!--  HEADER -->\n    <template v-slot:pageHeader>\n      <page-header-three class=\"px-2\" :has-scroll-animation=\"true\">\n        <template v-slot:leftAction>\n          <nav-back class=\"w-2/7\" stroke-color=\"red-primary\"/>\n        </template>\n        <template v-slot:mini-title>\n          Export Assignment\n        </template>\n        <template v-slot:title>\n          Export Assignment\n        </template>\n      </page-header-three>\n    </template>\n\n    <template v-slot:content v-if=\"isGoogleClassroomIntegrated\">\n\n      <!--  MODAL: EXPORTING   -->\n      <div v-if=\"isExporting\" @click.self=\"\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal class=\"w-4/5 \">\n          <h3 slot=\"title\" class=\"text-purple-primary font-bold text-4xl\">Exporting...</h3>\n          <p slot=\"message\">\n            Exporting assignment details\n          </p>\n        </modal>\n      </div>\n\n      <!--  MODAL: SUCCESS   -->\n      <div v-if=\"isSuccessful\" @click.self=\"\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal :redirect-route=\"{name: 'teacher.assignments.show'}\"\n               modal-type=\"success\"\n               class=\"w-4/5 \"\n        >\n          <h3 slot=\"title\" class=\"text-purple-primary font-bold text-4xl\">Published!</h3>\n          <p slot=\"message\">\n            Assignment exported!\n          </p>\n          <template slot=\"button\">\n            <button class=\"font-bold w-4/5 rounded-full px-2 font-bold leading-relaxed tracking-wider\">\n              Okay\n            </button>\n          </template>\n        </modal>\n      </div>\n\n      <!--  MODAL: SUCCESS   -->\n      <div v-if=\"hasError\" @click.self=\"\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal modal-type=\"error\"\n               class=\"w-4/5 \"\n        >\n          <h3 slot=\"title\" class=\"text-purple-primary font-bold text-4xl\">Oops!</h3>\n          <p slot=\"message\">\n            Seems like something went wrong.\n          </p>\n          <template slot=\"button\">\n            <button class=\"font-bold w-4/5 rounded-full px-2 font-bold leading-relaxed tracking-wider\">\n              Try again?\n            </button>\n          </template>\n        </modal>\n      </div>\n\n\n      <!-- INPUTS     -->\n      <div class=\"w-full px-7 mt-3 pb-3\">\n\n        <multiselect v-model=\"selectedFolder\"\n                     :options=\"folders\"\n                     :show-labels=\"false\"\n                     track-by=\"id\"\n                     label=\"title\"\n                     :placeholder=\"!isLoading ? 'Google Classroom Folder' : 'Loading...'\"\n                     class=\"mt-2 w-full text-lg font-normal leading-tight text-left rounded-md border border-none appearance-none bg-gray-secondary text-purple-secondary focus:outline-none focus:shadow-outline placeholder-purple-secondary\"\n        >\n\n          <!--            <option disabled value=\"\">Class</option>-->\n          <!--            <option v-for=\"classroom in classrooms\" :value=\"classroom.id\">{{ classroom.name }}</option>-->\n        </multiselect>\n      </div>\n\n    </template>\n\n    <template v-slot:content v-else>\n\n      <!-- INPUTS     -->\n      <div class=\"w-full px-7 mt-3 flex flex-col items-center pb-3 pt-20\">\n        <div class=\"text-xs\">\n          It seems that you are not connected to your Google account.\n        </div>\n        <router-link :to=\"{name: 'teacher.settings'}\"\n                     class=\"bg-purple-primary mt-4 py-2 text-xs rounded-lg px-5 text-white\"\n        >\n          CONNECT NOW\n        </router-link>\n      </div>\n\n    </template>\n\n    <template v-slot:bottomBar v-if=\"isGoogleClassroomIntegrated\">\n      <!--      <button @click=\"toggleDeleteModal\"-->\n      <!--              class=\"w-full font-bold rounded-full text-white text-sm bg-red-primary border-2 border-red-primary py-3 px-1 flex flex-row justify-center mr-2\">-->\n      <!--        Delete-->\n      <!--      </button>-->\n      <button @click=\"submit\"\n              class=\"w-full font-bold focus:outline-none rounded-full text-purple-primary text-sm bg-white border-2 border-purple-primary py-3 px-1 flex flex-row justify-center\">\n        Export\n      </button>\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport NavBack from \"@/components/NavBack\";\nimport Modal from \"@/components/Modal\";\nimport GoogleClassroomRepository from \"@/repositories/GoogleClassroomRepository\";\n\nexport default {\n  name: \"Index\",\n  data() {\n    return {\n\n      // states\n      isLoading: true,\n      isExporting: false,\n      isSuccessful: false,\n\n      hasError: false,\n\n      selectedFolder: null,\n      folders: []\n    }\n  },\n  computed: {\n    isGoogleClassroomIntegrated() {\n      return this.$store.getters.getGoogleIntegrated;\n    }\n  },\n  methods: {\n    fetchFolders() {\n\n      GoogleClassroomRepository.fetchFolders()\n          .then(response => {\n            if (response.data.success) {\n              this.isLoading = false;\n              this.folders = response.data.data.folders;\n            }\n          })\n    },\n    submit() {\n      if (this.selectedFolder) {\n\n        let payload = {\n          folderID: this.selectedFolder.id,\n          assignmentID: this.$attrs.assignmentID\n        }\n\n        // Set state to isExporting\n        this.isExporting = true;\n\n        GoogleClassroomRepository.export(payload)\n            .then(response => {\n              if (response.data.success) {\n                this.isExporting = false;\n                this.isSuccessful = true;\n              } else {\n                this.hasError = true;\n              }\n            })\n            .catch(error => {\n              console.log('Oops! It seems that there is something wrong with this export module.')\n            })\n      }\n\n    }\n  },\n  created() {\n    this.fetchFolders()\n  },\n  components: {NavBack, PageHeaderThree, DashboardLayout, Modal}\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}