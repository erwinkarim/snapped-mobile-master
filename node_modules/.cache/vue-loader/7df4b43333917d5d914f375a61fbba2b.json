{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/students/StudentAssignments/Marked/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/students/StudentAssignments/Marked/Index.vue","mtime":1679389595155},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBEYXNoYm9hcmRMYXlvdXQgZnJvbSAiQC92aWV3cy9sYXlvdXQvRGFzaGJvYXJkTGF5b3V0IjsKaW1wb3J0IE5hdkJhY2sgZnJvbSAiQC9jb21wb25lbnRzL05hdkJhY2siOwppbXBvcnQgUGFnZUhlYWRlclRocmVlIGZyb20gIkAvY29tcG9uZW50cy9QYWdlSGVhZGVyVGhyZWUiOwppbXBvcnQgSWNvbkJhc2VUd28gZnJvbSAiQC9jb21wb25lbnRzL0ljb25CYXNlVHdvIjsKaW1wb3J0IEFuc3dlclByZXZpZXdTd2lwZXIgZnJvbSAiQC92aWV3cy90ZWFjaGVycy9UZWFjaGVyQXNzaWdubWVudHMvTWFyay9Db21wb25lbnRzL0Fuc3dlclByZXZpZXdTd2lwZXIiOwppbXBvcnQgTWFya3NSZXBvc2l0b3J5IGZyb20gIkAvcmVwb3NpdG9yaWVzL3RlYWNoZXJzL01hcmtzUmVwb3NpdG9yeSI7CmltcG9ydCB7ZGlyZWN0aXZlfSBmcm9tICJ2dWUtYXdlc29tZS1zd2lwZXIiOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKaW1wb3J0IEF1dGhlbnRpY2F0aW9uUmVwb3NpdG9yeSBmcm9tICJAL3JlcG9zaXRvcmllcy9BdXRoZW50aWNhdGlvblJlcG9zaXRvcnkiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJJbmRleCIsCiAgZGlyZWN0aXZlczogewogICAgbXlTd2lwZXI6IGRpcmVjdGl2ZQogIH0sCiAgcHJvcHM6IHsKICAgIGFzc2lnbm1lbnRJRDogW1N0cmluZywgTnVtYmVyXSwKICAgIG1hcmtzSUQ6IFtTdHJpbmcsIE51bWJlcl0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewoKICAgICAgLy8gc3RhdGVzCiAgICAgIGlzU2hvd2luZ01hcmtpbmdzOiB0cnVlLAogICAgICBpc1Nob3dpbmdGZWVkYmFjazogZmFsc2UsCgogICAgICBkZXRhaWxzOiB7CiAgICAgICAgbWFya2luZ1BpY3R1cmVQYXRoczogW10sCiAgICAgICAgZmVlZGJhY2s6IG51bGwKICAgICAgfSwKCiAgICAgIHN3aXBlck9wdGlvbjogewogICAgICAgIGluaXRpYWxTbGlkZTogMCwKICAgICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJywKICAgICAgICBzcGVlZDogMjAwLAogICAgICAgIHNsaWRlc1BlclZpZXc6IDEsCiAgICAgICAgc3BhY2VCZXR3ZWVuOiAxNSwKICAgICAgICBmcmVlTW9kZTogZmFsc2UsCiAgICAgICAgbG9vcDogZmFsc2UsCiAgICAgICAgcGFnaW5hdGlvbjogewogICAgICAgICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLAogICAgICAgICAgdHlwZTogJ2J1bGxldHMnLAogICAgICAgICAgY2xpY2thYmxlOiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgbmF2aWdhdGlvbjogewogICAgICAgICAgbmV4dEVsOiAnLnN3aXBlci1idXR0b24tbmV4dCcsCiAgICAgICAgICBwcmV2RWw6ICcuc3dpcGVyLWJ1dHRvbi1wcmV2JwogICAgICAgIH0sCiAgICAgICAgYXV0b3BsYXk6IGZhbHNlCiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBwYWdlVGl0bGUoKSB7CiAgICAgIGlmICh0aGlzLmlzU2hvd2luZ01hcmtpbmdzKSB7CiAgICAgICAgcmV0dXJuICdNYXJraW5ncycKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzU2hvd2luZ0ZlZWRiYWNrKSB7CiAgICAgICAgcmV0dXJuICdGZWVkYmFjaycKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJycKICAgICAgfQogICAgfSwKICAgIGJ1dHRvblRleHQoKSB7CiAgICAgIGlmICh0aGlzLmlzU2hvd2luZ01hcmtpbmdzKSB7CiAgICAgICAgcmV0dXJuICdWaWV3IEZlZWRiYWNrJwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNTaG93aW5nRmVlZGJhY2spIHsKICAgICAgICByZXR1cm4gJ1ZpZXcgTWFya2luZ3MnCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnCiAgICAgIH0KICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaERhdGEoKSB7CiAgICAgIE1hcmtzUmVwb3NpdG9yeS5maW5kKHRoaXMubWFya3NJRCkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHsKCiAgICAgICAgICAgICAgbGV0IGRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGE7CgogICAgICAgICAgICAgIGxldCBpc1VuYW5zd2VyZWQgPSBkYXRhLm1hcmtzX3RhZyA/IGRhdGEubWFya3NfdGFnID09PSAndW5hbnN3ZXJlZCcgOiBmYWxzZTsKCiAgICAgICAgICAgICAgaWYgKGlzVW5hbnN3ZXJlZCkgewogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnc3R1ZGVudC5hc3NpZ25tZW50cy5zaG93JywgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudElEOiBkYXRhLmFzc2lnbm1lbnRfaWQsCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlscy5tYXJraW5nUGljdHVyZVBhdGhzID0gZGF0YS5tYXJraW5nX3BpY3R1cmVfdXJsLnNwbGl0KCcsJyk7CiAgICAgICAgICAgICAgICB0aGlzLmRldGFpbHMuZmVlZGJhY2sgPSBkYXRhLm1hcmtzX2ZlZWRiYWNrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgIH0pCiAgICB9LAoKICAgIHRvZ2dsZU1vZGUoKSB7CiAgICAgIHRoaXMuaXNTaG93aW5nRmVlZGJhY2sgPSAhdGhpcy5pc1Nob3dpbmdGZWVkYmFjazsKICAgICAgdGhpcy5pc1Nob3dpbmdNYXJraW5ncyA9ICF0aGlzLmlzU2hvd2luZ01hcmtpbmdzOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCkKICB9LAogIGNvbXBvbmVudHM6IHtBbnN3ZXJQcmV2aWV3U3dpcGVyLCBJY29uQmFzZVR3bywgUGFnZUhlYWRlclRocmVlLCBOYXZCYWNrLCBEYXNoYm9hcmRMYXlvdXR9Cn0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views/students/StudentAssignments/Marked","sourcesContent":["<template>\n\n  <dashboard-layout :has-fixed-header=\"true\" :has-custom-bottom-bar=\"true\">\n\n\n    <template v-slot:pageHeader>\n      <page-header-three class=\"pb-4\">\n        <template v-slot:leftAction>\n          <nav-back class=\"w-2/7\" stroke-color=\"red-primary\"/>\n        </template>\n\n        <template v-slot:mini-title>\n          {{ pageTitle }}\n        </template>\n\n      </page-header-three>\n    </template>\n\n    <!--  ASSIGNMENT ANSWERS-->\n    <template v-slot:content>\n\n      <!-- SHOW MARKINGS -->\n      <div v-if=\"isShowingMarkings\"\n           class=\"relative max-w-xl top-24\">\n        <div class=\"pt-4 z-10 mb-20 bg-white px-6 \">\n          <div class=\"w-full\">\n            <div v-my-swiper=\"swiperOption\">\n              <div class=\"swiper-wrapper\">\n                <div v-for=\"(path, index) in details.markingPicturePaths\"\n                     class=\" swiper-slide rounded-2xl h-full overflow-hidden\">\n                  <div class=\"w-full flex flex-row justify-center py-2 px-4 h-full object-cover top-0 items-center\">\n                    <img :src=\"path\" crossorigin=\"anonymous\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"swiper-pagination\"></div>\n              <!--            <div class=\"swiper-button-prev\" slot=\"button-prev\"></div>-->\n              <!--            <div class=\"swiper-button-next\" slot=\"button-next\"></div>-->\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- SHOW FEEDBACK -->\n      <div v-if=\"isShowingFeedback\"\n           class=\"relative px-8 md:mt-10 mb-28\"\n           :class=\"details.feedback ? 'top-26 text-purple-primary text-left' : 'top-30 text-purple-secondary text-center' \"\n      >\n        {{ details.feedback || 'No feedback available.' }}\n      </div>\n    </template>\n\n    <template v-slot:bottomBar>\n\n      <div class=\"w-full flex flex-row\">\n        <button @click=\"toggleMode\"\n                class=\"w-full md:max-w-xl md:mx-auto font-bold rounded-full text-purple-primary text-sm border-2 border-purple-primary bg-white py-3 px-1 flex flex-row justify-center\">\n          {{ buttonText }}\n        </button>\n      </div>\n\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport NavBack from \"@/components/NavBack\";\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport AnswerPreviewSwiper from \"@/views/teachers/TeacherAssignments/Mark/Components/AnswerPreviewSwiper\";\nimport MarksRepository from \"@/repositories/teachers/MarksRepository\";\nimport {directive} from \"vue-awesome-swiper\";\nimport router from \"@/router\";\nimport AuthenticationRepository from \"@/repositories/AuthenticationRepository\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"Index\",\n  directives: {\n    mySwiper: directive\n  },\n  props: {\n    assignmentID: [String, Number],\n    marksID: [String, Number]\n  },\n  data() {\n    return {\n\n      // states\n      isShowingMarkings: true,\n      isShowingFeedback: false,\n\n      details: {\n        markingPicturePaths: [],\n        feedback: null\n      },\n\n      swiperOption: {\n        initialSlide: 0,\n        direction: 'horizontal',\n        speed: 200,\n        slidesPerView: 1,\n        spaceBetween: 15,\n        freeMode: false,\n        loop: false,\n        pagination: {\n          el: '.swiper-pagination',\n          type: 'bullets',\n          clickable: true,\n        },\n        navigation: {\n          nextEl: '.swiper-button-next',\n          prevEl: '.swiper-button-prev'\n        },\n        autoplay: false\n      }\n    }\n  },\n  computed: {\n    pageTitle() {\n      if (this.isShowingMarkings) {\n        return 'Markings'\n      } else if (this.isShowingFeedback) {\n        return 'Feedback'\n      } else {\n        return ''\n      }\n    },\n    buttonText() {\n      if (this.isShowingMarkings) {\n        return 'View Feedback'\n      } else if (this.isShowingFeedback) {\n        return 'View Markings'\n      } else {\n        return ''\n      }\n    },\n  },\n  methods: {\n    fetchData() {\n      MarksRepository.find(this.marksID)\n          .then(response => {\n\n            if (response.data.success) {\n\n              let data = response.data.data;\n\n              let isUnanswered = data.marks_tag ? data.marks_tag === 'unanswered' : false;\n\n              if (isUnanswered) {\n                router.push({\n                  name: 'student.assignments.show', params: {\n                    assignmentID: data.assignment_id,\n                  }\n                })\n              } else {\n                this.details.markingPicturePaths = data.marking_picture_url.split(',');\n                this.details.feedback = data.marks_feedback;\n              }\n            }\n\n          })\n    },\n\n    toggleMode() {\n      this.isShowingFeedback = !this.isShowingFeedback;\n      this.isShowingMarkings = !this.isShowingMarkings;\n    }\n  },\n  created() {\n    this.fetchData()\n  },\n  components: {AnswerPreviewSwiper, IconBaseTwo, PageHeaderThree, NavBack, DashboardLayout}\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}