{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherAssignments/Mark/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherAssignments/Mark/Index.vue","mtime":1679379067248},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBQYWdlSGVhZGVyVGhyZWUgZnJvbSAiQC9jb21wb25lbnRzL1BhZ2VIZWFkZXJUaHJlZSI7CmltcG9ydCBOYXZCYWNrIGZyb20gIkAvY29tcG9uZW50cy9OYXZCYWNrIjsKaW1wb3J0IEljb25CYXNlVHdvIGZyb20gIkAvY29tcG9uZW50cy9JY29uQmFzZVR3byI7CmltcG9ydCBBcnJvd0JhY2tJY29uIGZyb20gIkAvY29tcG9uZW50cy9pY29ucy9BcnJvd0JhY2tJY29uIjsKaW1wb3J0IEV4cGFuZEltYWdlSWNvbiBmcm9tICJAL2NvbXBvbmVudHMvaWNvbnMvRXhwYW5kSW1hZ2VJY29uIjsKaW1wb3J0IEJvdHRvbUJhciBmcm9tICJAL3ZpZXdzL3RlYWNoZXJzL1RlYWNoZXJBc3NpZ25tZW50cy9NYXJrL0NvbXBvbmVudHMvQm90dG9tQmFyIjsKaW1wb3J0IFN1Ym1pc3Npb25SZXBvc2l0b3J5IGZyb20gIkAvcmVwb3NpdG9yaWVzL1N1Ym1pc3Npb25SZXBvc2l0b3J5IjsKaW1wb3J0IE1vZGFsIGZyb20gIkAvY29tcG9uZW50cy9Nb2RhbCI7CmltcG9ydCBNYXJrc1JlcG9zaXRvcnkgZnJvbSAiQC9yZXBvc2l0b3JpZXMvdGVhY2hlcnMvTWFya3NSZXBvc2l0b3J5IjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IFVuZG9JY29uIGZyb20gIkAvY29tcG9uZW50cy9pY29ucy9VbmRvSWNvbiI7CmltcG9ydCBQYWdlSGVhZGVyIGZyb20gIkAvdmlld3MvdGVhY2hlcnMvVGVhY2hlckFzc2lnbm1lbnRzL01hcmsvQ29tcG9uZW50cy9QYWdlSGVhZGVyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSW5kZXgiLAogIHByb3BzOiB7CiAgICBzdWJtaXNzaW9uSUQ6IFtTdHJpbmcsIE51bWJlcl0sCiAgICBtYXJrSUQ6IFtTdHJpbmcsIE51bWJlcl0sCiAgfSwKCiAgd2F0Y2g6IHsKICAgICckcm91dGUnOiAnaGFuZGxlUm91dGVDaGFuZ2UnLAogIH0sCiAgY29tcHV0ZWQ6IHsKCiAgICBjb250YWluZXJDbGFzczogZnVuY3Rpb24gKCkgewogICAgICBsZXQgdmFsdWUgPSAnYmctd2hpdGUgbWItNDAgJzsKCiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS50ZWFjaGVyTWFya2luZy5zdGF0ZXMuaXNNYXJraW5nKSB7CiAgICAgICAgdmFsdWUgPSAnYmctYmxhY2stcHJpbWFyeSc7CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0sCgoKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVJvdXRlQ2hhbmdlKCkgewoKICAgICAgdGhpcy5zY3JvbGxUb1RvcCgpOwoKCiAgICAgIGxldCBwYXRoID0gdGhpcy4kcm91dGUubmFtZTsKCiAgICAgIGlmIChwYXRoID09PSAndGVhY2hlci5hc3NpZ25tZW50cy5tYXJraW5nLmRldGFpbHMnICYmICF0aGlzLiRzdG9yZS5zdGF0ZS50ZWFjaGVyTWFya2luZy5zdGF0ZXMuaXNQcmV2aWV3aW5nKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd0ZWFjaGVyTWFya2luZy9zZXRNYWluTW9kZScpCiAgICAgIH0KCiAgICAgIGlmIChwYXRoID09PSAndGVhY2hlci5hc3NpZ25tZW50cy5tYXJraW5nLmZlZWRiYWNrJykgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndGVhY2hlck1hcmtpbmcvc2V0V3JpdGluZ0ZlZWRiYWNrTW9kZScpCiAgICAgIH0KICAgIH0sCgogICAgdG9nZ2xlU3RpY2tlckJhcigpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ0ZWFjaGVyTWFya2luZy90b2dnbGVTdGlja2VyQmFyIikKICAgIH0sCgogICAgdG9nZ2xlTW9kYWxNb2RlKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RlYWNoZXJNYXJraW5nL3RvZ2dsZU1vZGFsTW9kZScpCiAgICB9LAoKICAgIHNjcm9sbFRvVG9wKCkgewogICAgICB3aW5kb3cuc2Nyb2xsKHsKICAgICAgICB0b3A6IDAsCiAgICAgICAgbGVmdDogMCwKICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgfSk7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgndGVhY2hlck1hcmtpbmcvc2V0SW5pdGlhbENhbnZhc0RpbWVuc2lvbnMnKQogICAgdGhpcy4kc3RvcmUuY29tbWl0KCd0ZWFjaGVyTWFya2luZy9zZXRJbml0aWFsQ2FudmFzRGltZW5zaW9ucycsIHRoaXMuJHJlZnMuY29udGFpbmVyLmNsaWVudFdpZHRoLCB0aGlzLiRyZWZzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQpCiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGVhY2hlck1hcmtpbmcvZmV0Y2hEYXRhJywgdGhpcy5zdWJtaXNzaW9uSUQpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInRlYWNoZXJNYXJraW5nL2J1bGtDb252ZXJ0U3VibWlzc2lvbnNUb0RhdGFVUkwiKQogICAgICAgIH0pCiAgfSwKICBkZXN0cm95ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RlYWNoZXJNYXJraW5nL3Jlc2V0U3RhdGUnKQogIH0sCiAgY29tcG9uZW50czogewogICAgUGFnZUhlYWRlciwKICAgIFVuZG9JY29uLCBNb2RhbCwgQm90dG9tQmFyLCBFeHBhbmRJbWFnZUljb24sIEFycm93QmFja0ljb24sIEljb25CYXNlVHdvLCBOYXZCYWNrLCBQYWdlSGVhZGVyVGhyZWUKICB9LAoKfQo="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Index.vue","sourceRoot":"src/views/teachers/TeacherAssignments/Mark","sourcesContent":["<template>\n  <div :class=\"containerClass\" ref=\"container\"\n       class=\"h-full md:max-w-xl mx-auto\"\n  >\n\n    <!---------------------\n            OVERLAYS\n     --------------------->\n    <div v-if=\"$store.state.teacherMarking.states.isShowingModal\" @click=\"toggleModalMode()\"\n         class=\"fixed w-full bg-black-primary bg-opacity-25 h-screen z-70 flex flex-col justify-center items-center inset-x-0 block top-0 \">\n    </div>\n    <div v-if=\"$store.state.teacherMarking.states.isSelectingSticker\" @click=\"toggleStickerBar\"\n         class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center inset-x-0 block top-0 \">\n    </div>\n\n\n    <!---------------------\n            MODAL\n     --------------------->\n    <div v-if=\"$store.state.teacherMarking.states.isShowingModal\"\n         class=\"fixed left-0 w-full items-center flex flex-col items-center justify-center top-1/4 z-70\">\n\n      <!-- ERROR: Missing mark. Prompt user to add mark before submitting  -->\n      <modal v-if=\"$store.state.teacherMarking.nowShowingModal === 'error_missing_mark'\"\n             modal-type=\"error\"\n             @toggleModal=\"toggleModalMode()\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          You must add mark for this assignment.\n        </template>\n        <template slot=\"button\">\n          Okay\n        </template>\n      </modal>\n\n      <!-- ERROR: Invalid image type. Some photos not converted to dataURL yet.  -->\n      <modal v-if=\"$store.state.teacherMarking.nowShowingModal === 'error_invalid_image_type'\"\n             modal-type=\"error\"\n             @toggleModal=\"toggleModalMode()\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          Please retry.\n        </template>\n        <template slot=\"button\">\n          Okay\n        </template>\n      </modal>\n\n      <!-- ERROR: Submissions failed  -->\n      <modal v-if=\"$store.state.teacherMarking.nowShowingModal === 'error_submit_markings'\"\n             modal-type=\"error\"\n             @toggleModal=\"toggleModalMode()\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          {{ $store.state.teacherMarking.states.errorMessages || 'Oops! There seems to be an error in your submission.'}}\n        </template>\n        <template slot=\"button\">\n          Okay\n        </template>\n      </modal>\n\n      <modal v-if=\"$store.state.teacherMarking.nowShowingModal === 'is_checking'\"\n          @toggleModal=\"toggleModalMode()\"\n             modal-type=\"no-icon\"\n             :has-button=\"false\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          Checking...\n        </template>\n      </modal>\n\n      <modal v-if=\"$store.state.teacherMarking.nowShowingModal === 'is_submitting'\"\n          @toggleModal=\"toggleModalMode()\"\n             :has-button=\"false\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          Submitting marking...\n        </template>\n      </modal>\n\n    </div>\n\n    <!-- HEADER -->\n    <page-header/>\n\n    <!-- CONTENT -->\n    <div class=\"relative\">\n      <router-view/>\n    </div>\n\n    <!-- BOTTOM -->\n    <bottom-bar/>\n\n  </div>\n</template>\n\n<script>\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport NavBack from \"@/components/NavBack\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport ArrowBackIcon from \"@/components/icons/ArrowBackIcon\";\nimport ExpandImageIcon from \"@/components/icons/ExpandImageIcon\";\nimport BottomBar from \"@/views/teachers/TeacherAssignments/Mark/Components/BottomBar\";\nimport SubmissionRepository from \"@/repositories/SubmissionRepository\";\nimport Modal from \"@/components/Modal\";\nimport MarksRepository from \"@/repositories/teachers/MarksRepository\";\nimport router from \"@/router\";\nimport moment from \"moment\";\nimport UndoIcon from \"@/components/icons/UndoIcon\";\nimport PageHeader from \"@/views/teachers/TeacherAssignments/Mark/Components/PageHeader\";\n\nexport default {\n  name: \"Index\",\n  props: {\n    submissionID: [String, Number],\n    markID: [String, Number],\n  },\n\n  watch: {\n    '$route': 'handleRouteChange',\n  },\n  computed: {\n\n    containerClass: function () {\n      let value = 'bg-white mb-40 ';\n\n      if (this.$store.state.teacherMarking.states.isMarking) {\n        value = 'bg-black-primary';\n      }\n\n      return value;\n    },\n\n\n  },\n  methods: {\n    handleRouteChange() {\n\n      this.scrollToTop();\n\n\n      let path = this.$route.name;\n\n      if (path === 'teacher.assignments.marking.details' && !this.$store.state.teacherMarking.states.isPreviewing) {\n        this.$store.commit('teacherMarking/setMainMode')\n      }\n\n      if (path === 'teacher.assignments.marking.feedback') {\n        this.$store.commit('teacherMarking/setWritingFeedbackMode')\n      }\n    },\n\n    toggleStickerBar() {\n      this.$store.commit(\"teacherMarking/toggleStickerBar\")\n    },\n\n    toggleModalMode() {\n      this.$store.commit('teacherMarking/toggleModalMode')\n    },\n\n    scrollToTop() {\n      window.scroll({\n        top: 0,\n        left: 0,\n        behavior: 'smooth'\n      });\n    },\n  },\n  mounted() {\n    // this.$store.commit('teacherMarking/setInitialCanvasDimensions')\n    this.$store.commit('teacherMarking/setInitialCanvasDimensions', this.$refs.container.clientWidth, this.$refs.container.clientHeight)\n    this.$store.dispatch('teacherMarking/fetchData', this.submissionID)\n        .then(response => {\n          this.$store.dispatch(\"teacherMarking/bulkConvertSubmissionsToDataURL\")\n        })\n  },\n  destroyed() {\n    this.$store.commit('teacherMarking/resetState')\n  },\n  components: {\n    PageHeader,\n    UndoIcon, Modal, BottomBar, ExpandImageIcon, ArrowBackIcon, IconBaseTwo, NavBack, PageHeaderThree\n  },\n\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}