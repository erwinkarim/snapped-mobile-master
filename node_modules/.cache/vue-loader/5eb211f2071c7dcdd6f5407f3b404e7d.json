{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/components/CountdownTimer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/components/CountdownTimer.vue","mtime":1679379067235},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IFN0b3BXYXRjaEljb24gZnJvbSAiQC9jb21wb25lbnRzL2ljb25zL1N0b3BXYXRjaEljb24iOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDb3VudGRvd25UaW1lciIsCiAgY29tcG9uZW50czoge1N0b3BXYXRjaEljb259LAogIHByb3BzOiB7CiAgICBkdWVEYXRlVGltZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKICAgIGhhc0Nsb2NrSWNvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGhhc1R3ZW50eUZvdXJIb3VyTGltaXQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBoYXNEeW5hbWljQmFja2dyb3VuZENvbG9yOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZGlzYWJsZVJlZEFsZXJ0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltZVBhc3NlZDogMCwKICAgICAgdGltZXJJbnRlcnZhbDogbnVsbCwKICAgICAgaW5TZWNvbmRzOiB7CiAgICAgICAgZGF5OiA4NjQwMCwKICAgICAgICBob3VyOiAzNjAwLAogICAgICAgIG1pbnV0ZTogNjAKICAgICAgfSwKICAgICAgY3VzdG9tQmFja2dyb3VuZENvbG9yOiBudWxsCiAgICB9CiAgfSwKICBjb21wdXRlZDogewoKICAgIHRpbWVUb3RhbCgpIHsKICAgICAgLy8gQ2FsY3VsYXRlIHRvdGFsIHRpbWUgYmFzZWQgb24gZGlmZmVyZW5jZSBmcm9tIG5vdyB0byBkdWUgZGF0ZQogICAgICBsZXQgbm93ID0gbW9tZW50KCkudG9EYXRlKCkKICAgICAgbGV0IGR1ZURhdGVUaW1lID0gbW9tZW50KHRoaXMuZHVlRGF0ZVRpbWUsICdZWVlZLU1NLUREIEhIOm1tOnNzJykKCiAgICAgIGxldCB0aW1lRGlmZiA9IGR1ZURhdGVUaW1lLmRpZmYobm93KTsKICAgICAgbGV0IGR1cmF0aW9uID0gbW9tZW50LmR1cmF0aW9uKHRpbWVEaWZmKTsKCiAgICAgIHJldHVybiBNYXRoLmZsb29yKGR1cmF0aW9uLmFzU2Vjb25kcygpKTsKICAgIH0sCiAgICBzZWNvbmRzTGVmdCgpIHsKICAgICAgcmV0dXJuIHRoaXMudGltZVRvdGFsIC0gdGhpcy50aW1lUGFzc2VkCiAgICB9LAogICAgdGltZUxlZnQoKSB7CgogICAgICBsZXQgc2Vjb25kc0xlZnQgPSB0aGlzLnNlY29uZHNMZWZ0OwogICAgICBsZXQgdmFsdWUgPSBudWxsOwoKICAgICAgaWYgKHRoaXMuaGFzVHdlbnR5Rm91ckhvdXJMaW1pdCAmJiBzZWNvbmRzTGVmdCA+IHRoaXMuaW5TZWNvbmRzLmRheSkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lckludGVydmFsKQogICAgICB9IGVsc2UgaWYgKHNlY29uZHNMZWZ0ID4gMCkgewoKICAgICAgICAvLyBJZiBtb3JlIHRoYW4gMjQgaG91cnMsIGRpc3BsYXkgaW4gdGVybXMgb2YgZGF5cwogICAgICAgIGlmIChzZWNvbmRzTGVmdCA+IHRoaXMuaW5TZWNvbmRzLmRheSkgewogICAgICAgICAgbGV0IGRheXMgPSBNYXRoLmZsb29yKHNlY29uZHNMZWZ0IC8gdGhpcy5pblNlY29uZHMuZGF5KTsKCiAgICAgICAgICBpZiAoZGF5cyA+IDMwKSB7CiAgICAgICAgICAgIGxldCBtb250aHMgPSBNYXRoLmZsb29yKGRheXMgLyAzMCk7CiAgICAgICAgICAgIHZhbHVlID0gYCR7bW9udGhzfSAke2RheXMgPT09IDEgPyAnbW9udGgnIDogJ21vbnRocyd9YAogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFsdWUgPSBgPiAke2RheXN9ICR7ZGF5cyA9PT0gMSA/ICdkYXknIDogJ2RheXMnfWAKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmN1c3RvbUJhY2tncm91bmRDb2xvciA9ICdiZy1wdXJwbGUtcHJpbWFyeScKCiAgICAgICAgfQogICAgICAgIC8vIEVsc2UsIGRpc3BsYXkgaW4gZm9ybWF0IGhoOm1tOnNzCiAgICAgICAgZWxzZSB7CiAgICAgICAgICBsZXQgaG91cnMgPSBNYXRoLmZsb29yKHNlY29uZHNMZWZ0IC8gdGhpcy5pblNlY29uZHMuaG91cik7CiAgICAgICAgICBzZWNvbmRzTGVmdCAtPSBob3VycyAqIHRoaXMuaW5TZWNvbmRzLmhvdXI7CgogICAgICAgICAgbGV0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHNMZWZ0IC8gdGhpcy5pblNlY29uZHMubWludXRlKQogICAgICAgICAgc2Vjb25kc0xlZnQgLT0gbWludXRlcyAqIHRoaXMuaW5TZWNvbmRzLm1pbnV0ZTsKCiAgICAgICAgICBsZXQgc2Vjb25kcyA9IHNlY29uZHNMZWZ0ICUgdGhpcy5pblNlY29uZHMubWludXRlCgogICAgICAgICAgaG91cnMgPCAxMCA/IGhvdXJzID0gYDAke2hvdXJzfWAgOiBudWxsOwogICAgICAgICAgbWludXRlcyA8IDEwID8gbWludXRlcyA9IGAwJHttaW51dGVzfWAgOiBudWxsOwogICAgICAgICAgc2Vjb25kcyA8IDEwID8gc2Vjb25kcyA9IGAwJHtzZWNvbmRzfWAgOiBudWxsOwoKICAgICAgICAgIHZhbHVlID0gYCR7aG91cnN9OiR7bWludXRlc306JHtzZWNvbmRzfWAKCiAgICAgICAgICBpZiAoaG91cnMgPCAxKSB7CiAgICAgICAgICAgIHRoaXMuY3VzdG9tQmFja2dyb3VuZENvbG9yID0gJ2JnLXllbGxvdy1wcmltYXJ5JwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jdXN0b21CYWNrZ3JvdW5kQ29sb3IgPSAnYmctcHVycGxlLXByaW1hcnknCiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgfSBlbHNlIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXJJbnRlcnZhbCkKICAgICAgICB2YWx1ZSA9ICcwMDowMDowMCcKICAgICAgICB0aGlzLmN1c3RvbUJhY2tncm91bmRDb2xvciA9IHRoaXMuZGlzYWJsZVJlZEFsZXJ0ID8gJ2JnLXB1cnBsZS1wcmltYXJ5JyA6ICdiZy1yZWQtcHJpbWFyeScKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbHVlCiAgICB9LAogICAgY29udGFpbmVyQ2xhc3MoKSB7CiAgICAgIGlmICh0aGlzLmhhc0R5bmFtaWNCYWNrZ3JvdW5kQ29sb3IgJiYgdGhpcy5jdXN0b21CYWNrZ3JvdW5kQ29sb3IpIHsKICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21CYWNrZ3JvdW5kQ29sb3I7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdiZy10cmFuc3BhcmVudCcKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc3RhcnRUaW1lcigpIHsKICAgICAgdGhpcy50aW1lckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gKHRoaXMudGltZVBhc3NlZCArPSAxKSwgMTAwMCk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zdGFydFRpbWVyKCkKICB9Cn0K"},{"version":3,"sources":["CountdownTimer.vue"],"names":[],"mappings":";AAaA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CountdownTimer.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div v-if=\"timeLeft\" :class=\"containerClass\"\n       class=\"rounded-full text-white tracking-tight flex flex-row items-center justify-center px-1 py-1\">\n    <div v-if=\"hasClockIcon\" class=\"w-1/7 md:w-1/10\">\n      <stop-watch-icon/>\n    </div>\n    <div class=\"w-5/7 truncate px-1\">\n      {{ timeLeft }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport StopWatchIcon from \"@/components/icons/StopWatchIcon\";\n\nexport default {\n  name: \"CountdownTimer\",\n  components: {StopWatchIcon},\n  props: {\n    dueDateTime: {\n      type: String,\n      required: true,\n    },\n    hasClockIcon: {\n      type: Boolean,\n      default: false\n    },\n    hasTwentyFourHourLimit: {\n      type: Boolean,\n      default: false\n    },\n    hasDynamicBackgroundColor: {\n      type: Boolean,\n      default: false\n    },\n    disableRedAlert: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      timePassed: 0,\n      timerInterval: null,\n      inSeconds: {\n        day: 86400,\n        hour: 3600,\n        minute: 60\n      },\n      customBackgroundColor: null\n    }\n  },\n  computed: {\n\n    timeTotal() {\n      // Calculate total time based on difference from now to due date\n      let now = moment().toDate()\n      let dueDateTime = moment(this.dueDateTime, 'YYYY-MM-DD HH:mm:ss')\n\n      let timeDiff = dueDateTime.diff(now);\n      let duration = moment.duration(timeDiff);\n\n      return Math.floor(duration.asSeconds());\n    },\n    secondsLeft() {\n      return this.timeTotal - this.timePassed\n    },\n    timeLeft() {\n\n      let secondsLeft = this.secondsLeft;\n      let value = null;\n\n      if (this.hasTwentyFourHourLimit && secondsLeft > this.inSeconds.day) {\n        clearInterval(this.timerInterval)\n      } else if (secondsLeft > 0) {\n\n        // If more than 24 hours, display in terms of days\n        if (secondsLeft > this.inSeconds.day) {\n          let days = Math.floor(secondsLeft / this.inSeconds.day);\n\n          if (days > 30) {\n            let months = Math.floor(days / 30);\n            value = `${months} ${days === 1 ? 'month' : 'months'}`\n          } else {\n            value = `> ${days} ${days === 1 ? 'day' : 'days'}`\n          }\n\n          this.customBackgroundColor = 'bg-purple-primary'\n\n        }\n        // Else, display in format hh:mm:ss\n        else {\n          let hours = Math.floor(secondsLeft / this.inSeconds.hour);\n          secondsLeft -= hours * this.inSeconds.hour;\n\n          let minutes = Math.floor(secondsLeft / this.inSeconds.minute)\n          secondsLeft -= minutes * this.inSeconds.minute;\n\n          let seconds = secondsLeft % this.inSeconds.minute\n\n          hours < 10 ? hours = `0${hours}` : null;\n          minutes < 10 ? minutes = `0${minutes}` : null;\n          seconds < 10 ? seconds = `0${seconds}` : null;\n\n          value = `${hours}:${minutes}:${seconds}`\n\n          if (hours < 1) {\n            this.customBackgroundColor = 'bg-yellow-primary'\n          } else {\n            this.customBackgroundColor = 'bg-purple-primary'\n          }\n        }\n\n      } else {\n        clearInterval(this.timerInterval)\n        value = '00:00:00'\n        this.customBackgroundColor = this.disableRedAlert ? 'bg-purple-primary' : 'bg-red-primary'\n      }\n\n      return value\n    },\n    containerClass() {\n      if (this.hasDynamicBackgroundColor && this.customBackgroundColor) {\n        return this.customBackgroundColor;\n      } else {\n        return 'bg-transparent'\n      }\n    }\n  },\n  methods: {\n    startTimer() {\n      this.timerInterval = setInterval(() => (this.timePassed += 1), 1000);\n    }\n  },\n  mounted() {\n    this.startTimer()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}