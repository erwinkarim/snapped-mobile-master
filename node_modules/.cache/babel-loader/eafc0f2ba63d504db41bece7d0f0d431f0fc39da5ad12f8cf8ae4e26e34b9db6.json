{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"TeacherSettings\",\n  data() {\n    return {\n      faIcons: {\n        google: faGoogle,\n        edit: faEdit\n      },\n      details: {\n        fullName: {\n          value: null,\n          icon: 'identification-icon'\n        },\n        school: {\n          value: null,\n          icon: 'academic-icon'\n        },\n        email: {\n          value: null,\n          icon: 'email-icon'\n        },\n        contactNum: {\n          value: null,\n          icon: 'phone-icon'\n        }\n      }\n    };\n  },\n  computed: {\n    isGoogleClassroomIntegrated() {\n      return this.$store.getters.getGoogleIntegrated;\n    }\n  },\n  methods: {\n    logout() {\n      this.$store.dispatch('logout');\n      this.$router.push({\n        name: 'login'\n      });\n    },\n    getDetails: function () {\n      TeacherRepository.getTeacherDetails().then(response => {\n        if (response.data.success) {\n          let data = response.data.data[0];\n          this.details.fullName.value = data.fullname;\n          this.details.school.value = data.school_name;\n          this.details.email.value = data.email;\n          this.details.contactNum.value = data.contact_num;\n        }\n      });\n    },\n    handleGoogleClassroomIntegration() {\n      // If already integrated, disconnect\n      if (this.isGoogleClassroomIntegrated) {\n        GoogleClassroomRepository.disconnect().then(response => {\n          if (response.data.success) {\n            this.$store.dispatch('setAuthUser');\n          }\n        });\n      } else {\n        GoogleClassroomRepository.integration().then(response => {\n          const newWindow = this.openWindow('', 'message');\n          newWindow.location.href = response.data;\n        }).catch(function (error) {\n          console.error(error);\n        });\n      }\n    },\n    handleMessage(event) {\n      if (event.data.success) {\n        this.$store.dispatch('setAuthUser');\n      }\n    },\n    /**\n     *   Opens a popup window to load Laravel Socialite redirect pages via URL\n     **/\n    openWindow(url, title, options = {}) {\n      if (typeof url === 'object') {\n        options = url;\n        url = '';\n      }\n      options = {\n        url,\n        title,\n        width: 600,\n        height: 720,\n        ...options\n      };\n      const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screen.left;\n      const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screen.top;\n      const width = window.innerWidth || document.documentElement.clientWidth || window.screen.width;\n      const height = window.innerHeight || document.documentElement.clientHeight || window.screen.height;\n      options.left = width / 2 - options.width / 2 + dualScreenLeft;\n      options.top = height / 2 - options.height / 2 + dualScreenTop;\n      const optionsStr = Object.keys(options).reduce((acc, key) => {\n        acc.push(`${key}=${options[key]}`);\n        return acc;\n      }, []).join(',');\n      const newWindow = window.open(url, title, optionsStr);\n      if (window.focus) {\n        newWindow.focus();\n      }\n      return newWindow;\n    }\n  },\n  mounted() {\n    window.addEventListener('message', this.handleMessage);\n    this.getDetails();\n  },\n  components: {\n    LogoutIcon,\n    PhoneIcon,\n    EmailIcon,\n    BookIcon,\n    AcademicIcon,\n    IconBase,\n    IdentificationIcon,\n    IconBaseTwo,\n    SectionTitle,\n    PageTitle,\n    DashboardLayout,\n    FontAwesomeIcon\n  }\n};\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport PageTitle from \"@/components/PageTitle\";\nimport SectionTitle from \"../../../components/SectionTitle\";\nimport IconBaseTwo from \"../../../components/IconBaseTwo\";\nimport IdentificationIcon from \"../../../components/icons/IdentificationIcon\";\nimport IconBase from \"../../../components/IconBase\";\nimport AcademicIcon from \"../../../components/icons/AcademicIcon\";\nimport BookIcon from \"../../../components/icons/BookIcon\";\nimport EmailIcon from \"../../../components/icons/EmailIcon\";\nimport PhoneIcon from \"../../../components/icons/PhoneIcon\";\nimport LogoutIcon from \"../../../components/icons/LogoutIcon\";\nimport TeacherRepository from \"../../../repositories/TeacherRepository\";\nimport GoogleClassroomRepository from \"@/repositories/GoogleClassroomRepository\";\n\n// FONT AWESOME\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport { faGoogle } from '@fortawesome/free-brands-svg-icons';\nimport { faEdit } from \"@fortawesome/free-solid-svg-icons\";","map":{"version":3,"names":["name","data","faIcons","google","faGoogle","edit","faEdit","details","fullName","value","icon","school","email","contactNum","computed","isGoogleClassroomIntegrated","$store","getters","getGoogleIntegrated","methods","logout","dispatch","$router","push","getDetails","TeacherRepository","getTeacherDetails","then","response","success","fullname","school_name","contact_num","handleGoogleClassroomIntegration","GoogleClassroomRepository","disconnect","integration","newWindow","openWindow","location","href","catch","error","console","handleMessage","event","url","title","options","width","height","dualScreenLeft","window","screenLeft","undefined","screen","left","dualScreenTop","screenTop","top","innerWidth","document","documentElement","clientWidth","innerHeight","clientHeight","optionsStr","Object","keys","reduce","acc","key","join","open","focus","mounted","addEventListener","components","LogoutIcon","PhoneIcon","EmailIcon","BookIcon","AcademicIcon","IconBase","IdentificationIcon","IconBaseTwo","SectionTitle","PageTitle","DashboardLayout","FontAwesomeIcon"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherSettings/TeacherSettings.vue"],"sourcesContent":["<template>\n  <dashboard-layout>\n\n    <template v-slot:pageHeader>\n      <page-title title=\"Settings\" class=\"w-3/4\"/>\n    </template>\n\n    <template v-slot:content>\n      <div class=\"w-full px-7 mt-3\">\n\n        <div class=\"flex flex-row items-center justify-between mb-3\">\n          <section-title class=\"text-left mt-4\" title=\"Profile\"/>\n\n          <!--  ROUTE LINK: USER EDIT PROFILE  -->\n<!--          <router-link :to=\"{name: 'auth.profile.edit'}\">-->\n<!--            <font-awesome-icon-->\n<!--                :icon=\"faIcons.edit\"-->\n<!--                class=\"w-full fa-1x text-purple-primary\"-->\n<!--            />-->\n<!--          </router-link>-->\n        </div>\n\n        <div v-for=\"detail in details\"\n             :key=\"detail.value\"\n             class=\"w-full text-left py-3 flex flex-row w-full border-b-1 items-center bg-white\"\n        >\n          <div class=\"w-1/12\">\n            <icon-base class=\" w-full\">\n              <component :is=\"detail.icon\"/>\n            </icon-base>\n          </div>\n          <div class=\"w-5/6 ml-5 text-purple-primary  truncate pr-4\">\n            {{ detail.value }}\n          </div>\n        </div>\n      </div>\n\n      <!-- INTEGRATIONS -->\n      <div class=\"w-full px-7 mt-3\">\n        <section-title class=\"text-left my-4\" title=\"Integrations\"/>\n\n        <!-- GOOGLE CLASSROOM -->\n        <div @click=\"handleGoogleClassroomIntegration\"\n             class=\"w-full  py-3 flex flex-row w-full border-b-1 items-center bg-white\">\n          <div class=\"w-1/12 text-center\">\n            <font-awesome-icon class=\"w-full fa-1x text-purple-primary\" :icon=\"faIcons.google\"/>\n          </div>\n          <div class=\"w-7/12 ml-5 text-purple-primary text-left  truncate pr-4\">\n            Google Classroom\n          </div>\n          <div :class=\"isGoogleClassroomIntegrated ? 'bg-purple-primary' : 'bg-gray-500'\"\n               class=\"text-white rounded-lg py-1 tracking-wide text-xs uppercase px-3 h-full w-4/12\"\n          >\n            {{ isGoogleClassroomIntegrated ? 'DISCONNECT' : 'CONNECT' }}\n          </div>\n\n        </div>\n\n      </div>\n\n\n      <div class=\"w-full px-7 mt-3\">\n        <section-title class=\"text-left my-4\" title=\"Log out\"/>\n        <!-- LOGOUT -->\n        <div @click=\"logout\"\n             class=\"w-full text-left py-4 flex flex-row w-full border-b-1 items-center bg-white\"\n        >\n          <div class=\"w-1/12\">\n            <icon-base class=\"w-full text-red-primary\">\n              <logout-icon/>\n            </icon-base>\n          </div>\n          <div class=\"w-5/6 ml-5 text-red-primary  truncate pr-4\">\n            Log out\n          </div>\n        </div>\n      </div>\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\n\nexport default {\n  name: \"TeacherSettings\",\n  data() {\n    return {\n\n      faIcons: {\n        google: faGoogle,\n        edit: faEdit\n      },\n\n      details: {\n        fullName: {\n          value: null,\n          icon: 'identification-icon'\n        },\n        school: {\n          value: null,\n          icon: 'academic-icon'\n        },\n        email: {\n          value: null,\n          icon: 'email-icon'\n        },\n        contactNum: {\n          value: null,\n          icon: 'phone-icon'\n        }\n      }\n    };\n  },\n  computed: {\n    isGoogleClassroomIntegrated() {\n      return this.$store.getters.getGoogleIntegrated\n    }\n  },\n  methods: {\n    logout() {\n      this.$store.dispatch('logout')\n      this.$router.push({name: 'login'})\n    },\n    getDetails: function () {\n      TeacherRepository.getTeacherDetails()\n          .then(response => {\n\n            if (response.data.success) {\n\n              let data = response.data.data[0];\n\n              this.details.fullName.value = data.fullname;\n              this.details.school.value = data.school_name;\n              this.details.email.value = data.email;\n              this.details.contactNum.value = data.contact_num;\n            }\n          })\n    },\n    handleGoogleClassroomIntegration() {\n\n      // If already integrated, disconnect\n      if (this.isGoogleClassroomIntegrated) {\n        GoogleClassroomRepository.disconnect()\n            .then(response => {\n              if (response.data.success) {\n                this.$store.dispatch('setAuthUser')\n              }\n            })\n      } else {\n\n        GoogleClassroomRepository.integration()\n            .then(response => {\n\n              const newWindow = this.openWindow('', 'message')\n              newWindow.location.href = response.data\n            })\n            .catch(function (error) {\n              console.error(error);\n            });\n      }\n    },\n\n    handleMessage(event) {\n      if (event.data.success) {\n        this.$store.dispatch('setAuthUser')\n      }\n    },\n\n    /**\n     *   Opens a popup window to load Laravel Socialite redirect pages via URL\n     **/\n    openWindow(url, title, options = {}) {\n      if (typeof url === 'object') {\n        options = url\n        url = ''\n      }\n\n      options = {url, title, width: 600, height: 720, ...options}\n\n      const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screen.left\n      const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screen.top\n      const width = window.innerWidth || document.documentElement.clientWidth || window.screen.width\n      const height = window.innerHeight || document.documentElement.clientHeight || window.screen.height\n\n      options.left = ((width / 2) - (options.width / 2)) + dualScreenLeft\n      options.top = ((height / 2) - (options.height / 2)) + dualScreenTop\n\n      const optionsStr = Object.keys(options).reduce((acc, key) => {\n        acc.push(`${key}=${options[key]}`)\n        return acc\n      }, []).join(',')\n\n      const newWindow = window.open(url, title, optionsStr)\n\n      if (window.focus) {\n        newWindow.focus()\n      }\n\n      return newWindow\n    }\n\n  },\n  mounted() {\n    window.addEventListener('message', this.handleMessage)\n    this.getDetails()\n  },\n  components: {\n    LogoutIcon,\n    PhoneIcon,\n    EmailIcon,\n    BookIcon,\n    AcademicIcon,\n    IconBase,\n    IdentificationIcon,\n    IconBaseTwo,\n    SectionTitle,\n    PageTitle,\n    DashboardLayout,\n    FontAwesomeIcon,\n  },\n}\n\n\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport PageTitle from \"@/components/PageTitle\";\nimport SectionTitle from \"../../../components/SectionTitle\";\nimport IconBaseTwo from \"../../../components/IconBaseTwo\";\nimport IdentificationIcon from \"../../../components/icons/IdentificationIcon\";\nimport IconBase from \"../../../components/IconBase\";\nimport AcademicIcon from \"../../../components/icons/AcademicIcon\";\nimport BookIcon from \"../../../components/icons/BookIcon\";\nimport EmailIcon from \"../../../components/icons/EmailIcon\";\nimport PhoneIcon from \"../../../components/icons/PhoneIcon\";\nimport LogoutIcon from \"../../../components/icons/LogoutIcon\";\nimport TeacherRepository from \"../../../repositories/TeacherRepository\";\nimport GoogleClassroomRepository from \"@/repositories/GoogleClassroomRepository\";\n\n// FONT AWESOME\nimport {FontAwesomeIcon} from '@fortawesome/vue-fontawesome'\nimport {faGoogle} from '@fortawesome/free-brands-svg-icons'\nimport {faEdit} from \"@fortawesome/free-solid-svg-icons\";\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}