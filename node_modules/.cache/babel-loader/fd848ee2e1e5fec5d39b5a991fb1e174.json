{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/thread-loader/dist/cjs.js!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/students/StudentAssignments/Answer/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/students/StudentAssignments/Answer/Index.vue","mtime":1679379067245},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/babel.config.js","mtime":1679379067182},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/thread-loader/dist/cjs.js","mtime":1680070298752},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFN1Ym1pc3Npb25SZXBvc2l0b3J5IGZyb20gIkAvcmVwb3NpdG9yaWVzL1N1Ym1pc3Npb25SZXBvc2l0b3J5IjsKaW1wb3J0IE1vZGFsIGZyb20gIkAvY29tcG9uZW50cy9Nb2RhbCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSW5kZXgiLAogIGNvbXBvbmVudHM6IHsKICAgIE1vZGFsCiAgfSwKICBwcm9wczogewogICAgYXNzaWdubWVudERldGFpbHM6IE9iamVjdAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIFN0YXRlcwogICAgICBpc1Nob3dpbmdNb2RhbDogZmFsc2UsCiAgICAgIGlzU3VibWl0dGluZzogZmFsc2UsCiAgICAgIHN1Ym1pc3Npb25TdGF0dXM6IG51bGwsCiAgICAgIGVycm9yOiBudWxsLAogICAgICBhbnN3ZXI6IHsKICAgICAgICB0eXBlOiBudWxsLAogICAgICAgIGNvbnRlbnQ6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVXcml0dGVuQW5zd2VyKHZhbHVlKSB7CiAgICAgIHRoaXMuYW5zd2VyLnR5cGUgPSAnd3JpdHRlbic7CiAgICAgIHRoaXMuYW5zd2VyLmNvbnRlbnQgPSB2YWx1ZTsKICAgIH0sCiAgICBoYW5kbGVTbmFwcGVkQW5zd2VyKHZhbHVlKSB7CiAgICAgIHRoaXMuYW5zd2VyLnR5cGUgPSAnc25hcHBlZCc7CiAgICAgIHRoaXMuYW5zd2VyLmNvbnRlbnQgPSB2YWx1ZTsKICAgIH0sCiAgICBoYW5kbGVTdWJtaXQocmVtYXJrcykgewogICAgICB0aGlzLnJlc2V0RXJyb3IoKTsKICAgICAgdGhpcy5pc1N1Ym1pdHRpbmcgPSB0cnVlOwogICAgICB0aGlzLnRvZ2dsZU1vZGFsKCk7CiAgICAgIFN1Ym1pc3Npb25SZXBvc2l0b3J5LnN0b3JlKHsKICAgICAgICBhc3NpZ25tZW50SUQ6IHRoaXMuYXNzaWdubWVudERldGFpbHMuaWQsCiAgICAgICAgYW5zd2VyVHlwZTogdGhpcy5hbnN3ZXIudHlwZSwKICAgICAgICBhbnN3ZXJDb250ZW50OiB0aGlzLmFuc3dlci5jb250ZW50LAogICAgICAgIHJlbWFya3M6IHJlbWFya3MKICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5pc1N1Ym1pdHRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLnRvZ2dsZU1vZGFsKCk7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgdGhpcy5zdWJtaXNzaW9uU3RhdHVzID0gJ3N1Y2Nlc3MnOwogICAgICAgICAgdGhpcy50b2dnbGVNb2RhbCgpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHRoaXMuaXNTdWJtaXR0aW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy50b2dnbGVNb2RhbCgpOwogICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoewogICAgICAgICAgc3RhdHVzOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogZXJyb3IKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRXJyb3IoZXJyb3IpIHsKICAgICAgdGhpcy5zdWJtaXNzaW9uU3RhdHVzID0gJ2Vycm9yJzsKICAgICAgdGhpcy5lcnJvciA9IGVycm9yLm1lc3NhZ2U7CiAgICAgIHRoaXMudG9nZ2xlTW9kYWwoKTsKICAgIH0sCiAgICByZXNldEVycm9yKCkgewogICAgICB0aGlzLnN1Ym1pc3Npb25TdGF0dXMgPSBudWxsOwogICAgICB0aGlzLmVycm9yID0gbnVsbDsKICAgIH0sCiAgICB0b2dnbGVNb2RhbCgpIHsKICAgICAgdGhpcy5pc1Nob3dpbmdNb2RhbCA9ICF0aGlzLmlzU2hvd2luZ01vZGFsOwogICAgfQogIH0KfTs="},{"version":3,"names":["SubmissionRepository","Modal","name","components","props","assignmentDetails","Object","data","isShowingModal","isSubmitting","submissionStatus","error","answer","type","content","methods","handleWrittenAnswer","value","handleSnappedAnswer","handleSubmit","remarks","resetError","toggleModal","store","assignmentID","id","answerType","answerContent","then","response","success","catch","handleError","status","message"],"sources":["src/views/students/StudentAssignments/Answer/Index.vue"],"sourcesContent":["<template>\n  <div>\n\n    <!-- OVERLAYS -->\n    <div v-if=\"isShowingModal\" @click=\"toggleModal\"\n         class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center inset-x-0 block top-0 bg-gray-primary bg-opacity-75 \">\n    </div>\n\n\n    <!-- MODAL -->\n    <div v-if=\"isShowingModal\"\n         class=\"fixed left-0 w-full items-center flex flex-col items-center justify-center top-1/4 z-70\"\n    >\n      <modal v-if=\"submissionStatus === 'success'\"\n             :modal-type=\"submissionStatus\"\n             :redirect-route=\"{name: 'student.assignments.show'}\"\n             @toggleModal=\"toggleModal\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          <div class=\"w-full\">\n            Got something to change? Don't worry! You can always edit your published homework\n          </div>\n        </template>\n        <template slot=\"button\">\n          Okay\n        </template>\n      </modal>\n      <modal v-if=\"submissionStatus === 'error'\"\n             :modal-type=\"submissionStatus\"\n             @toggleModal=\"toggleModal\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          <div class=\"w-full\">\n            {{ error }}\n          </div>\n        </template>\n        <template slot=\"button\">\n          Okay\n        </template>\n      </modal>\n      <modal v-if=\"isSubmitting\"\n             modal-type=\"no-icon\"\n             :has-button=\"false\"\n             class=\"w-4/5 \"\n      >\n        <p slot=\"message\">\n          Submitting your answer.\n          <br>\n          Please wait...\n        </p>\n      </modal>\n    </div>\n\n\n    <router-view\n        @writtenAnswer=\"handleWrittenAnswer\"\n        @snappedAnswer=\"handleSnappedAnswer\"\n        @error=\"handleError\"\n        @submit=\"handleSubmit\"\n        :assignment-details=\"assignmentDetails\"\n        :answer=\"answer\"\n    />\n  </div>\n\n\n</template>\n\n<script>\nimport SubmissionRepository from \"@/repositories/SubmissionRepository\";\nimport Modal from \"@/components/Modal\";\n\nexport default {\n  name: \"Index\",\n  components: {Modal},\n  props: {\n    assignmentDetails: Object\n  },\n  data() {\n    return {\n\n      // States\n      isShowingModal: false,\n      isSubmitting: false,\n      submissionStatus: null,\n\n      error: null,\n\n      answer: {\n        type: null,\n        content: ''\n      }\n    }\n  },\n  methods: {\n    handleWrittenAnswer(value) {\n      this.answer.type = 'written';\n      this.answer.content = value;\n    },\n    handleSnappedAnswer(value) {\n      this.answer.type = 'snapped';\n      this.answer.content = value;\n    },\n    handleSubmit(remarks) {\n\n      this.resetError();\n\n      this.isSubmitting = true;\n      this.toggleModal();\n\n      SubmissionRepository.store(\n          {\n            assignmentID: this.assignmentDetails.id,\n            answerType: this.answer.type,\n            answerContent: this.answer.content,\n            remarks: remarks,\n          })\n          .then(response => {\n\n            this.isSubmitting = false;\n            this.toggleModal();\n\n            if (response.data.success) {\n              this.submissionStatus = 'success';\n              this.toggleModal();\n            }\n          })\n          .catch(error => {\n            this.isSubmitting = false;\n            this.toggleModal();\n\n            this.handleError({\n              status: true,\n              message: error\n            })\n          })\n\n\n    },\n    handleError(error) {\n      this.submissionStatus = 'error';\n      this.error = error.message;\n      this.toggleModal();\n    },\n\n    resetError() {\n      this.submissionStatus = null;\n      this.error = null;\n    },\n\n    toggleModal() {\n      this.isShowingModal = !this.isShowingModal;\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":"AAsEA,OAAAA,oBAAA;AACA,OAAAC,KAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACAC,iBAAA,EAAAC;EACA;EACAC,KAAA;IACA;MAEA;MACAC,cAAA;MACAC,YAAA;MACAC,gBAAA;MAEAC,KAAA;MAEAC,MAAA;QACAC,IAAA;QACAC,OAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,oBAAAC,KAAA;MACA,KAAAL,MAAA,CAAAC,IAAA;MACA,KAAAD,MAAA,CAAAE,OAAA,GAAAG,KAAA;IACA;IACAC,oBAAAD,KAAA;MACA,KAAAL,MAAA,CAAAC,IAAA;MACA,KAAAD,MAAA,CAAAE,OAAA,GAAAG,KAAA;IACA;IACAE,aAAAC,OAAA;MAEA,KAAAC,UAAA;MAEA,KAAAZ,YAAA;MACA,KAAAa,WAAA;MAEAtB,oBAAA,CAAAuB,KAAA,CACA;QACAC,YAAA,OAAAnB,iBAAA,CAAAoB,EAAA;QACAC,UAAA,OAAAd,MAAA,CAAAC,IAAA;QACAc,aAAA,OAAAf,MAAA,CAAAE,OAAA;QACAM,OAAA,EAAAA;MACA,GACAQ,IAAA,CAAAC,QAAA;QAEA,KAAApB,YAAA;QACA,KAAAa,WAAA;QAEA,IAAAO,QAAA,CAAAtB,IAAA,CAAAuB,OAAA;UACA,KAAApB,gBAAA;UACA,KAAAY,WAAA;QACA;MACA,GACAS,KAAA,CAAApB,KAAA;QACA,KAAAF,YAAA;QACA,KAAAa,WAAA;QAEA,KAAAU,WAAA;UACAC,MAAA;UACAC,OAAA,EAAAvB;QACA;MACA;IAGA;IACAqB,YAAArB,KAAA;MACA,KAAAD,gBAAA;MACA,KAAAC,KAAA,GAAAA,KAAA,CAAAuB,OAAA;MACA,KAAAZ,WAAA;IACA;IAEAD,WAAA;MACA,KAAAX,gBAAA;MACA,KAAAC,KAAA;IACA;IAEAW,YAAA;MACA,KAAAd,cAAA,SAAAA,cAAA;IACA;EACA;AACA"}]}