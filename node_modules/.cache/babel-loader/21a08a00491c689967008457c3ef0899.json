{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/edcoins/CoinHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/edcoins/CoinHome.vue","mtime":1679379067243},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/babel.config.js","mtime":1679379067182},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0IEFwcExvZ28gZnJvbSAiQC9jb21wb25lbnRzL2ljb25zL0FwcExvZ28iOwppbXBvcnQgRGFzaGJvYXJkTGF5b3V0IGZyb20gIkAvdmlld3MvbGF5b3V0L0Rhc2hib2FyZExheW91dCI7CmltcG9ydCBJY29uQmFzZVR3byBmcm9tICJAL2NvbXBvbmVudHMvSWNvbkJhc2VUd28iOwppbXBvcnQgU2VjdGlvblRpdGxlIGZyb20gIkAvY29tcG9uZW50cy9TZWN0aW9uVGl0bGUiOwppbXBvcnQgRWRDb2luVHJhbnNhY3Rpb25QaWxsIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvRWRDb2luVHJhbnNhY3Rpb25QaWxsLnZ1ZSI7CmltcG9ydCBDb2luc0JvdHRvbU5hdkJhciBmcm9tICJAL2NvbXBvbmVudHMvQ29pbnNCb3R0b21OYXZCYXIudnVlIjsKaW1wb3J0IENvaW5zSWNvbiBmcm9tICIuLi8uLi9jb21wb25lbnRzL2ljb25zL0NvaW5zSWNvbi52dWUiOwppbXBvcnQgU3F1YXJlQ2hlY2tJY29uIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvaWNvbnMvU3F1YXJlQ2hlY2tJY29uLnZ1ZSI7CmltcG9ydCBjb2luX3JvdXRlcyBmcm9tICIuLi8uLi9yb3V0ZXIvY29pbl9yb3V0ZXMiOwppbXBvcnQgQ29pbnNSZXBvc2l0b3J5IGZyb20gIi4uLy4uL3JlcG9zaXRvcmllcy9Db2luc1JlcG9zaXRvcnkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNvaW5Ib21lIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm90dG9tQmFyQ2xhc3M6IHRydWUsCiAgICAgIHRhYnM6IFtdLAogICAgICB0cnhDb3VudDogMCwKICAgICAgdHJ4UmVzdWx0OiBbXSwKICAgICAgYXZhaWxhYmxlTWFya3M6IDAsCiAgICAgIGhvbWVVUkw6IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0QXV0aFVzZXJSb2xlID09ICdUZWFjaGVyJyA/ICd0ZWFjaGVyLmhvbWUnIDogJ3N0dWRlbnQuaG9tZScKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2coJ0NvaW5Ib21lIE1vdW50ZWQnKTsKCiAgICAvLyBsb2FkIHVwIHRoZSB0cmFuc2FjdGlvbnMKICAgIENvaW5zUmVwb3NpdG9yeS5jb2luVHJ4TGlzdCgpLnRoZW4ocmVzID0+IHsKICAgICAgY29uc29sZS5sb2coJ2dldCBjb2lucyB0cnggaGlzdG9yeScsIHJlcyk7CiAgICAgIHRoaXMudHJ4UmVzdWx0ID0gcmVzLmRhdGE7CiAgICB9KTsKICAgIENvaW5zUmVwb3NpdG9yeS5tYXJrc0ZvckNvaW5zTGlzdCgpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIHRoaXMuYXZhaWxhYmxlTWFya3MgPSByZXNwb25zZS5kYXRhLm1hcmtzLnJlZHVjZSgoYSwgdikgPT4gewogICAgICAgIGlmICh2LmFtb3VudF9yZWRlZW1lZCA9PT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuIGEgKz0gdi5maW5hbF9tYXJrczsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGE7CiAgICAgICAgfQogICAgICB9LCAwKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgc2xpZGVyVXBkYXRlKGUpIHsKICAgICAgY29uc29sZS5sb2coJ3NsaWRlciB2YWx1ZScsIGUudGFyZ2V0LnZhbHVlKTsKICAgICAgdGhpcy50cnhDb3VudCA9IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFwcExvZ28sCiAgICBEYXNoYm9hcmRMYXlvdXQsCiAgICBJY29uQmFzZVR3bywKICAgIFNlY3Rpb25UaXRsZSwKICAgIEVkQ29pblRyYW5zYWN0aW9uUGlsbCwKICAgIFNxdWFyZUNoZWNrSWNvbiwKICAgIENvaW5zSWNvbiwKICAgIENvaW5zQm90dG9tTmF2QmFyLAogICAgY29pbl9yb3V0ZXMKICB9Cn07"},{"version":3,"names":["AppLogo","DashboardLayout","IconBaseTwo","SectionTitle","EdCoinTransactionPill","CoinsBottomNavBar","CoinsIcon","SquareCheckIcon","coin_routes","CoinsRepository","name","data","bottomBarClass","tabs","trxCount","trxResult","availableMarks","homeURL","$store","getters","getAuthUserRole","mounted","console","log","coinTrxList","then","res","marksForCoinsList","response","marks","reduce","a","v","amount_redeemed","final_marks","methods","sliderUpdate","e","target","value","parseInt","components"],"sources":["src/views/edcoins/CoinHome.vue"],"sourcesContent":["<template>\n  <dashboard-layout :has-custom-bottom-bar=\"true\" >\n\n    <template v-slot:content>\n      <div class=\"flex flex-col px-5 w-full md:px-10\">\n        <router-link class=\"w-2/7\" :to=\"{ name: homeURL }\">\n          <icon-base-two>\n            <AppLogo/>\n          </icon-base-two>\n        </router-link>\n      </div>\n\n      <!-- total coins -->\n      <div class=\"px-5 w-full md:px-10\">\n        <section-title class=\"text-left\" title=\"Coins\"/>\n        <div class=\"overflow-hidden justify-between py-3 px-3 max-w-sm md:max-w-xl h-full rounded rounded-xl bg-gray-secondary\">\n          <div class=\"flex flex-row items-center h-full text-left text-purple-primary\">\n            <div class=\"flex flex-col px-2 w-1/8\">\n              <CoinsIcon />\n            </div>\n            <div class=\"flex flex-col px-2 w-3/8\">\n              {{ trxResult.length === 0 ? 0 : trxResult.at(0).balance }} Coins\n            </div>\n            <router-link class=\"flex flex-col px-2 w-1/2 text-right\" :to=\"{ name: 'coin.top_up' }\">\n              Top-Up\n            </router-link>\n          </div>\n        </div>\n      </div>\n\n      <!-- total marks -->\n      <div class=\"px-5 w-full md:px-10\">\n        <div class=\"mt-3 mb-3\">\n          <section-title class=\"text-left\" title=\"Marks\"/>\n          <div class=\"overflow-hidden justify-between py-3 px-3 max-w-sm md:max-w-xl h-full rounded rounded-xl bg-gray-secondary\">\n            <div class=\"flex flex-row items-center h-full text-left text-purple-primary\">\n              <div class=\"flex flex-col px-2 w-1/8\">\n                <SquareCheckIcon />\n              </div>\n              <div class=\"flex flex-col px-2 w-3/8\">\n                {{ availableMarks }} Marks Available\n              </div>\n              <router-link class=\"flex flex-col px-2 w-1/2 text-right\" :to=\"{ name: 'coin.top_up_redeem_marks' }\">\n                Redeem\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- transaction history -->\n      <div class=\"px-5 w-full md:px-10\">\n        <div class=\"mt-2 mb-3\">\n          <p>Showing {{ trxResult.length }} transaction(s)</p>\n        </div>\n\n        <div class=\"mt-2 mb-3\">\n          <section-title class=\"mb-5 text-left\" title=\"Transaction History\" />\n          <div v-if=\"trxResult.length === 0\">\n            No transactions\n          </div>\n          <div v-else>\n            <div v-for=\"trx in trxResult\">\n              <router-link :to=\"{ name: 'coin.trxDetail', params: { trxID: trx.id }}\">\n                <EdCoinTransactionPill :trxID=trx.id :trxAmount=trx.amount  :date=trx.created_at />\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"h-30\">Empty Space</div>\n\n    </template>\n\n    <template v-slot:bottomBar>\n      <CoinsBottomNavBar />\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\nimport AppLogo from \"@/components/icons/AppLogo\";\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport SectionTitle from \"@/components/SectionTitle\";\nimport EdCoinTransactionPill from \"../../components/EdCoinTransactionPill.vue\";\nimport CoinsBottomNavBar from \"@/components/CoinsBottomNavBar.vue\";\nimport CoinsIcon from \"../../components/icons/CoinsIcon.vue\";\nimport SquareCheckIcon from \"../../components/icons/SquareCheckIcon.vue\";\nimport coin_routes from \"../../router/coin_routes\";\nimport CoinsRepository from \"../../repositories/CoinsRepository\";\n\nexport default {\n  name: \"CoinHome\",\n  data() {\n    return {\n      bottomBarClass: true,\n      tabs: [],\n      trxCount: 0,\n      trxResult: [],\n      availableMarks: 0,\n      homeURL: this.$store.getters.getAuthUserRole == 'Teacher' ? 'teacher.home' : 'student.home',\n    };\n  },\n  mounted() {\n    console.log('CoinHome Mounted');\n\n    // load up the transactions\n    CoinsRepository.coinTrxList().then((res) => {\n      console.log('get coins trx history', res);\n      this.trxResult = res.data;\n    })\n\n    CoinsRepository.marksForCoinsList().then((response) => {\n      console.log(response);\n      this.availableMarks = response.data.marks.reduce((a, v) => {\n        if(v.amount_redeemed === null){\n          return a += v.final_marks;\n        } else {\n          return a;\n        }\n      }, 0);\n    });\n\n  },\n  methods: {\n    sliderUpdate(e){\n      console.log('slider value', e.target.value);\n      this.trxCount = parseInt(e.target.value);\n    }\n\n  },\n  components: {\n    AppLogo, DashboardLayout, IconBaseTwo, SectionTitle, EdCoinTransactionPill,\n    SquareCheckIcon, CoinsIcon, CoinsBottomNavBar, coin_routes,\n}\n}\n\n</script>\n\n<style scoped>\n\n</style>"],"mappings":";AAiFA,OAAAA,OAAA;AACA,OAAAC,eAAA;AACA,OAAAC,WAAA;AACA,OAAAC,YAAA;AACA,OAAAC,qBAAA;AACA,OAAAC,iBAAA;AACA,OAAAC,SAAA;AACA,OAAAC,eAAA;AACA,OAAAC,WAAA;AACA,OAAAC,eAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,cAAA;MACAC,IAAA;MACAC,QAAA;MACAC,SAAA;MACAC,cAAA;MACAC,OAAA,OAAAC,MAAA,CAAAC,OAAA,CAAAC,eAAA;IACA;EACA;EACAC,QAAA;IACAC,OAAA,CAAAC,GAAA;;IAEA;IACAd,eAAA,CAAAe,WAAA,GAAAC,IAAA,CAAAC,GAAA;MACAJ,OAAA,CAAAC,GAAA,0BAAAG,GAAA;MACA,KAAAX,SAAA,GAAAW,GAAA,CAAAf,IAAA;IACA;IAEAF,eAAA,CAAAkB,iBAAA,GAAAF,IAAA,CAAAG,QAAA;MACAN,OAAA,CAAAC,GAAA,CAAAK,QAAA;MACA,KAAAZ,cAAA,GAAAY,QAAA,CAAAjB,IAAA,CAAAkB,KAAA,CAAAC,MAAA,EAAAC,CAAA,EAAAC,CAAA;QACA,IAAAA,CAAA,CAAAC,eAAA;UACA,OAAAF,CAAA,IAAAC,CAAA,CAAAE,WAAA;QACA;UACA,OAAAH,CAAA;QACA;MACA;IACA;EAEA;EACAI,OAAA;IACAC,aAAAC,CAAA;MACAf,OAAA,CAAAC,GAAA,iBAAAc,CAAA,CAAAC,MAAA,CAAAC,KAAA;MACA,KAAAzB,QAAA,GAAA0B,QAAA,CAAAH,CAAA,CAAAC,MAAA,CAAAC,KAAA;IACA;EAEA;EACAE,UAAA;IACAzC,OAAA;IAAAC,eAAA;IAAAC,WAAA;IAAAC,YAAA;IAAAC,qBAAA;IACAG,eAAA;IAAAD,SAAA;IAAAD,iBAAA;IAAAG;EACA;AACA"}]}