{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/thread-loader/dist/cjs.js!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/components/CountdownTimer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/components/CountdownTimer.vue","mtime":1679379067235},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/babel.config.js","mtime":1679379067182},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/thread-loader/dist/cjs.js","mtime":1680070298752},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgU3RvcFdhdGNoSWNvbiBmcm9tICJAL2NvbXBvbmVudHMvaWNvbnMvU3RvcFdhdGNoSWNvbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ291bnRkb3duVGltZXIiLAogIGNvbXBvbmVudHM6IHsKICAgIFN0b3BXYXRjaEljb24KICB9LAogIHByb3BzOiB7CiAgICBkdWVEYXRlVGltZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaGFzQ2xvY2tJY29uOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgaGFzVHdlbnR5Rm91ckhvdXJMaW1pdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGhhc0R5bmFtaWNCYWNrZ3JvdW5kQ29sb3I6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBkaXNhYmxlUmVkQWxlcnQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aW1lUGFzc2VkOiAwLAogICAgICB0aW1lckludGVydmFsOiBudWxsLAogICAgICBpblNlY29uZHM6IHsKICAgICAgICBkYXk6IDg2NDAwLAogICAgICAgIGhvdXI6IDM2MDAsCiAgICAgICAgbWludXRlOiA2MAogICAgICB9LAogICAgICBjdXN0b21CYWNrZ3JvdW5kQ29sb3I6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdGltZVRvdGFsKCkgewogICAgICAvLyBDYWxjdWxhdGUgdG90YWwgdGltZSBiYXNlZCBvbiBkaWZmZXJlbmNlIGZyb20gbm93IHRvIGR1ZSBkYXRlCiAgICAgIGxldCBub3cgPSBtb21lbnQoKS50b0RhdGUoKTsKICAgICAgbGV0IGR1ZURhdGVUaW1lID0gbW9tZW50KHRoaXMuZHVlRGF0ZVRpbWUsICdZWVlZLU1NLUREIEhIOm1tOnNzJyk7CiAgICAgIGxldCB0aW1lRGlmZiA9IGR1ZURhdGVUaW1lLmRpZmYobm93KTsKICAgICAgbGV0IGR1cmF0aW9uID0gbW9tZW50LmR1cmF0aW9uKHRpbWVEaWZmKTsKICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZHVyYXRpb24uYXNTZWNvbmRzKCkpOwogICAgfSwKICAgIHNlY29uZHNMZWZ0KCkgewogICAgICByZXR1cm4gdGhpcy50aW1lVG90YWwgLSB0aGlzLnRpbWVQYXNzZWQ7CiAgICB9LAogICAgdGltZUxlZnQoKSB7CiAgICAgIGxldCBzZWNvbmRzTGVmdCA9IHRoaXMuc2Vjb25kc0xlZnQ7CiAgICAgIGxldCB2YWx1ZSA9IG51bGw7CiAgICAgIGlmICh0aGlzLmhhc1R3ZW50eUZvdXJIb3VyTGltaXQgJiYgc2Vjb25kc0xlZnQgPiB0aGlzLmluU2Vjb25kcy5kYXkpIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXJJbnRlcnZhbCk7CiAgICAgIH0gZWxzZSBpZiAoc2Vjb25kc0xlZnQgPiAwKSB7CiAgICAgICAgLy8gSWYgbW9yZSB0aGFuIDI0IGhvdXJzLCBkaXNwbGF5IGluIHRlcm1zIG9mIGRheXMKICAgICAgICBpZiAoc2Vjb25kc0xlZnQgPiB0aGlzLmluU2Vjb25kcy5kYXkpIHsKICAgICAgICAgIGxldCBkYXlzID0gTWF0aC5mbG9vcihzZWNvbmRzTGVmdCAvIHRoaXMuaW5TZWNvbmRzLmRheSk7CiAgICAgICAgICBpZiAoZGF5cyA+IDMwKSB7CiAgICAgICAgICAgIGxldCBtb250aHMgPSBNYXRoLmZsb29yKGRheXMgLyAzMCk7CiAgICAgICAgICAgIHZhbHVlID0gYCR7bW9udGhzfSAke2RheXMgPT09IDEgPyAnbW9udGgnIDogJ21vbnRocyd9YDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhbHVlID0gYD4gJHtkYXlzfSAke2RheXMgPT09IDEgPyAnZGF5JyA6ICdkYXlzJ31gOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5jdXN0b21CYWNrZ3JvdW5kQ29sb3IgPSAnYmctcHVycGxlLXByaW1hcnknOwogICAgICAgIH0KICAgICAgICAvLyBFbHNlLCBkaXNwbGF5IGluIGZvcm1hdCBoaDptbTpzcwogICAgICAgIGVsc2UgewogICAgICAgICAgbGV0IGhvdXJzID0gTWF0aC5mbG9vcihzZWNvbmRzTGVmdCAvIHRoaXMuaW5TZWNvbmRzLmhvdXIpOwogICAgICAgICAgc2Vjb25kc0xlZnQgLT0gaG91cnMgKiB0aGlzLmluU2Vjb25kcy5ob3VyOwogICAgICAgICAgbGV0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHNMZWZ0IC8gdGhpcy5pblNlY29uZHMubWludXRlKTsKICAgICAgICAgIHNlY29uZHNMZWZ0IC09IG1pbnV0ZXMgKiB0aGlzLmluU2Vjb25kcy5taW51dGU7CiAgICAgICAgICBsZXQgc2Vjb25kcyA9IHNlY29uZHNMZWZ0ICUgdGhpcy5pblNlY29uZHMubWludXRlOwogICAgICAgICAgaG91cnMgPCAxMCA/IGhvdXJzID0gYDAke2hvdXJzfWAgOiBudWxsOwogICAgICAgICAgbWludXRlcyA8IDEwID8gbWludXRlcyA9IGAwJHttaW51dGVzfWAgOiBudWxsOwogICAgICAgICAgc2Vjb25kcyA8IDEwID8gc2Vjb25kcyA9IGAwJHtzZWNvbmRzfWAgOiBudWxsOwogICAgICAgICAgdmFsdWUgPSBgJHtob3Vyc306JHttaW51dGVzfToke3NlY29uZHN9YDsKICAgICAgICAgIGlmIChob3VycyA8IDEpIHsKICAgICAgICAgICAgdGhpcy5jdXN0b21CYWNrZ3JvdW5kQ29sb3IgPSAnYmcteWVsbG93LXByaW1hcnknOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jdXN0b21CYWNrZ3JvdW5kQ29sb3IgPSAnYmctcHVycGxlLXByaW1hcnknOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXJJbnRlcnZhbCk7CiAgICAgICAgdmFsdWUgPSAnMDA6MDA6MDAnOwogICAgICAgIHRoaXMuY3VzdG9tQmFja2dyb3VuZENvbG9yID0gdGhpcy5kaXNhYmxlUmVkQWxlcnQgPyAnYmctcHVycGxlLXByaW1hcnknIDogJ2JnLXJlZC1wcmltYXJ5JzsKICAgICAgfQogICAgICByZXR1cm4gdmFsdWU7CiAgICB9LAogICAgY29udGFpbmVyQ2xhc3MoKSB7CiAgICAgIGlmICh0aGlzLmhhc0R5bmFtaWNCYWNrZ3JvdW5kQ29sb3IgJiYgdGhpcy5jdXN0b21CYWNrZ3JvdW5kQ29sb3IpIHsKICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21CYWNrZ3JvdW5kQ29sb3I7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdiZy10cmFuc3BhcmVudCc7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHN0YXJ0VGltZXIoKSB7CiAgICAgIHRoaXMudGltZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHRoaXMudGltZVBhc3NlZCArPSAxLCAxMDAwKTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnN0YXJ0VGltZXIoKTsKICB9Cn07"},{"version":3,"names":["moment","StopWatchIcon","name","components","props","dueDateTime","type","String","required","hasClockIcon","Boolean","default","hasTwentyFourHourLimit","hasDynamicBackgroundColor","disableRedAlert","data","timePassed","timerInterval","inSeconds","day","hour","minute","customBackgroundColor","computed","timeTotal","now","toDate","timeDiff","diff","duration","Math","floor","asSeconds","secondsLeft","timeLeft","value","clearInterval","days","months","hours","minutes","seconds","containerClass","methods","startTimer","setInterval","mounted"],"sources":["src/components/CountdownTimer.vue"],"sourcesContent":["<template>\n  <div v-if=\"timeLeft\" :class=\"containerClass\"\n       class=\"rounded-full text-white tracking-tight flex flex-row items-center justify-center px-1 py-1\">\n    <div v-if=\"hasClockIcon\" class=\"w-1/7 md:w-1/10\">\n      <stop-watch-icon/>\n    </div>\n    <div class=\"w-5/7 truncate px-1\">\n      {{ timeLeft }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport StopWatchIcon from \"@/components/icons/StopWatchIcon\";\n\nexport default {\n  name: \"CountdownTimer\",\n  components: {StopWatchIcon},\n  props: {\n    dueDateTime: {\n      type: String,\n      required: true,\n    },\n    hasClockIcon: {\n      type: Boolean,\n      default: false\n    },\n    hasTwentyFourHourLimit: {\n      type: Boolean,\n      default: false\n    },\n    hasDynamicBackgroundColor: {\n      type: Boolean,\n      default: false\n    },\n    disableRedAlert: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      timePassed: 0,\n      timerInterval: null,\n      inSeconds: {\n        day: 86400,\n        hour: 3600,\n        minute: 60\n      },\n      customBackgroundColor: null\n    }\n  },\n  computed: {\n\n    timeTotal() {\n      // Calculate total time based on difference from now to due date\n      let now = moment().toDate()\n      let dueDateTime = moment(this.dueDateTime, 'YYYY-MM-DD HH:mm:ss')\n\n      let timeDiff = dueDateTime.diff(now);\n      let duration = moment.duration(timeDiff);\n\n      return Math.floor(duration.asSeconds());\n    },\n    secondsLeft() {\n      return this.timeTotal - this.timePassed\n    },\n    timeLeft() {\n\n      let secondsLeft = this.secondsLeft;\n      let value = null;\n\n      if (this.hasTwentyFourHourLimit && secondsLeft > this.inSeconds.day) {\n        clearInterval(this.timerInterval)\n      } else if (secondsLeft > 0) {\n\n        // If more than 24 hours, display in terms of days\n        if (secondsLeft > this.inSeconds.day) {\n          let days = Math.floor(secondsLeft / this.inSeconds.day);\n\n          if (days > 30) {\n            let months = Math.floor(days / 30);\n            value = `${months} ${days === 1 ? 'month' : 'months'}`\n          } else {\n            value = `> ${days} ${days === 1 ? 'day' : 'days'}`\n          }\n\n          this.customBackgroundColor = 'bg-purple-primary'\n\n        }\n        // Else, display in format hh:mm:ss\n        else {\n          let hours = Math.floor(secondsLeft / this.inSeconds.hour);\n          secondsLeft -= hours * this.inSeconds.hour;\n\n          let minutes = Math.floor(secondsLeft / this.inSeconds.minute)\n          secondsLeft -= minutes * this.inSeconds.minute;\n\n          let seconds = secondsLeft % this.inSeconds.minute\n\n          hours < 10 ? hours = `0${hours}` : null;\n          minutes < 10 ? minutes = `0${minutes}` : null;\n          seconds < 10 ? seconds = `0${seconds}` : null;\n\n          value = `${hours}:${minutes}:${seconds}`\n\n          if (hours < 1) {\n            this.customBackgroundColor = 'bg-yellow-primary'\n          } else {\n            this.customBackgroundColor = 'bg-purple-primary'\n          }\n        }\n\n      } else {\n        clearInterval(this.timerInterval)\n        value = '00:00:00'\n        this.customBackgroundColor = this.disableRedAlert ? 'bg-purple-primary' : 'bg-red-primary'\n      }\n\n      return value\n    },\n    containerClass() {\n      if (this.hasDynamicBackgroundColor && this.customBackgroundColor) {\n        return this.customBackgroundColor;\n      } else {\n        return 'bg-transparent'\n      }\n    }\n  },\n  methods: {\n    startTimer() {\n      this.timerInterval = setInterval(() => (this.timePassed += 1), 1000);\n    }\n  },\n  mounted() {\n    this.startTimer()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":"AAaA,OAAAA,MAAA;AACA,OAAAC,aAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACAC,WAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IACAC,YAAA;MACAH,IAAA,EAAAI,OAAA;MACAC,OAAA;IACA;IACAC,sBAAA;MACAN,IAAA,EAAAI,OAAA;MACAC,OAAA;IACA;IACAE,yBAAA;MACAP,IAAA,EAAAI,OAAA;MACAC,OAAA;IACA;IACAG,eAAA;MACAR,IAAA,EAAAI,OAAA;MACAC,OAAA;IACA;EACA;EACAI,KAAA;IACA;MACAC,UAAA;MACAC,aAAA;MACAC,SAAA;QACAC,GAAA;QACAC,IAAA;QACAC,MAAA;MACA;MACAC,qBAAA;IACA;EACA;EACAC,QAAA;IAEAC,UAAA;MACA;MACA,IAAAC,GAAA,GAAAzB,MAAA,GAAA0B,MAAA;MACA,IAAArB,WAAA,GAAAL,MAAA,MAAAK,WAAA;MAEA,IAAAsB,QAAA,GAAAtB,WAAA,CAAAuB,IAAA,CAAAH,GAAA;MACA,IAAAI,QAAA,GAAA7B,MAAA,CAAA6B,QAAA,CAAAF,QAAA;MAEA,OAAAG,IAAA,CAAAC,KAAA,CAAAF,QAAA,CAAAG,SAAA;IACA;IACAC,YAAA;MACA,YAAAT,SAAA,QAAAR,UAAA;IACA;IACAkB,SAAA;MAEA,IAAAD,WAAA,QAAAA,WAAA;MACA,IAAAE,KAAA;MAEA,SAAAvB,sBAAA,IAAAqB,WAAA,QAAAf,SAAA,CAAAC,GAAA;QACAiB,aAAA,MAAAnB,aAAA;MACA,WAAAgB,WAAA;QAEA;QACA,IAAAA,WAAA,QAAAf,SAAA,CAAAC,GAAA;UACA,IAAAkB,IAAA,GAAAP,IAAA,CAAAC,KAAA,CAAAE,WAAA,QAAAf,SAAA,CAAAC,GAAA;UAEA,IAAAkB,IAAA;YACA,IAAAC,MAAA,GAAAR,IAAA,CAAAC,KAAA,CAAAM,IAAA;YACAF,KAAA,MAAAG,MAAA,IAAAD,IAAA;UACA;YACAF,KAAA,QAAAE,IAAA,IAAAA,IAAA;UACA;UAEA,KAAAf,qBAAA;QAEA;QACA;QAAA,KACA;UACA,IAAAiB,KAAA,GAAAT,IAAA,CAAAC,KAAA,CAAAE,WAAA,QAAAf,SAAA,CAAAE,IAAA;UACAa,WAAA,IAAAM,KAAA,QAAArB,SAAA,CAAAE,IAAA;UAEA,IAAAoB,OAAA,GAAAV,IAAA,CAAAC,KAAA,CAAAE,WAAA,QAAAf,SAAA,CAAAG,MAAA;UACAY,WAAA,IAAAO,OAAA,QAAAtB,SAAA,CAAAG,MAAA;UAEA,IAAAoB,OAAA,GAAAR,WAAA,QAAAf,SAAA,CAAAG,MAAA;UAEAkB,KAAA,QAAAA,KAAA,OAAAA,KAAA;UACAC,OAAA,QAAAA,OAAA,OAAAA,OAAA;UACAC,OAAA,QAAAA,OAAA,OAAAA,OAAA;UAEAN,KAAA,MAAAI,KAAA,IAAAC,OAAA,IAAAC,OAAA;UAEA,IAAAF,KAAA;YACA,KAAAjB,qBAAA;UACA;YACA,KAAAA,qBAAA;UACA;QACA;MAEA;QACAc,aAAA,MAAAnB,aAAA;QACAkB,KAAA;QACA,KAAAb,qBAAA,QAAAR,eAAA;MACA;MAEA,OAAAqB,KAAA;IACA;IACAO,eAAA;MACA,SAAA7B,yBAAA,SAAAS,qBAAA;QACA,YAAAA,qBAAA;MACA;QACA;MACA;IACA;EACA;EACAqB,OAAA;IACAC,WAAA;MACA,KAAA3B,aAAA,GAAA4B,WAAA,YAAA7B,UAAA;IACA;EACA;EACA8B,QAAA;IACA,KAAAF,UAAA;EACA;AACA"}]}