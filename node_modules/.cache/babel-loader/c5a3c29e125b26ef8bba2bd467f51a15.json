{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/thread-loader/dist/cjs.js!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherClasses/SubjectsList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherClasses/SubjectsList.vue","mtime":1679379067249},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/babel.config.js","mtime":1679379067182},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/thread-loader/dist/cjs.js","mtime":1680070298752},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBUZWFjaGVyUmVwb3NpdG9yeSBmcm9tICJAL3JlcG9zaXRvcmllcy9UZWFjaGVyUmVwb3NpdG9yeSI7CmltcG9ydCBJY29uQmFzZSBmcm9tICJAL2NvbXBvbmVudHMvSWNvbkJhc2UiOwppbXBvcnQgeyBTd2lwZXIsIFN3aXBlclNsaWRlLCBkaXJlY3RpdmUgfSBmcm9tICd2dWUtYXdlc29tZS1zd2lwZXInOwppbXBvcnQgUHJvZmlsZVBob3RvIGZyb20gIkAvY29tcG9uZW50cy9pY29ucy9Qcm9maWxlUGhvdG8iOwppbXBvcnQgJ0AvZGlyZWN0aXZlcy9zY3JvbGwnOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdWJqZWN0c0xpc3QiLAogIGNvbXBvbmVudHM6IHsKICAgIFByb2ZpbGVQaG90bywKICAgIEljb25CYXNlCiAgfSwKICBwcm9wczogewogICAgc2VhcmNoOiBTdHJpbmcKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBTdGF0ZXMKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGVycm9yOiBudWxsLAogICAgICBpc1Njcm9sbGVkRG93blR3bzogZmFsc2UsCiAgICAgIGlzU2Nyb2xsZWRVcDogZmFsc2UsCiAgICAgIHNjcm9sbExvY2F0aW9uOiAwLAogICAgICBzZXRTdGlja3lTZWFyY2hCYXI6IGZhbHNlLAogICAgICAvLyBEYXRhCiAgICAgIHN1YmplY3RzOiBudWxsLAogICAgICBmaWx0ZXJlZFN1YmplY3RzOiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICB3YXRjaDogewogICAgJyRyb3V0ZSc6ICdmZXRjaERhdGEnLAogICAgJ3NlYXJjaCc6ICdzZWFyY2hOYW1lJwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbnRhaW5lckNsYXNzOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLnNldFN0aWNreVNlYXJjaEJhcikgewogICAgICAgIHJldHVybiAnbXQtMjAnOwogICAgICB9CiAgICAgIGlmICh0aGlzLmlzU2Nyb2xsZWRVcCkgewogICAgICAgIHJldHVybiAnbXQtMCc7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRGF0YSgpIHsKICAgICAgdGhpcy5lcnJvciA9IHRoaXMuc3ViamVjdHMgPSBudWxsOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBjb25zdCBjbGFzc0lEID0gdGhpcy4kcm91dGUucGFyYW1zLmNsYXNzSUQ7CiAgICAgIFRlYWNoZXJSZXBvc2l0b3J5LmdldFN1YmplY3RzV2l0aFN0dWRlbnRzRm9yVGVhY2hlckNsYXNzKHsKICAgICAgICBjbGFzc0lEOiBjbGFzc0lELAogICAgICAgIHNlYXJjaDogbnVsbAogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnN1YmplY3RzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgIHRoaXMuZmlsdGVyZWRTdWJqZWN0cyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHt9KTsKICAgIH0sCiAgICBzZWFyY2hOYW1lKCkgewogICAgICAvLyBDb3B5IG9yaWdpbmFsIHJlc3VsdHMgaW50byBmaWx0ZXJTdWJqZWN0cwogICAgICB0aGlzLmZpbHRlcmVkU3ViamVjdHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuc3ViamVjdHMpKTsKICAgICAgdGhpcy5maWx0ZXJlZFN1YmplY3RzID0gdGhpcy5maWx0ZXJlZFN1YmplY3RzLm1hcChzdWJqZWN0ID0+IHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcGVyaW9kOiBzdWJqZWN0LnBlcmlvZCwKICAgICAgICAgIHN0dWRlbnRzOiBzdWJqZWN0LnN0dWRlbnRzLmZpbHRlcihzdHVkZW50ID0+IHsKICAgICAgICAgICAgcmV0dXJuIHN0dWRlbnQubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRoaXMuc2VhcmNoLnRvTG93ZXJDYXNlKCkpOwogICAgICAgICAgfSksCiAgICAgICAgICBzdWJqZWN0X3RpdGxlOiBzdWJqZWN0LnN1YmplY3RfdGl0bGUKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICBnb1RvU3R1ZGVudFNob3coc3R1ZGVudElEKSB7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnc3R1ZGVudC5wcm9maWxlLnNob3cnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgc3R1ZGVudElEOiBzdHVkZW50SUQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNjcm9sbDogZnVuY3Rpb24gKGV2dCwgZWwpIHsKICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZID4gNjAgJiYgd2luZG93LnNjcm9sbFkgPiB0aGlzLnNjcm9sbExvY2F0aW9uKSB7CiAgICAgICAgbGV0IHN0YXR1cyA9IHdpbmRvdy5zY3JvbGxZID4gNjA7CiAgICAgICAgdGhpcy5pc1Njcm9sbGVkRG93blR3byA9IHN0YXR1czsKICAgICAgICB0aGlzLmlzU2Nyb2xsZWRVcCA9ICFzdGF0dXM7CiAgICAgIH0KICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZIDwgNjAgJiYgd2luZG93LnNjcm9sbFkgPCB0aGlzLnNjcm9sbExvY2F0aW9uKSB7CiAgICAgICAgbGV0IHN0YXR1cyA9IHdpbmRvdy5zY3JvbGxZIDwgNjA7CiAgICAgICAgdGhpcy5pc1Njcm9sbGVkVXAgPSBzdGF0dXM7CiAgICAgICAgdGhpcy5pc1Njcm9sbGVkRG93blR3byA9ICFzdGF0dXM7CiAgICAgIH0KICAgICAgdGhpcy5zZXRTdGlja3lTZWFyY2hCYXIgPSB3aW5kb3cuc2Nyb2xsWSA+IDYwOwogICAgICB0aGlzLnNjcm9sbExvY2F0aW9uID0gd2luZG93LnNjcm9sbFk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["TeacherRepository","IconBase","Swiper","SwiperSlide","directive","ProfilePhoto","router","name","components","props","search","String","data","loading","error","isScrolledDownTwo","isScrolledUp","scrollLocation","setStickySearchBar","subjects","filteredSubjects","created","fetchData","watch","computed","containerClass","methods","classID","$route","params","getSubjectsWithStudentsForTeacherClass","then","response","catch","err","searchName","JSON","parse","stringify","map","subject","period","students","filter","student","toLowerCase","includes","subject_title","goToStudentShow","studentID","push","handleScroll","evt","el","window","scrollY","status"],"sources":["src/views/teachers/TeacherClasses/SubjectsList.vue"],"sourcesContent":["<template>\n\n  <div class=\"mb-20\" :class=\"containerClass\" v-scroll=\"handleScroll\">\n    <div v-for=\"subject in filteredSubjects\"\n         :key=\"subject.subject_title\"\n    >\n\n      <!-- Subject Title + Period -->\n      <div\n          class=\"text-purple-primary truncate font-bold flex flex-row justify-between text-left text-sm bg-gray-secondary py-2 px-5\">\n        <div class=\"w-3/5 truncate\">\n          {{ subject.subject_title }}\n        </div>\n        <div class=\"w-2/5 text-right\">\n          {{ subject.period }}\n        </div>\n      </div>\n\n      <!-- Student List for Subject -->\n      <div v-for=\"student in subject.students\"\n           :key=\"student.id\"\n           @click=\"goToStudentShow(student.id)\"\n           class=\"text-left px-5 py-4 flex flex-row w-full border-b-1 items-center bg-white\"\n      >\n        <icon-base class=\" w-1/8\">\n          <profile-photo :gender=\"student.gender\"/>\n        </icon-base>\n        <div class=\"w-5/6 ml-5 text-purple-primary truncate pr-4\">\n          {{ student.name }}\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport TeacherRepository from \"@/repositories/TeacherRepository\";\nimport IconBase from \"@/components/IconBase\";\nimport {Swiper, SwiperSlide, directive} from 'vue-awesome-swiper'\nimport ProfilePhoto from \"@/components/icons/ProfilePhoto\";\nimport '@/directives/scroll'\nimport router from \"@/router\";\n\nexport default {\n  name: \"SubjectsList\",\n  components: {ProfilePhoto, IconBase},\n  props: {\n    search: String\n  },\n  data() {\n    return {\n\n      // States\n      loading: false,\n      error: null,\n      isScrolledDownTwo: false,\n      isScrolledUp: false,\n      scrollLocation: 0,\n      setStickySearchBar: false,\n\n      // Data\n      subjects: null,\n      filteredSubjects: null\n\n    }\n  },\n  created() {\n    this.fetchData()\n  },\n  watch: {\n    '$route': 'fetchData',\n    'search': 'searchName'\n  },\n  computed: {\n    containerClass: function () {\n      if (this.setStickySearchBar) {\n        return 'mt-20'\n      }\n      if (this.isScrolledUp) {\n        return 'mt-0'\n      }\n    }\n  },\n  methods: {\n\n    fetchData() {\n      this.error = this.subjects = null\n      this.loading = true\n\n      const classID = this.$route.params.classID\n\n      TeacherRepository.getSubjectsWithStudentsForTeacherClass({classID: classID, search: null})\n          .then(response => {\n\n            this.subjects = response.data.data;\n            this.filteredSubjects = response.data.data;\n\n          })\n          .catch(err => {\n\n          })\n    },\n    searchName() {\n\n      // Copy original results into filterSubjects\n      this.filteredSubjects = JSON.parse(JSON.stringify(this.subjects));\n\n      this.filteredSubjects = this.filteredSubjects.map((subject) => {\n        return {\n          period: subject.period,\n          students: subject.students.filter(student => {\n            return (student.name.toLowerCase()).includes(this.search.toLowerCase())\n          }),\n          subject_title: subject.subject_title\n        }\n      })\n    },\n\n    goToStudentShow(studentID) {\n      router.push({name: 'student.profile.show', params: {studentID: studentID}})\n    },\n    handleScroll: function (evt, el) {\n\n      if (window.scrollY > 60 && window.scrollY > this.scrollLocation) {\n        let status = window.scrollY > 60\n        this.isScrolledDownTwo = status\n        this.isScrolledUp = !status\n      }\n\n      if (window.scrollY < 60 && window.scrollY < this.scrollLocation) {\n        let status = window.scrollY < 60\n        this.isScrolledUp = status\n        this.isScrolledDownTwo = !status\n      }\n\n      this.setStickySearchBar = window.scrollY > 60\n      this.scrollLocation = window.scrollY\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":";AAqCA,OAAAA,iBAAA;AACA,OAAAC,QAAA;AACA,SAAAC,MAAA,EAAAC,WAAA,EAAAC,SAAA;AACA,OAAAC,YAAA;AACA;AACA,OAAAC,MAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAH,YAAA;IAAAJ;EAAA;EACAQ,KAAA;IACAC,MAAA,EAAAC;EACA;EACAC,KAAA;IACA;MAEA;MACAC,OAAA;MACAC,KAAA;MACAC,iBAAA;MACAC,YAAA;MACAC,cAAA;MACAC,kBAAA;MAEA;MACAC,QAAA;MACAC,gBAAA;IAEA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,KAAA;IACA;IACA;EACA;EACAC,QAAA;IACAC,cAAA,WAAAA,CAAA;MACA,SAAAP,kBAAA;QACA;MACA;MACA,SAAAF,YAAA;QACA;MACA;IACA;EACA;EACAU,OAAA;IAEAJ,UAAA;MACA,KAAAR,KAAA,QAAAK,QAAA;MACA,KAAAN,OAAA;MAEA,MAAAc,OAAA,QAAAC,MAAA,CAAAC,MAAA,CAAAF,OAAA;MAEA3B,iBAAA,CAAA8B,sCAAA;QAAAH,OAAA,EAAAA,OAAA;QAAAjB,MAAA;MAAA,GACAqB,IAAA,CAAAC,QAAA;QAEA,KAAAb,QAAA,GAAAa,QAAA,CAAApB,IAAA,CAAAA,IAAA;QACA,KAAAQ,gBAAA,GAAAY,QAAA,CAAApB,IAAA,CAAAA,IAAA;MAEA,GACAqB,KAAA,CAAAC,GAAA,KAEA;IACA;IACAC,WAAA;MAEA;MACA,KAAAf,gBAAA,GAAAgB,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,SAAA,MAAAnB,QAAA;MAEA,KAAAC,gBAAA,QAAAA,gBAAA,CAAAmB,GAAA,CAAAC,OAAA;QACA;UACAC,MAAA,EAAAD,OAAA,CAAAC,MAAA;UACAC,QAAA,EAAAF,OAAA,CAAAE,QAAA,CAAAC,MAAA,CAAAC,OAAA;YACA,OAAAA,OAAA,CAAArC,IAAA,CAAAsC,WAAA,GAAAC,QAAA,MAAApC,MAAA,CAAAmC,WAAA;UACA;UACAE,aAAA,EAAAP,OAAA,CAAAO;QACA;MACA;IACA;IAEAC,gBAAAC,SAAA;MACA3C,MAAA,CAAA4C,IAAA;QAAA3C,IAAA;QAAAsB,MAAA;UAAAoB,SAAA,EAAAA;QAAA;MAAA;IACA;IACAE,YAAA,WAAAA,CAAAC,GAAA,EAAAC,EAAA;MAEA,IAAAC,MAAA,CAAAC,OAAA,SAAAD,MAAA,CAAAC,OAAA,QAAAtC,cAAA;QACA,IAAAuC,MAAA,GAAAF,MAAA,CAAAC,OAAA;QACA,KAAAxC,iBAAA,GAAAyC,MAAA;QACA,KAAAxC,YAAA,IAAAwC,MAAA;MACA;MAEA,IAAAF,MAAA,CAAAC,OAAA,SAAAD,MAAA,CAAAC,OAAA,QAAAtC,cAAA;QACA,IAAAuC,MAAA,GAAAF,MAAA,CAAAC,OAAA;QACA,KAAAvC,YAAA,GAAAwC,MAAA;QACA,KAAAzC,iBAAA,IAAAyC,MAAA;MACA;MAEA,KAAAtC,kBAAA,GAAAoC,MAAA,CAAAC,OAAA;MACA,KAAAtC,cAAA,GAAAqC,MAAA,CAAAC,OAAA;IACA;EACA;AACA"}]}