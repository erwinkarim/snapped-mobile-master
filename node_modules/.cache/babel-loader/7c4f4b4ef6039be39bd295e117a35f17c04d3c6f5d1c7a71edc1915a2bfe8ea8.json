{"ast":null,"code":"import axios from \"axios\";\nimport store from \"@/store/index\";\nconst baseURL = process.env.VERCEL_GITHUB_COMMIT_REF === 'staging' ? process.env.VUE_APP_STAGING_BACKEND_ENDPOINT : process.env.VUE_APP_BACKEND_ENDPOINT;\nconst Repository = axios.create({\n  baseURL,\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json'\n  }\n});\nRepository.interceptors.request.use(config => {\n  const token = store.getters.getToken;\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  } else {\n    delete Repository.defaults.headers.common.Authorization;\n  }\n  return config;\n}, error => Promise.reject(error));\nexport default Repository;","map":{"version":3,"names":["axios","store","baseURL","process","env","VERCEL_GITHUB_COMMIT_REF","VUE_APP_STAGING_BACKEND_ENDPOINT","VUE_APP_BACKEND_ENDPOINT","Repository","create","headers","Accept","interceptors","request","use","config","token","getters","getToken","Authorization","defaults","common","error","Promise","reject"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/repositories/Repository.js"],"sourcesContent":["import axios from \"axios\"\nimport store from \"@/store/index\"\n\nconst baseURL = process.env.VERCEL_GITHUB_COMMIT_REF === 'staging' ? process.env.VUE_APP_STAGING_BACKEND_ENDPOINT : process.env.VUE_APP_BACKEND_ENDPOINT;\n\nconst Repository = axios.create({\n    baseURL,\n    headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n    }\n})\n\nRepository.interceptors.request.use(\n    config => {\n        const token = store.getters.getToken\n\n        if (token) {\n            config.headers.Authorization = `Bearer ${token}`\n        } else  {\n            delete Repository.defaults.headers.common.Authorization\n        }\n\n        return config\n    },\n    error => Promise.reject(error)\n)\n\nexport default Repository;\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,eAAe;AAEjC,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,wBAAwB,KAAK,SAAS,GAAGF,OAAO,CAACC,GAAG,CAACE,gCAAgC,GAAGH,OAAO,CAACC,GAAG,CAACG,wBAAwB;AAExJ,MAAMC,UAAU,GAAGR,KAAK,CAACS,MAAM,CAAC;EAC5BP,OAAO;EACPQ,OAAO,EAAE;IACL,cAAc,EAAE,kBAAkB;IAClCC,MAAM,EAAE;EACZ;AACJ,CAAC,CAAC;AAEFH,UAAU,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC/BC,MAAM,IAAI;EACN,MAAMC,KAAK,GAAGf,KAAK,CAACgB,OAAO,CAACC,QAAQ;EAEpC,IAAIF,KAAK,EAAE;IACPD,MAAM,CAACL,OAAO,CAACS,aAAa,GAAI,UAASH,KAAM,EAAC;EACpD,CAAC,MAAO;IACJ,OAAOR,UAAU,CAACY,QAAQ,CAACV,OAAO,CAACW,MAAM,CAACF,aAAa;EAC3D;EAEA,OAAOJ,MAAM;AACjB,CAAC,EACDO,KAAK,IAAIC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CACjC;AAED,eAAed,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}