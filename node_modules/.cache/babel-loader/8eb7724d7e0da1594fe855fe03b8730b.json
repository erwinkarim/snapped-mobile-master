{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/thread-loader/dist/cjs.js!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherAssignments/Edit/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherAssignments/Edit/Index.vue","mtime":1679379067247},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/babel.config.js","mtime":1679379067182},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/thread-loader/dist/cjs.js","mtime":1680070298752},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBEYXNoYm9hcmRMYXlvdXQgZnJvbSAiQC92aWV3cy9sYXlvdXQvRGFzaGJvYXJkTGF5b3V0IjsKaW1wb3J0IFBhZ2VIZWFkZXJUaHJlZSBmcm9tICJAL2NvbXBvbmVudHMvUGFnZUhlYWRlclRocmVlIjsKaW1wb3J0IE5hdkJhY2sgZnJvbSAiQC9jb21wb25lbnRzL05hdkJhY2siOwppbXBvcnQgTW9kYWwgZnJvbSAiQC9jb21wb25lbnRzL01vZGFsIjsKaW1wb3J0IEljb25CYXNlVHdvIGZyb20gIkAvY29tcG9uZW50cy9JY29uQmFzZVR3byI7CmltcG9ydCBDbG9ja0ljb24gZnJvbSAiQC9jb21wb25lbnRzL2ljb25zL0Nsb2NrSWNvbiI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IEFzc2lnbm1lbnRSZXBvc2l0b3J5IGZyb20gIkAvcmVwb3NpdG9yaWVzL0Fzc2lnbm1lbnRSZXBvc2l0b3J5IjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSW5kZXgiLAogIHByb3BzOiB7CiAgICBhc3NpZ25tZW50SUQ6IFtTdHJpbmcsIE51bWJlcl0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBzdGF0ZXMKICAgICAgaXNTZWxlY3RpbmdEdWVEYXRlOiBmYWxzZSwKICAgICAgaXNTaG93aW5nU3VjY2Vzc01vZGFsOiBmYWxzZSwKICAgICAgaXNTaG93aW5nRGVsZXRlTW9kYWw6IGZhbHNlLAogICAgICBpc0RlbGV0ZWQ6IGZhbHNlLAogICAgICAvLyBtb2RlbHMKICAgICAgZHVlX2RhdGV0aW1lOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdCgpIHsKICAgICAgaWYgKHRoaXMuZHVlX2RhdGV0aW1lKSB7CiAgICAgICAgQXNzaWdubWVudFJlcG9zaXRvcnkudXBkYXRlKHRoaXMuYXNzaWdubWVudElELCB0aGlzLmZvcm1hdF9kYXRlKHRoaXMuZHVlX2RhdGV0aW1lKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nU3VjY2Vzc01vZGFsID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZUFzc2lnbm1lbnQoKSB7CiAgICAgIEFzc2lnbm1lbnRSZXBvc2l0b3J5LmRlbGV0ZSh0aGlzLmFzc2lnbm1lbnRJRCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgdGhpcy50b2dnbGVEZWxldGVNb2RhbCgpOwogICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAndGVhY2hlci5hc3NpZ25tZW50cycKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZm9ybWF0X2RhdGUodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIG1vbWVudChTdHJpbmcodmFsdWUpKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKTsKICAgICAgfQogICAgfSwKICAgIGdldEh1bWFuRGF0ZShkYXRldGltZSkgewogICAgICByZXR1cm4gbW9tZW50KGRhdGV0aW1lLCAiWVlZWS1NTS1ERCBoaDptbTpzcyIpLmZvcm1hdCgiREQgTU1NTSBZWVlZIik7CiAgICB9LAogICAgdG9nZ2xlRGVsZXRlTW9kYWwoKSB7CiAgICAgIHRoaXMuaXNTaG93aW5nRGVsZXRlTW9kYWwgPSAhdGhpcy5pc1Nob3dpbmdEZWxldGVNb2RhbDsKICAgIH0sCiAgICBjbG9zZVNldER1ZURhdGVNb2RhbCgpIHsKICAgICAgaWYgKHRoaXMuZHVyYXRpb25EYXkgPT09ICcnKSB7CiAgICAgICAgdGhpcy5kdXJhdGlvbkRheSA9IDA7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZHVyYXRpb25Ib3VyID09PSAnJykgewogICAgICAgIHRoaXMuZHVyYXRpb25Ib3VyID0gMDsKICAgICAgfQogICAgICBpZiAodGhpcy5kdXJhdGlvbk1pbnV0ZSA9PT0gJycpIHsKICAgICAgICB0aGlzLmR1cmF0aW9uTWludXRlID0gMDsKICAgICAgfQogICAgICB0aGlzLmlzU2VsZWN0aW5nRHVlRGF0ZSA9ICF0aGlzLmlzU2VsZWN0aW5nRHVlRGF0ZTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENsb2NrSWNvbiwKICAgIEljb25CYXNlVHdvLAogICAgTW9kYWwsCiAgICBOYXZCYWNrLAogICAgUGFnZUhlYWRlclRocmVlLAogICAgRGFzaGJvYXJkTGF5b3V0CiAgfQp9Ow=="},{"version":3,"names":["DashboardLayout","PageHeaderThree","NavBack","Modal","IconBaseTwo","ClockIcon","moment","AssignmentRepository","router","name","props","assignmentID","String","Number","data","isSelectingDueDate","isShowingSuccessModal","isShowingDeleteModal","isDeleted","due_datetime","methods","submit","update","format_date","then","response","success","deleteAssignment","delete","toggleDeleteModal","push","value","format","getHumanDate","datetime","closeSetDueDateModal","durationDay","durationHour","durationMinute","components"],"sources":["src/views/teachers/TeacherAssignments/Edit/Index.vue"],"sourcesContent":["<template>\n  <dashboard-layout :has-custom-bottom-bar=\"true\">\n\n    <!--  HEADER -->\n    <template v-slot:pageHeader>\n      <page-header-three class=\"px-2\" :has-scroll-animation=\"true\">\n        <template v-slot:leftAction>\n          <nav-back class=\"w-2/7\" stroke-color=\"red-primary\"/>\n        </template>\n        <template v-slot:mini-title>\n          Edit Assignment\n        </template>\n        <template v-slot:title>\n          Edit Assignment\n        </template>\n      </page-header-three>\n    </template>\n\n    <template v-slot:content>\n\n      <!--  MODAL: SUCCESS   -->\n      <div v-if=\"isShowingSuccessModal\" @click.self=\"\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal :redirect-route=\"{name: 'teacher.assignments.show'}\"\n               modal-type=\"success\"\n               class=\"w-4/5 \"\n        >\n          <h3 slot=\"title\" class=\"text-purple-primary font-bold text-4xl\">Published!</h3>\n          <p slot=\"message\">\n            Assignment updated!\n          </p>\n          <template slot=\"button\">\n            <button class=\"font-bold w-4/5 rounded-full px-2 font-bold leading-relaxed tracking-wider\">\n              Okay\n            </button>\n          </template>\n        </modal>\n      </div>\n\n      <!--  MODAL: DELETE   -->\n      <div v-if=\"isShowingDeleteModal\" @click.self=\"toggleDeleteModal\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal\n               modal-type=\"no-icon\"\n               class=\"w-4/5 \"\n        >\n          <h3 slot=\"title\" class=\"text-purple-primary font-bold text-4xl\">Delete this assignment</h3>\n          <p slot=\"message\">\n            Are you sure?\n          </p>\n          <template slot=\"button\">\n            <div @click=\"deleteAssignment\">\n              DELETE THIS\n            </div>\n          </template>\n        </modal>\n      </div>\n\n      <!--  MODAL: SELECT DUE DATE -->\n      <div v-if=\"isSelectingDueDate\" @click.self=\"closeSetDueDateModal\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal class=\"fixed mx-1/24\" v-if=\"isSelectingDueDate\" modal-type=\"no-icon\">\n\n          <template v-slot:title>\n            <div class=\"font-bold\">\n              Set Due Date & Time\n            </div>\n          </template>\n\n          <template v-slot:message>\n            <div class=\"w-full grid grid-cols-1 divide-y divide-transparent\">\n              <v-date-picker class=\"place-self-center\" :min-date=\"new Date()\" v-model=\"due_datetime\" mode=\"dateTime\"/>\n            </div>\n          </template>\n\n          <template v-slot:button>\n            <button @click=\"closeSetDueDateModal\"\n                    class=\"font-bold w-full rounded-full px-2 font-bold leading-relaxed tracking-wider\"\n            >\n              Okay\n            </button>\n          </template>\n        </modal>\n      </div>\n\n      <!-- INPUTS     -->\n      <div class=\"w-full px-7 mt-3 pb-3\">\n\n        <!--  INPUT: SELECT DUE DATE      -->\n        <div\n            class=\"flex mb-2 pl-6 pr-2 py-5 mt-2 grid grid-cols-2 appearance-none border rounded-md border-none w-full bg-gray-secondary text-purple-secondary text-lg font-normal leading-tight focus:outline-none focus:shadow-outline placeholder-purple-secondary\">\n          <div class=\"text-left place-self-start truncate\">\n            <button @click=\"isSelectingDueDate = !isSelectingDueDate\">\n              {{ due_datetime ? getHumanDate(due_datetime) : 'Change Due Date' }}\n            </button>\n          </div>\n          <div>\n            <button @click=\"isSelectingDueDate = !isSelectingDueDate\">\n              <icon-base-two class=\"align-center float-right w-1/8 mr-3\">\n                <clock-icon/>\n              </icon-base-two>\n            </button>\n          </div>\n        </div>\n\n      </div>\n\n    </template>\n\n    <template v-slot:bottomBar>\n      <div class=\"flex flex-row w-full max-w-xl\">\n        <div class=\"px-2 w-4/7\">\n          <button @click=\"toggleDeleteModal\"\n              class=\"w-full font-bold rounded-full text-white text-sm bg-red-primary border-2 border-red-primary py-3 px-1 flex flex-row justify-center mr-2\">\n        Delete\n      </button>\n        </div>\n        <div class=\"px-2 w-3/7\">\n          <button @click=\"submit\"\n              class=\"w-full font-bold rounded-full text-purple-primary text-sm bg-white border-2 border-purple-primary py-3 px-1 flex flex-row justify-center\">\n        Update\n      </button>\n        </div>\n      </div>\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport NavBack from \"@/components/NavBack\";\nimport Modal from \"@/components/Modal\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport ClockIcon from \"@/components/icons/ClockIcon\";\nimport moment from \"moment\";\nimport AssignmentRepository from \"@/repositories/AssignmentRepository\";\nimport router from \"@/router\";\n\nexport default {\n  name: \"Index\",\n  props: {\n    assignmentID: [String, Number]\n  },\n  data() {\n    return {\n\n      // states\n      isSelectingDueDate: false,\n      isShowingSuccessModal: false,\n      isShowingDeleteModal: false,\n      isDeleted: false,\n\n      // models\n      due_datetime: ''\n    }\n  },\n  methods: {\n\n    submit() {\n\n      if (this.due_datetime) {\n        AssignmentRepository.update(this.assignmentID, this.format_date(this.due_datetime))\n            .then(response => {\n              if (response.data.success) {\n                this.isShowingSuccessModal = true;\n              }\n            })\n      }\n    },\n\n    deleteAssignment () {\n      AssignmentRepository.delete(this.assignmentID)\n          .then(response => {\n            if (response.data.success) {\n              this.toggleDeleteModal();\n              router.push({ name: 'teacher.assignments'})\n            }\n          })\n    },\n\n    format_date(value) {\n      if (value) {\n        return moment(String(value)).format('YYYY-MM-DD HH:mm:ss')\n      }\n    },\n\n    getHumanDate(datetime) {\n      return moment(datetime, \"YYYY-MM-DD hh:mm:ss\").format(\"DD MMMM YYYY\")\n    },\n\n    toggleDeleteModal() {\n      this.isShowingDeleteModal = !this.isShowingDeleteModal\n    },\n\n    closeSetDueDateModal() {\n      if (this.durationDay === '') {\n        this.durationDay = 0\n      }\n      if (this.durationHour === '') {\n        this.durationHour = 0\n      }\n      if (this.durationMinute === '') {\n        this.durationMinute = 0\n      }\n\n      this.isSelectingDueDate = !this.isSelectingDueDate\n    },\n  },\n  components: {ClockIcon, IconBaseTwo, Modal, NavBack, PageHeaderThree, DashboardLayout}\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":";AAiIA,OAAAA,eAAA;AACA,OAAAC,eAAA;AACA,OAAAC,OAAA;AACA,OAAAC,KAAA;AACA,OAAAC,WAAA;AACA,OAAAC,SAAA;AACA,OAAAC,MAAA;AACA,OAAAC,oBAAA;AACA,OAAAC,MAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,YAAA,GAAAC,MAAA,EAAAC,MAAA;EACA;EACAC,KAAA;IACA;MAEA;MACAC,kBAAA;MACAC,qBAAA;MACAC,oBAAA;MACAC,SAAA;MAEA;MACAC,YAAA;IACA;EACA;EACAC,OAAA;IAEAC,OAAA;MAEA,SAAAF,YAAA;QACAZ,oBAAA,CAAAe,MAAA,MAAAX,YAAA,OAAAY,WAAA,MAAAJ,YAAA,GACAK,IAAA,CAAAC,QAAA;UACA,IAAAA,QAAA,CAAAX,IAAA,CAAAY,OAAA;YACA,KAAAV,qBAAA;UACA;QACA;MACA;IACA;IAEAW,iBAAA;MACApB,oBAAA,CAAAqB,MAAA,MAAAjB,YAAA,EACAa,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAX,IAAA,CAAAY,OAAA;UACA,KAAAG,iBAAA;UACArB,MAAA,CAAAsB,IAAA;YAAArB,IAAA;UAAA;QACA;MACA;IACA;IAEAc,YAAAQ,KAAA;MACA,IAAAA,KAAA;QACA,OAAAzB,MAAA,CAAAM,MAAA,CAAAmB,KAAA,GAAAC,MAAA;MACA;IACA;IAEAC,aAAAC,QAAA;MACA,OAAA5B,MAAA,CAAA4B,QAAA,yBAAAF,MAAA;IACA;IAEAH,kBAAA;MACA,KAAAZ,oBAAA,SAAAA,oBAAA;IACA;IAEAkB,qBAAA;MACA,SAAAC,WAAA;QACA,KAAAA,WAAA;MACA;MACA,SAAAC,YAAA;QACA,KAAAA,YAAA;MACA;MACA,SAAAC,cAAA;QACA,KAAAA,cAAA;MACA;MAEA,KAAAvB,kBAAA,SAAAA,kBAAA;IACA;EACA;EACAwB,UAAA;IAAAlC,SAAA;IAAAD,WAAA;IAAAD,KAAA;IAAAD,OAAA;IAAAD,eAAA;IAAAD;EAAA;AACA"}]}