{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, normalizeClass as _normalizeClass, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"relative max-w-xl top-24\"\n};\nconst _hoisted_2 = {\n  class: \"pt-4 z-10 mb-20 bg-white px-6\"\n};\nconst _hoisted_3 = {\n  class: \"w-full\"\n};\nconst _hoisted_4 = {\n  class: \"swiper-wrapper\"\n};\nconst _hoisted_5 = {\n  class: \"swiper-slide rounded-2xl h-full overflow-hidden\"\n};\nconst _hoisted_6 = {\n  class: \"w-full flex flex-row justify-center py-2 px-4 h-full object-cover top-0 items-center\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"swiper-pagination\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"w-full flex flex-row\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_nav_back = _resolveComponent(\"nav-back\");\n  const _component_page_header_three = _resolveComponent(\"page-header-three\");\n  const _component_dashboard_layout = _resolveComponent(\"dashboard-layout\");\n  const _directive_my_swiper = _resolveDirective(\"my-swiper\");\n  return _openBlock(), _createBlock(_component_dashboard_layout, {\n    \"has-fixed-header\": true,\n    \"has-custom-bottom-bar\": true\n  }, {\n    pageHeader: _withCtx(() => [_createVNode(_component_page_header_three, {\n      class: \"pb-4\"\n    }, {\n      leftAction: _withCtx(() => [_createVNode(_component_nav_back, {\n        class: \"w-2/7\",\n        \"stroke-color\": \"red-primary\"\n      })]),\n      \"mini-title\": _withCtx(() => [_createTextVNode(_toDisplayString($options.pageTitle), 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    content: _withCtx(() => [_createCommentVNode(\" SHOW MARKINGS \"), $data.isShowingMarkings ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_withDirectives((_openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.details.markingPicturePaths, (path, index) => {\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"img\", {\n        src: path,\n        crossorigin: \"anonymous\"\n      }, null, 8 /* PROPS */, _hoisted_7)])]);\n    }), 256 /* UNKEYED_FRAGMENT */))]), _hoisted_8, _createCommentVNode(\"            <div class=\\\"swiper-button-prev\\\" slot=\\\"button-prev\\\"></div>\"), _createCommentVNode(\"            <div class=\\\"swiper-button-next\\\" slot=\\\"button-next\\\"></div>\")])), [[_directive_my_swiper, $data.swiperOption]])])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" SHOW FEEDBACK \"), $data.isShowingFeedback ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 1,\n      class: _normalizeClass([\"relative px-8 md:mt-10 mb-28\", $data.details.feedback ? 'top-26 text-purple-primary text-left' : 'top-30 text-purple-secondary text-center'])\n    }, _toDisplayString($data.details.feedback || 'No feedback available.'), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true)]),\n    bottomBar: _withCtx(() => [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n      onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleMode && $options.toggleMode(...args)),\n      class: \"w-full md:max-w-xl md:mx-auto font-bold rounded-full text-purple-primary text-sm border-2 border-purple-primary bg-white py-3 px-1 flex flex-row justify-center\"\n    }, _toDisplayString($options.buttonText), 1 /* TEXT */)])]),\n\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","_createBlock","_component_dashboard_layout","pageHeader","_withCtx","_createVNode","_component_page_header_three","leftAction","_component_nav_back","$options","pageTitle","content","_createCommentVNode","$data","isShowingMarkings","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","details","markingPicturePaths","path","index","_hoisted_5","_hoisted_6","src","crossorigin","_hoisted_8","swiperOption","isShowingFeedback","_normalizeClass","feedback","bottomBar","_hoisted_9","onClick","_cache","args","toggleMode","buttonText"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/students/StudentAssignments/Marked/Index.vue"],"sourcesContent":["<template>\n\n  <dashboard-layout :has-fixed-header=\"true\" :has-custom-bottom-bar=\"true\">\n\n\n    <template v-slot:pageHeader>\n      <page-header-three class=\"pb-4\">\n        <template v-slot:leftAction>\n          <nav-back class=\"w-2/7\" stroke-color=\"red-primary\"/>\n        </template>\n\n        <template v-slot:mini-title>\n          {{ pageTitle }}\n        </template>\n\n      </page-header-three>\n    </template>\n\n    <!--  ASSIGNMENT ANSWERS-->\n    <template v-slot:content>\n\n      <!-- SHOW MARKINGS -->\n      <div v-if=\"isShowingMarkings\"\n           class=\"relative max-w-xl top-24\">\n        <div class=\"pt-4 z-10 mb-20 bg-white px-6 \">\n          <div class=\"w-full\">\n            <div v-my-swiper=\"swiperOption\">\n              <div class=\"swiper-wrapper\">\n                <div v-for=\"(path, index) in details.markingPicturePaths\"\n                     class=\" swiper-slide rounded-2xl h-full overflow-hidden\">\n                  <div class=\"w-full flex flex-row justify-center py-2 px-4 h-full object-cover top-0 items-center\">\n                    <img :src=\"path\" crossorigin=\"anonymous\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"swiper-pagination\"></div>\n              <!--            <div class=\"swiper-button-prev\" slot=\"button-prev\"></div>-->\n              <!--            <div class=\"swiper-button-next\" slot=\"button-next\"></div>-->\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- SHOW FEEDBACK -->\n      <div v-if=\"isShowingFeedback\"\n           class=\"relative px-8 md:mt-10 mb-28\"\n           :class=\"details.feedback ? 'top-26 text-purple-primary text-left' : 'top-30 text-purple-secondary text-center' \"\n      >\n        {{ details.feedback || 'No feedback available.' }}\n      </div>\n    </template>\n\n    <template v-slot:bottomBar>\n\n      <div class=\"w-full flex flex-row\">\n        <button @click=\"toggleMode\"\n                class=\"w-full md:max-w-xl md:mx-auto font-bold rounded-full text-purple-primary text-sm border-2 border-purple-primary bg-white py-3 px-1 flex flex-row justify-center\">\n          {{ buttonText }}\n        </button>\n      </div>\n\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport NavBack from \"@/components/NavBack\";\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport AnswerPreviewSwiper from \"@/views/teachers/TeacherAssignments/Mark/Components/AnswerPreviewSwiper\";\nimport MarksRepository from \"@/repositories/teachers/MarksRepository\";\nimport {directive} from \"vue-awesome-swiper\";\nimport router from \"@/router\";\nimport AuthenticationRepository from \"@/repositories/AuthenticationRepository\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"Index\",\n  directives: {\n    mySwiper: directive\n  },\n  props: {\n    assignmentID: [String, Number],\n    marksID: [String, Number]\n  },\n  data() {\n    return {\n\n      // states\n      isShowingMarkings: true,\n      isShowingFeedback: false,\n\n      details: {\n        markingPicturePaths: [],\n        feedback: null\n      },\n\n      swiperOption: {\n        initialSlide: 0,\n        direction: 'horizontal',\n        speed: 200,\n        slidesPerView: 1,\n        spaceBetween: 15,\n        freeMode: false,\n        loop: false,\n        pagination: {\n          el: '.swiper-pagination',\n          type: 'bullets',\n          clickable: true,\n        },\n        navigation: {\n          nextEl: '.swiper-button-next',\n          prevEl: '.swiper-button-prev'\n        },\n        autoplay: false\n      }\n    }\n  },\n  computed: {\n    pageTitle() {\n      if (this.isShowingMarkings) {\n        return 'Markings'\n      } else if (this.isShowingFeedback) {\n        return 'Feedback'\n      } else {\n        return ''\n      }\n    },\n    buttonText() {\n      if (this.isShowingMarkings) {\n        return 'View Feedback'\n      } else if (this.isShowingFeedback) {\n        return 'View Markings'\n      } else {\n        return ''\n      }\n    },\n  },\n  methods: {\n    fetchData() {\n      MarksRepository.find(this.marksID)\n          .then(response => {\n\n            if (response.data.success) {\n\n              let data = response.data.data;\n\n              let isUnanswered = data.marks_tag ? data.marks_tag === 'unanswered' : false;\n\n              if (isUnanswered) {\n                router.push({\n                  name: 'student.assignments.show', params: {\n                    assignmentID: data.assignment_id,\n                  }\n                })\n              } else {\n                this.details.markingPicturePaths = data.marking_picture_url.split(',');\n                this.details.feedback = data.marks_feedback;\n              }\n            }\n\n          })\n    },\n\n    toggleMode() {\n      this.isShowingFeedback = !this.isShowingFeedback;\n      this.isShowingMarkings = !this.isShowingMarkings;\n    }\n  },\n  created() {\n    this.fetchData()\n  },\n  components: {AnswerPreviewSwiper, IconBaseTwo, PageHeaderThree, NavBack, DashboardLayout}\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":";;;EAuBWA,KAAK,EAAC;;;EACJA,KAAK,EAAC;AAAgC;;EACpCA,KAAK,EAAC;AAAQ;;EAEVA,KAAK,EAAC;AAAgB;;EAEpBA,KAAK,EAAC;AAAkD;;EACtDA,KAAK,EAAC;AAAsF;;gCAKrGC,mBAAA,CAAqC;EAAhCD,KAAK,EAAC;AAAmB;;EAmBjCA,KAAK,EAAC;AAAsB;;;;;;uBApDrCE,YAAA,CA4DmBC,2BAAA;IA5DA,kBAAgB,EAAE,IAAI;IAAG,uBAAqB,EAAE;;IAGhDC,UAAU,EAAAC,QAAA,CACzB,MASoB,CATpBC,YAAA,CASoBC,4BAAA;MATDP,KAAK,EAAC;IAAM;MACZQ,UAAU,EAAAH,QAAA,CACzB,MAAoD,CAApDC,YAAA,CAAoDG,mBAAA;QAA1CT,KAAK,EAAC,OAAO;QAAC,cAAY,EAAC;;MAGtB,YAAU,EAAAK,QAAA,CACzB,MAAe,C,kCAAZK,QAAA,CAAAC,SAAS,iB;;;;;IAODC,OAAO,EAAAP,QAAA,CAEtB,MAAsB,CAAtBQ,mBAAA,mBAAsB,EACXC,KAAA,CAAAC,iBAAiB,I,cAA5BC,mBAAA,CAmBM,OAnBNC,UAmBM,GAjBJhB,mBAAA,CAgBM,OAhBNiB,UAgBM,GAfJjB,mBAAA,CAcM,OAdNkB,UAcM,G,+BAbJH,mBAAA,CAYM,cAXJf,mBAAA,CAOM,OAPNmB,UAOM,I,kBANJJ,mBAAA,CAKMK,SAAA,QAAAC,WAAA,CALuBR,KAAA,CAAAS,OAAO,CAACC,mBAAmB,GAA3CC,IAAI,EAAEC,KAAK;2BAAxBV,mBAAA,CAKM,OALNW,UAKM,GAHJ1B,mBAAA,CAEM,OAFN2B,UAEM,GADJ3B,mBAAA,CAAyC;QAAnC4B,GAAG,EAAEJ,IAAI;QAAEK,WAAW,EAAC;;wCAInCC,UAAqC,EACrClB,mBAAA,6EAA4E,EAC5EA,mBAAA,6EAA4E,C,4BAX5DC,KAAA,CAAAkB,YAAY,E,8CAiBpCnB,mBAAA,mBAAsB,EACXC,KAAA,CAAAmB,iBAAiB,I,cAA5BjB,mBAAA,CAKM;;MAJDhB,KAAK,EAAAkC,eAAA,EAAC,8BAA8B,EAC5BpB,KAAA,CAAAS,OAAO,CAACY,QAAQ;wBAExBrB,KAAA,CAAAS,OAAO,CAACY,QAAQ,uD;IAINC,SAAS,EAAA/B,QAAA,CAExB,MAKM,CALNJ,mBAAA,CAKM,OALNoC,UAKM,GAJJpC,mBAAA,CAGS;MAHAqC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAE9B,QAAA,CAAA+B,UAAA,IAAA/B,QAAA,CAAA+B,UAAA,IAAAD,IAAA,CAAU;MAClBxC,KAAK,EAAC;wBACTU,QAAA,CAAAgC,UAAU,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}