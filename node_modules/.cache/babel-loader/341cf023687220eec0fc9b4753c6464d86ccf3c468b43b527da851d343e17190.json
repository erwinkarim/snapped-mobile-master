{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"text-purple-primary truncate font-bold flex flex-row justify-between text-left text-sm bg-gray-secondary py-2 px-5\"\n};\nconst _hoisted_2 = {\n  class: \"w-3/5 truncate\"\n};\nconst _hoisted_3 = {\n  class: \"w-2/5 text-right\"\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = {\n  class: \"w-5/6 ml-5 text-purple-primary truncate pr-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_profile_photo = _resolveComponent(\"profile-photo\");\n  const _component_icon_base = _resolveComponent(\"icon-base\");\n  const _directive_scroll = _resolveDirective(\"scroll\");\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"mb-20\", $options.containerClass])\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.filteredSubjects, subject => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: subject.subject_title\n    }, [_createCommentVNode(\" Subject Title + Period \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, _toDisplayString(subject.subject_title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_3, _toDisplayString(subject.period), 1 /* TEXT */)]), _createCommentVNode(\" Student List for Subject \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(subject.students, student => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: student.id,\n        onClick: $event => $options.goToStudentShow(student.id),\n        class: \"text-left px-5 py-4 flex flex-row w-full border-b-1 items-center bg-white\"\n      }, [_createVNode(_component_icon_base, {\n        class: \"w-1/8\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_profile_photo, {\n          gender: student.gender\n        }, null, 8 /* PROPS */, [\"gender\"])], undefined, true),\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"div\", _hoisted_5, _toDisplayString(student.name), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_4);\n    }), 128 /* KEYED_FRAGMENT */))]);\n  }), 128 /* KEYED_FRAGMENT */))], 2 /* CLASS */)), [[_directive_scroll, $options.handleScroll]]);\n}","map":{"version":3,"names":["class","_createElementBlock","_normalizeClass","$options","containerClass","_Fragment","_renderList","$data","filteredSubjects","subject","key","subject_title","_createCommentVNode","_createElementVNode","_hoisted_1","_hoisted_2","_toDisplayString","_hoisted_3","period","students","student","id","onClick","$event","goToStudentShow","_createVNode","_component_icon_base","_component_profile_photo","gender","_hoisted_5","name","handleScroll"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherClasses/SubjectsList.vue"],"sourcesContent":["<template>\n\n  <div class=\"mb-20\" :class=\"containerClass\" v-scroll=\"handleScroll\">\n    <div v-for=\"subject in filteredSubjects\"\n         :key=\"subject.subject_title\"\n    >\n\n      <!-- Subject Title + Period -->\n      <div\n          class=\"text-purple-primary truncate font-bold flex flex-row justify-between text-left text-sm bg-gray-secondary py-2 px-5\">\n        <div class=\"w-3/5 truncate\">\n          {{ subject.subject_title }}\n        </div>\n        <div class=\"w-2/5 text-right\">\n          {{ subject.period }}\n        </div>\n      </div>\n\n      <!-- Student List for Subject -->\n      <div v-for=\"student in subject.students\"\n           :key=\"student.id\"\n           @click=\"goToStudentShow(student.id)\"\n           class=\"text-left px-5 py-4 flex flex-row w-full border-b-1 items-center bg-white\"\n      >\n        <icon-base class=\" w-1/8\">\n          <profile-photo :gender=\"student.gender\"/>\n        </icon-base>\n        <div class=\"w-5/6 ml-5 text-purple-primary truncate pr-4\">\n          {{ student.name }}\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport TeacherRepository from \"@/repositories/TeacherRepository\";\nimport IconBase from \"@/components/IconBase\";\nimport {Swiper, SwiperSlide, directive} from 'vue-awesome-swiper'\nimport ProfilePhoto from \"@/components/icons/ProfilePhoto\";\nimport '@/directives/scroll'\nimport router from \"@/router\";\n\nexport default {\n  name: \"SubjectsList\",\n  components: {ProfilePhoto, IconBase},\n  props: {\n    search: String\n  },\n  data() {\n    return {\n\n      // States\n      loading: false,\n      error: null,\n      isScrolledDownTwo: false,\n      isScrolledUp: false,\n      scrollLocation: 0,\n      setStickySearchBar: false,\n\n      // Data\n      subjects: null,\n      filteredSubjects: null\n\n    }\n  },\n  created() {\n    this.fetchData()\n  },\n  watch: {\n    '$route': 'fetchData',\n    'search': 'searchName'\n  },\n  computed: {\n    containerClass: function () {\n      if (this.setStickySearchBar) {\n        return 'mt-20'\n      }\n      if (this.isScrolledUp) {\n        return 'mt-0'\n      }\n    }\n  },\n  methods: {\n\n    fetchData() {\n      this.error = this.subjects = null\n      this.loading = true\n\n      const classID = this.$route.params.classID\n\n      TeacherRepository.getSubjectsWithStudentsForTeacherClass({classID: classID, search: null})\n          .then(response => {\n\n            this.subjects = response.data.data;\n            this.filteredSubjects = response.data.data;\n\n          })\n          .catch(err => {\n\n          })\n    },\n    searchName() {\n\n      // Copy original results into filterSubjects\n      this.filteredSubjects = JSON.parse(JSON.stringify(this.subjects));\n\n      this.filteredSubjects = this.filteredSubjects.map((subject) => {\n        return {\n          period: subject.period,\n          students: subject.students.filter(student => {\n            return (student.name.toLowerCase()).includes(this.search.toLowerCase())\n          }),\n          subject_title: subject.subject_title\n        }\n      })\n    },\n\n    goToStudentShow(studentID) {\n      router.push({name: 'student.profile.show', params: {studentID: studentID}})\n    },\n    handleScroll: function (evt, el) {\n\n      if (window.scrollY > 60 && window.scrollY > this.scrollLocation) {\n        let status = window.scrollY > 60\n        this.isScrolledDownTwo = status\n        this.isScrolledUp = !status\n      }\n\n      if (window.scrollY < 60 && window.scrollY < this.scrollLocation) {\n        let status = window.scrollY < 60\n        this.isScrolledUp = status\n        this.isScrolledDownTwo = !status\n      }\n\n      this.setStickySearchBar = window.scrollY > 60\n      this.scrollLocation = window.scrollY\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":";;EASUA,KAAK,EAAC;AAAoH;;EACvHA,KAAK,EAAC;AAAgB;;EAGtBA,KAAK,EAAC;AAAkB;;;EAcxBA,KAAK,EAAC;AAA8C;;;;;wCAzB/DC,mBAAA,CA8BM;IA9BDD,KAAK,EAAAE,eAAA,EAAC,OAAO,EAASC,QAAA,CAAAC,cAAc;yBACvCH,mBAAA,CA4BMI,SAAA,QAAAC,WAAA,CA5BiBC,KAAA,CAAAC,gBAAgB,EAA3BC,OAAO;yBAAnBR,mBAAA,CA4BM;MA3BAS,GAAG,EAAED,OAAO,CAACE;QAGjBC,mBAAA,4BAA+B,EAC/BC,mBAAA,CAQM,OARNC,UAQM,GANJD,mBAAA,CAEM,OAFNE,UAEM,EAAAC,gBAAA,CADDP,OAAO,CAACE,aAAa,kBAE1BE,mBAAA,CAEM,OAFNI,UAEM,EAAAD,gBAAA,CADDP,OAAO,CAACS,MAAM,iB,GAIrBN,mBAAA,8BAAiC,G,kBACjCX,mBAAA,CAWMI,SAAA,QAAAC,WAAA,CAXiBG,OAAO,CAACU,QAAQ,EAA3BC,OAAO;2BAAnBnB,mBAAA,CAWM;QAVAS,GAAG,EAAEU,OAAO,CAACC,EAAE;QACfC,OAAK,EAAAC,MAAA,IAAEpB,QAAA,CAAAqB,eAAe,CAACJ,OAAO,CAACC,EAAE;QAClCrB,KAAK,EAAC;UAETyB,YAAA,CAEYC,oBAAA;QAFD1B,KAAK,EAAC;MAAQ;0BACvB,MAAyC,CAAzCyB,YAAA,CAAyCE,wBAAA;UAAzBC,MAAM,EAAER,OAAO,CAACQ;;;oCAElCf,mBAAA,CAEM,OAFNgB,UAEM,EAAAb,gBAAA,CADDI,OAAO,CAACU,IAAI,iB;;yEA1B8B3B,QAAA,CAAA4B,YAAY,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}