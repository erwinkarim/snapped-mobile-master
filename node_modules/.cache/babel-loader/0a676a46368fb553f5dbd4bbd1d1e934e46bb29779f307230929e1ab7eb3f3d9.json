{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport NavBack from \"@/components/NavBack\";\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport AnswerPreviewSwiper from \"@/views/teachers/TeacherAssignments/Mark/Components/AnswerPreviewSwiper\";\nimport MarksRepository from \"@/repositories/teachers/MarksRepository\";\nimport { directive } from \"vue-awesome-swiper\";\nimport router from \"@/router\";\nimport AuthenticationRepository from \"@/repositories/AuthenticationRepository\";\nimport axios from \"axios\";\nexport default {\n  name: \"Index\",\n  directives: {\n    mySwiper: directive\n  },\n  props: {\n    assignmentID: [String, Number],\n    marksID: [String, Number]\n  },\n  data() {\n    return {\n      // states\n      isShowingMarkings: true,\n      isShowingFeedback: false,\n      details: {\n        markingPicturePaths: [],\n        feedback: null\n      },\n      swiperOption: {\n        initialSlide: 0,\n        direction: 'horizontal',\n        speed: 200,\n        slidesPerView: 1,\n        spaceBetween: 15,\n        freeMode: false,\n        loop: false,\n        pagination: {\n          el: '.swiper-pagination',\n          type: 'bullets',\n          clickable: true\n        },\n        navigation: {\n          nextEl: '.swiper-button-next',\n          prevEl: '.swiper-button-prev'\n        },\n        autoplay: false\n      }\n    };\n  },\n  computed: {\n    pageTitle() {\n      if (this.isShowingMarkings) {\n        return 'Markings';\n      } else if (this.isShowingFeedback) {\n        return 'Feedback';\n      } else {\n        return '';\n      }\n    },\n    buttonText() {\n      if (this.isShowingMarkings) {\n        return 'View Feedback';\n      } else if (this.isShowingFeedback) {\n        return 'View Markings';\n      } else {\n        return '';\n      }\n    }\n  },\n  methods: {\n    fetchData() {\n      MarksRepository.find(this.marksID).then(response => {\n        if (response.data.success) {\n          let data = response.data.data;\n          let isUnanswered = data.marks_tag ? data.marks_tag === 'unanswered' : false;\n          if (isUnanswered) {\n            router.push({\n              name: 'student.assignments.show',\n              params: {\n                assignmentID: data.assignment_id\n              }\n            });\n          } else {\n            this.details.markingPicturePaths = data.marking_picture_url.split(',');\n            this.details.feedback = data.marks_feedback;\n          }\n        }\n      });\n    },\n    toggleMode() {\n      this.isShowingFeedback = !this.isShowingFeedback;\n      this.isShowingMarkings = !this.isShowingMarkings;\n    }\n  },\n  created() {\n    this.fetchData();\n  },\n  components: {\n    AnswerPreviewSwiper,\n    IconBaseTwo,\n    PageHeaderThree,\n    NavBack,\n    DashboardLayout\n  }\n};","map":{"version":3,"names":["DashboardLayout","NavBack","PageHeaderThree","IconBaseTwo","AnswerPreviewSwiper","MarksRepository","directive","router","AuthenticationRepository","axios","name","directives","mySwiper","props","assignmentID","String","Number","marksID","data","isShowingMarkings","isShowingFeedback","details","markingPicturePaths","feedback","swiperOption","initialSlide","direction","speed","slidesPerView","spaceBetween","freeMode","loop","pagination","el","type","clickable","navigation","nextEl","prevEl","autoplay","computed","pageTitle","buttonText","methods","fetchData","find","then","response","success","isUnanswered","marks_tag","push","params","assignment_id","marking_picture_url","split","marks_feedback","toggleMode","created","components"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/students/StudentAssignments/Marked/Index.vue"],"sourcesContent":["<template>\n\n  <dashboard-layout :has-fixed-header=\"true\" :has-custom-bottom-bar=\"true\">\n\n\n    <template v-slot:pageHeader>\n      <page-header-three class=\"pb-4\">\n        <template v-slot:leftAction>\n          <nav-back class=\"w-2/7\" stroke-color=\"red-primary\"/>\n        </template>\n\n        <template v-slot:mini-title>\n          {{ pageTitle }}\n        </template>\n\n      </page-header-three>\n    </template>\n\n    <!--  ASSIGNMENT ANSWERS-->\n    <template v-slot:content>\n\n      <!-- SHOW MARKINGS -->\n      <div v-if=\"isShowingMarkings\"\n           class=\"relative max-w-xl top-24\">\n        <div class=\"pt-4 z-10 mb-20 bg-white px-6 \">\n          <div class=\"w-full\">\n            <div v-my-swiper=\"swiperOption\">\n              <div class=\"swiper-wrapper\">\n                <div v-for=\"(path, index) in details.markingPicturePaths\"\n                     class=\" swiper-slide rounded-2xl h-full overflow-hidden\">\n                  <div class=\"w-full flex flex-row justify-center py-2 px-4 h-full object-cover top-0 items-center\">\n                    <img :src=\"path\" crossorigin=\"anonymous\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"swiper-pagination\"></div>\n              <!--            <div class=\"swiper-button-prev\" slot=\"button-prev\"></div>-->\n              <!--            <div class=\"swiper-button-next\" slot=\"button-next\"></div>-->\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- SHOW FEEDBACK -->\n      <div v-if=\"isShowingFeedback\"\n           class=\"relative px-8 md:mt-10 mb-28\"\n           :class=\"details.feedback ? 'top-26 text-purple-primary text-left' : 'top-30 text-purple-secondary text-center' \"\n      >\n        {{ details.feedback || 'No feedback available.' }}\n      </div>\n    </template>\n\n    <template v-slot:bottomBar>\n\n      <div class=\"w-full flex flex-row\">\n        <button @click=\"toggleMode\"\n                class=\"w-full md:max-w-xl md:mx-auto font-bold rounded-full text-purple-primary text-sm border-2 border-purple-primary bg-white py-3 px-1 flex flex-row justify-center\">\n          {{ buttonText }}\n        </button>\n      </div>\n\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport NavBack from \"@/components/NavBack\";\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport AnswerPreviewSwiper from \"@/views/teachers/TeacherAssignments/Mark/Components/AnswerPreviewSwiper\";\nimport MarksRepository from \"@/repositories/teachers/MarksRepository\";\nimport {directive} from \"vue-awesome-swiper\";\nimport router from \"@/router\";\nimport AuthenticationRepository from \"@/repositories/AuthenticationRepository\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"Index\",\n  directives: {\n    mySwiper: directive\n  },\n  props: {\n    assignmentID: [String, Number],\n    marksID: [String, Number]\n  },\n  data() {\n    return {\n\n      // states\n      isShowingMarkings: true,\n      isShowingFeedback: false,\n\n      details: {\n        markingPicturePaths: [],\n        feedback: null\n      },\n\n      swiperOption: {\n        initialSlide: 0,\n        direction: 'horizontal',\n        speed: 200,\n        slidesPerView: 1,\n        spaceBetween: 15,\n        freeMode: false,\n        loop: false,\n        pagination: {\n          el: '.swiper-pagination',\n          type: 'bullets',\n          clickable: true,\n        },\n        navigation: {\n          nextEl: '.swiper-button-next',\n          prevEl: '.swiper-button-prev'\n        },\n        autoplay: false\n      }\n    }\n  },\n  computed: {\n    pageTitle() {\n      if (this.isShowingMarkings) {\n        return 'Markings'\n      } else if (this.isShowingFeedback) {\n        return 'Feedback'\n      } else {\n        return ''\n      }\n    },\n    buttonText() {\n      if (this.isShowingMarkings) {\n        return 'View Feedback'\n      } else if (this.isShowingFeedback) {\n        return 'View Markings'\n      } else {\n        return ''\n      }\n    },\n  },\n  methods: {\n    fetchData() {\n      MarksRepository.find(this.marksID)\n          .then(response => {\n\n            if (response.data.success) {\n\n              let data = response.data.data;\n\n              let isUnanswered = data.marks_tag ? data.marks_tag === 'unanswered' : false;\n\n              if (isUnanswered) {\n                router.push({\n                  name: 'student.assignments.show', params: {\n                    assignmentID: data.assignment_id,\n                  }\n                })\n              } else {\n                this.details.markingPicturePaths = data.marking_picture_url.split(',');\n                this.details.feedback = data.marks_feedback;\n              }\n            }\n\n          })\n    },\n\n    toggleMode() {\n      this.isShowingFeedback = !this.isShowingFeedback;\n      this.isShowingMarkings = !this.isShowingMarkings;\n    }\n  },\n  created() {\n    this.fetchData()\n  },\n  components: {AnswerPreviewSwiper, IconBaseTwo, PageHeaderThree, NavBack, DashboardLayout}\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}