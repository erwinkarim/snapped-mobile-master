{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_date_picker = _resolveComponent(\"v-date-picker\");\n  return _openBlock(), _createBlock(_component_v_date_picker, {\n    \"is-expanded\": \"\",\n    \"title-position\": \"left\",\n    modelValue: $data.date,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.date = $event),\n    attributes: $options.attributes,\n    \"select-attribute\": $data.selectAttribute,\n    onDayclick: $options.onDayClick\n  }, null, 8 /* PROPS */, [\"modelValue\", \"attributes\", \"select-attribute\", \"onDayclick\"]);\n}","map":{"version":3,"names":["_createBlock","_component_v_date_picker","$data","date","$event","attributes","$options","selectAttribute","onDayclick","onDayClick"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/components/AssignmentCalendar.vue"],"sourcesContent":["<template>\n  <v-date-picker is-expanded\n                 title-position=\"left\"\n                 v-model=\"date\"\n                 :attributes=\"attributes\"\n                 :select-attribute=\"selectAttribute\"\n                 @dayclick=\"onDayClick\"\n  />\n</template>\n\n<script>\n\n\nimport Vue from 'vue';\nimport VCalendar from 'v-calendar';\nimport moment from 'moment';\nimport AssignmentRepository from \"../repositories/AssignmentRepository\";\n\nVue.use(VCalendar);\n\nexport default {\n  name: \"AssignmentCalendar\",\n  data() {\n    return {\n      days: [],\n      selectedDay: [],\n      date: new Date(),\n      duedates: [],\n\n      selectAttribute: {\n        highlight: 'yellow'\n        // Don't need the date here\n      },\n    };\n  },\n  watch: {\n    'selectedDay' : 'emitSelectedDate',\n  },\n  computed: {\n    dates() {\n      return this.days.map(day => day.date);\n    },\n\n    todayDate() {\n      return {\n        id: moment().format(\"YYYY-MM-DD\"),\n        date: moment().toDate()\n      }\n    },\n    attributes() {\n      return this.dates.map(date => ({\n        highlight: (this.todayDate.date === date) ? 'indigo':'red',\n        dates: date,\n      }));\n    }\n  },\n  methods: {\n    onDayClick(day) {\n      const idx = this.selectedDay.findIndex(d => d.id === day.id);\n      if (idx >= 0) {\n        this.selectedDay.splice(idx, 1);\n      } else {\n        this.selectedDay = [{\n          id: day.id,\n          date: day.date,\n        }]\n      }\n    },\n\n    emitSelectedDate () {\n      if (this.selectedDay.length > 0) {\n        this.$emit('selectedDate', this.selectedDay[0]['date'])\n      }\n    },\n\n    getDuedates () {\n      AssignmentRepository.getDueDates()\n              .then(response => {\n\n                const data = response.data.data\n\n                for (let i = 0; i < data.length; i++) {\n\n                  let item = data[i];\n\n                  let itemDetail = {\n                    id: item.due_datetime,\n                    date: moment(String(item.due_datetime)).toDate()\n\n                  }\n                  this.days.push(itemDetail)\n                }\n        })\n    }\n\n  },\n  mounted() {\n    // Set initial date\n    this.days.push(this.todayDate)\n    this.selectedDay.push(this.todayDate)\n\n    // Get due dates\n    this.getDuedates()\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"],"mappings":";;;uBACEA,YAAA,CAMEC,wBAAA;IANa,aAAW,EAAX,EAAW;IACX,gBAAc,EAAC,MAAM;gBACZC,KAAA,CAAAC,IAAI;+DAAJD,KAAA,CAAAC,IAAI,GAAAC,MAAA;IACZC,UAAU,EAAEC,QAAA,CAAAD,UAAU;IACtB,kBAAgB,EAAEH,KAAA,CAAAK,eAAe;IACjCC,UAAQ,EAAEF,QAAA,CAAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}