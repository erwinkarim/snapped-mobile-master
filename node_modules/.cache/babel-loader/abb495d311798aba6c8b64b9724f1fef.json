{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/thread-loader/dist/cjs.js!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherAssignments/Export/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherAssignments/Export/Index.vue","mtime":1679379067247},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/babel.config.js","mtime":1679379067182},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/thread-loader/dist/cjs.js","mtime":1680070298752},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IERhc2hib2FyZExheW91dCBmcm9tICJAL3ZpZXdzL2xheW91dC9EYXNoYm9hcmRMYXlvdXQiOwppbXBvcnQgUGFnZUhlYWRlclRocmVlIGZyb20gIkAvY29tcG9uZW50cy9QYWdlSGVhZGVyVGhyZWUiOwppbXBvcnQgTmF2QmFjayBmcm9tICJAL2NvbXBvbmVudHMvTmF2QmFjayI7CmltcG9ydCBNb2RhbCBmcm9tICJAL2NvbXBvbmVudHMvTW9kYWwiOwppbXBvcnQgR29vZ2xlQ2xhc3Nyb29tUmVwb3NpdG9yeSBmcm9tICJAL3JlcG9zaXRvcmllcy9Hb29nbGVDbGFzc3Jvb21SZXBvc2l0b3J5IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJJbmRleCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIHN0YXRlcwogICAgICBpc0xvYWRpbmc6IHRydWUsCiAgICAgIGlzRXhwb3J0aW5nOiBmYWxzZSwKICAgICAgaXNTdWNjZXNzZnVsOiBmYWxzZSwKICAgICAgaGFzRXJyb3I6IGZhbHNlLAogICAgICBzZWxlY3RlZEZvbGRlcjogbnVsbCwKICAgICAgZm9sZGVyczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNHb29nbGVDbGFzc3Jvb21JbnRlZ3JhdGVkKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRHb29nbGVJbnRlZ3JhdGVkOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hGb2xkZXJzKCkgewogICAgICBHb29nbGVDbGFzc3Jvb21SZXBvc2l0b3J5LmZldGNoRm9sZGVycygpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmZvbGRlcnMgPSByZXNwb25zZS5kYXRhLmRhdGEuZm9sZGVyczsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHN1Ym1pdCgpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRGb2xkZXIpIHsKICAgICAgICBsZXQgcGF5bG9hZCA9IHsKICAgICAgICAgIGZvbGRlcklEOiB0aGlzLnNlbGVjdGVkRm9sZGVyLmlkLAogICAgICAgICAgYXNzaWdubWVudElEOiB0aGlzLiRhdHRycy5hc3NpZ25tZW50SUQKICAgICAgICB9OwoKICAgICAgICAvLyBTZXQgc3RhdGUgdG8gaXNFeHBvcnRpbmcKICAgICAgICB0aGlzLmlzRXhwb3J0aW5nID0gdHJ1ZTsKICAgICAgICBHb29nbGVDbGFzc3Jvb21SZXBvc2l0b3J5LmV4cG9ydChwYXlsb2FkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgdGhpcy5pc0V4cG9ydGluZyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmlzU3VjY2Vzc2Z1bCA9IHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygnT29wcyEgSXQgc2VlbXMgdGhhdCB0aGVyZSBpcyBzb21ldGhpbmcgd3Jvbmcgd2l0aCB0aGlzIGV4cG9ydCBtb2R1bGUuJyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoRm9sZGVycygpOwogIH0sCiAgY29tcG9uZW50czogewogICAgTmF2QmFjaywKICAgIFBhZ2VIZWFkZXJUaHJlZSwKICAgIERhc2hib2FyZExheW91dCwKICAgIE1vZGFsCiAgfQp9Ow=="},{"version":3,"names":["DashboardLayout","PageHeaderThree","NavBack","Modal","GoogleClassroomRepository","name","data","isLoading","isExporting","isSuccessful","hasError","selectedFolder","folders","computed","isGoogleClassroomIntegrated","$store","getters","getGoogleIntegrated","methods","fetchFolders","then","response","success","submit","payload","folderID","id","assignmentID","$attrs","export","catch","error","console","log","created","components"],"sources":["src/views/teachers/TeacherAssignments/Export/Index.vue"],"sourcesContent":["<template>\n  <dashboard-layout :has-custom-bottom-bar=\"isGoogleClassroomIntegrated\" :no-bottom-bar=\"!isGoogleClassroomIntegrated\">\n\n    <!--  HEADER -->\n    <template v-slot:pageHeader>\n      <page-header-three class=\"px-2\" :has-scroll-animation=\"true\">\n        <template v-slot:leftAction>\n          <nav-back class=\"w-2/7\" stroke-color=\"red-primary\"/>\n        </template>\n        <template v-slot:mini-title>\n          Export Assignment\n        </template>\n        <template v-slot:title>\n          Export Assignment\n        </template>\n      </page-header-three>\n    </template>\n\n    <template v-slot:content v-if=\"isGoogleClassroomIntegrated\">\n\n      <!--  MODAL: EXPORTING   -->\n      <div v-if=\"isExporting\" @click.self=\"\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal class=\"w-4/5 \">\n          <h3 slot=\"title\" class=\"text-purple-primary font-bold text-4xl\">Exporting...</h3>\n          <p slot=\"message\">\n            Exporting assignment details\n          </p>\n        </modal>\n      </div>\n\n      <!--  MODAL: SUCCESS   -->\n      <div v-if=\"isSuccessful\" @click.self=\"\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal :redirect-route=\"{name: 'teacher.assignments.show'}\"\n               modal-type=\"success\"\n               class=\"w-4/5 \"\n        >\n          <h3 slot=\"title\" class=\"text-purple-primary font-bold text-4xl\">Published!</h3>\n          <p slot=\"message\">\n            Assignment exported!\n          </p>\n          <template slot=\"button\">\n            <button class=\"font-bold w-4/5 rounded-full px-2 font-bold leading-relaxed tracking-wider\">\n              Okay\n            </button>\n          </template>\n        </modal>\n      </div>\n\n      <!--  MODAL: SUCCESS   -->\n      <div v-if=\"hasError\" @click.self=\"\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal modal-type=\"error\"\n               class=\"w-4/5 \"\n        >\n          <h3 slot=\"title\" class=\"text-purple-primary font-bold text-4xl\">Oops!</h3>\n          <p slot=\"message\">\n            Seems like something went wrong.\n          </p>\n          <template slot=\"button\">\n            <button class=\"font-bold w-4/5 rounded-full px-2 font-bold leading-relaxed tracking-wider\">\n              Try again?\n            </button>\n          </template>\n        </modal>\n      </div>\n\n\n      <!-- INPUTS     -->\n      <div class=\"w-full px-7 mt-3 pb-3\">\n\n        <multiselect v-model=\"selectedFolder\"\n                     :options=\"folders\"\n                     :show-labels=\"false\"\n                     track-by=\"id\"\n                     label=\"title\"\n                     :placeholder=\"!isLoading ? 'Google Classroom Folder' : 'Loading...'\"\n                     class=\"mt-2 w-full text-lg font-normal leading-tight text-left rounded-md border border-none appearance-none bg-gray-secondary text-purple-secondary focus:outline-none focus:shadow-outline placeholder-purple-secondary\"\n        >\n\n          <!--            <option disabled value=\"\">Class</option>-->\n          <!--            <option v-for=\"classroom in classrooms\" :value=\"classroom.id\">{{ classroom.name }}</option>-->\n        </multiselect>\n      </div>\n\n    </template>\n\n    <template v-slot:content v-else>\n\n      <!-- INPUTS     -->\n      <div class=\"w-full px-7 mt-3 flex flex-col items-center pb-3 pt-20\">\n        <div class=\"text-xs\">\n          It seems that you are not connected to your Google account.\n        </div>\n        <router-link :to=\"{name: 'teacher.settings'}\"\n                     class=\"bg-purple-primary mt-4 py-2 text-xs rounded-lg px-5 text-white\"\n        >\n          CONNECT NOW\n        </router-link>\n      </div>\n\n    </template>\n\n    <template v-slot:bottomBar v-if=\"isGoogleClassroomIntegrated\">\n      <!--      <button @click=\"toggleDeleteModal\"-->\n      <!--              class=\"w-full font-bold rounded-full text-white text-sm bg-red-primary border-2 border-red-primary py-3 px-1 flex flex-row justify-center mr-2\">-->\n      <!--        Delete-->\n      <!--      </button>-->\n      <button @click=\"submit\"\n              class=\"w-full font-bold focus:outline-none rounded-full text-purple-primary text-sm bg-white border-2 border-purple-primary py-3 px-1 flex flex-row justify-center\">\n        Export\n      </button>\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport NavBack from \"@/components/NavBack\";\nimport Modal from \"@/components/Modal\";\nimport GoogleClassroomRepository from \"@/repositories/GoogleClassroomRepository\";\n\nexport default {\n  name: \"Index\",\n  data() {\n    return {\n\n      // states\n      isLoading: true,\n      isExporting: false,\n      isSuccessful: false,\n\n      hasError: false,\n\n      selectedFolder: null,\n      folders: []\n    }\n  },\n  computed: {\n    isGoogleClassroomIntegrated() {\n      return this.$store.getters.getGoogleIntegrated;\n    }\n  },\n  methods: {\n    fetchFolders() {\n\n      GoogleClassroomRepository.fetchFolders()\n          .then(response => {\n            if (response.data.success) {\n              this.isLoading = false;\n              this.folders = response.data.data.folders;\n            }\n          })\n    },\n    submit() {\n      if (this.selectedFolder) {\n\n        let payload = {\n          folderID: this.selectedFolder.id,\n          assignmentID: this.$attrs.assignmentID\n        }\n\n        // Set state to isExporting\n        this.isExporting = true;\n\n        GoogleClassroomRepository.export(payload)\n            .then(response => {\n              if (response.data.success) {\n                this.isExporting = false;\n                this.isSuccessful = true;\n              } else {\n                this.hasError = true;\n              }\n            })\n            .catch(error => {\n              console.log('Oops! It seems that there is something wrong with this export module.')\n            })\n      }\n\n    }\n  },\n  created() {\n    this.fetchFolders()\n  },\n  components: {NavBack, PageHeaderThree, DashboardLayout, Modal}\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":"AAsHA,OAAAA,eAAA;AACA,OAAAC,eAAA;AACA,OAAAC,OAAA;AACA,OAAAC,KAAA;AACA,OAAAC,yBAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MAEA;MACAC,SAAA;MACAC,WAAA;MACAC,YAAA;MAEAC,QAAA;MAEAC,cAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACAC,4BAAA;MACA,YAAAC,MAAA,CAAAC,OAAA,CAAAC,mBAAA;IACA;EACA;EACAC,OAAA;IACAC,aAAA;MAEAf,yBAAA,CAAAe,YAAA,GACAC,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAf,IAAA,CAAAgB,OAAA;UACA,KAAAf,SAAA;UACA,KAAAK,OAAA,GAAAS,QAAA,CAAAf,IAAA,CAAAA,IAAA,CAAAM,OAAA;QACA;MACA;IACA;IACAW,OAAA;MACA,SAAAZ,cAAA;QAEA,IAAAa,OAAA;UACAC,QAAA,OAAAd,cAAA,CAAAe,EAAA;UACAC,YAAA,OAAAC,MAAA,CAAAD;QACA;;QAEA;QACA,KAAAnB,WAAA;QAEAJ,yBAAA,CAAAyB,MAAA,CAAAL,OAAA,EACAJ,IAAA,CAAAC,QAAA;UACA,IAAAA,QAAA,CAAAf,IAAA,CAAAgB,OAAA;YACA,KAAAd,WAAA;YACA,KAAAC,YAAA;UACA;YACA,KAAAC,QAAA;UACA;QACA,GACAoB,KAAA,CAAAC,KAAA;UACAC,OAAA,CAAAC,GAAA;QACA;MACA;IAEA;EACA;EACAC,QAAA;IACA,KAAAf,YAAA;EACA;EACAgB,UAAA;IAAAjC,OAAA;IAAAD,eAAA;IAAAD,eAAA;IAAAG;EAAA;AACA"}]}