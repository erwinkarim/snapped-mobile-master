{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, withCtx as _withCtx, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"w-full px-7 mt-3\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-row items-center justify-between mb-3\"\n};\nconst _hoisted_3 = {\n  class: \"w-1/12\"\n};\nconst _hoisted_4 = {\n  class: \"w-5/6 ml-5 text-purple-primary truncate pr-4\"\n};\nconst _hoisted_5 = {\n  class: \"w-full px-7 mt-3\"\n};\nconst _hoisted_6 = {\n  class: \"w-1/12 text-center\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"w-7/12 ml-5 text-purple-primary text-left truncate pr-4\"\n}, \" Google Classroom \", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"w-full px-7 mt-3\"\n};\nconst _hoisted_9 = {\n  class: \"w-1/12\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"w-5/6 ml-5 text-red-primary truncate pr-4\"\n}, \" Log out \", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_page_title = _resolveComponent(\"page-title\");\n  const _component_section_title = _resolveComponent(\"section-title\");\n  const _component_icon_base = _resolveComponent(\"icon-base\");\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  const _component_logout_icon = _resolveComponent(\"logout-icon\");\n  const _component_dashboard_layout = _resolveComponent(\"dashboard-layout\");\n  return _openBlock(), _createBlock(_component_dashboard_layout, null, {\n    pageHeader: _withCtx(() => [_createVNode(_component_page_title, {\n      title: \"Settings\",\n      class: \"w-3/4\"\n    })]),\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_section_title, {\n      class: \"text-left mt-4\",\n      title: \"Profile\"\n    }), _createCommentVNode(\"  ROUTE LINK: USER EDIT PROFILE  \"), _createCommentVNode(\"          <router-link :to=\\\"{name: 'auth.profile.edit'}\\\">\"), _createCommentVNode(\"            <font-awesome-icon\"), _createCommentVNode(\"                :icon=\\\"faIcons.edit\\\"\"), _createCommentVNode(\"                class=\\\"w-full fa-1x text-purple-primary\\\"\"), _createCommentVNode(\"            />\"), _createCommentVNode(\"          </router-link>\")]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.details, detail => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: detail.value,\n        class: \"w-full text-left py-3 flex flex-row w-full border-b-1 items-center bg-white\"\n      }, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_icon_base, {\n        class: \"w-full\"\n      }, {\n        default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(detail.icon)))], undefined, true),\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */)]), _createElementVNode(\"div\", _hoisted_4, _toDisplayString(detail.value), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" INTEGRATIONS \"), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_section_title, {\n      class: \"text-left my-4\",\n      title: \"Integrations\"\n    }), _createCommentVNode(\" GOOGLE CLASSROOM \"), _createElementVNode(\"div\", {\n      onClick: _cache[0] || (_cache[0] = (...args) => $options.handleGoogleClassroomIntegration && $options.handleGoogleClassroomIntegration(...args)),\n      class: \"w-full py-3 flex flex-row w-full border-b-1 items-center bg-white\"\n    }, [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_font_awesome_icon, {\n      class: \"w-full fa-1x text-purple-primary\",\n      icon: $data.faIcons.google\n    }, null, 8 /* PROPS */, [\"icon\"])]), _hoisted_7, _createElementVNode(\"div\", {\n      class: _normalizeClass([$options.isGoogleClassroomIntegrated ? 'bg-purple-primary' : 'bg-gray-500', \"text-white rounded-lg py-1 tracking-wide text-xs uppercase px-3 h-full w-4/12\"])\n    }, _toDisplayString($options.isGoogleClassroomIntegrated ? 'DISCONNECT' : 'CONNECT'), 3 /* TEXT, CLASS */)])]), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_section_title, {\n      class: \"text-left my-4\",\n      title: \"Log out\"\n    }), _createCommentVNode(\" LOGOUT \"), _createElementVNode(\"div\", {\n      onClick: _cache[1] || (_cache[1] = (...args) => $options.logout && $options.logout(...args)),\n      class: \"w-full text-left py-4 flex flex-row w-full border-b-1 items-center bg-white\"\n    }, [_createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_icon_base, {\n      class: \"w-full text-red-primary\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_logout_icon)], undefined, true),\n      _: 1 /* STABLE */\n    })]), _hoisted_10])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","_createBlock","_component_dashboard_layout","pageHeader","_withCtx","_createVNode","_component_page_title","title","content","_hoisted_1","_hoisted_2","_component_section_title","_createCommentVNode","_createElementBlock","_Fragment","_renderList","$data","details","detail","key","value","_hoisted_3","_component_icon_base","_resolveDynamicComponent","icon","_hoisted_4","_toDisplayString","_hoisted_5","onClick","_cache","args","$options","handleGoogleClassroomIntegration","_hoisted_6","_component_font_awesome_icon","faIcons","google","_hoisted_7","_normalizeClass","isGoogleClassroomIntegrated","_hoisted_8","logout","_hoisted_9","_component_logout_icon","_hoisted_10"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherSettings/TeacherSettings.vue"],"sourcesContent":["<template>\n  <dashboard-layout>\n\n    <template v-slot:pageHeader>\n      <page-title title=\"Settings\" class=\"w-3/4\"/>\n    </template>\n\n    <template v-slot:content>\n      <div class=\"w-full px-7 mt-3\">\n\n        <div class=\"flex flex-row items-center justify-between mb-3\">\n          <section-title class=\"text-left mt-4\" title=\"Profile\"/>\n\n          <!--  ROUTE LINK: USER EDIT PROFILE  -->\n<!--          <router-link :to=\"{name: 'auth.profile.edit'}\">-->\n<!--            <font-awesome-icon-->\n<!--                :icon=\"faIcons.edit\"-->\n<!--                class=\"w-full fa-1x text-purple-primary\"-->\n<!--            />-->\n<!--          </router-link>-->\n        </div>\n\n        <div v-for=\"detail in details\"\n             :key=\"detail.value\"\n             class=\"w-full text-left py-3 flex flex-row w-full border-b-1 items-center bg-white\"\n        >\n          <div class=\"w-1/12\">\n            <icon-base class=\" w-full\">\n              <component :is=\"detail.icon\"/>\n            </icon-base>\n          </div>\n          <div class=\"w-5/6 ml-5 text-purple-primary  truncate pr-4\">\n            {{ detail.value }}\n          </div>\n        </div>\n      </div>\n\n      <!-- INTEGRATIONS -->\n      <div class=\"w-full px-7 mt-3\">\n        <section-title class=\"text-left my-4\" title=\"Integrations\"/>\n\n        <!-- GOOGLE CLASSROOM -->\n        <div @click=\"handleGoogleClassroomIntegration\"\n             class=\"w-full  py-3 flex flex-row w-full border-b-1 items-center bg-white\">\n          <div class=\"w-1/12 text-center\">\n            <font-awesome-icon class=\"w-full fa-1x text-purple-primary\" :icon=\"faIcons.google\"/>\n          </div>\n          <div class=\"w-7/12 ml-5 text-purple-primary text-left  truncate pr-4\">\n            Google Classroom\n          </div>\n          <div :class=\"isGoogleClassroomIntegrated ? 'bg-purple-primary' : 'bg-gray-500'\"\n               class=\"text-white rounded-lg py-1 tracking-wide text-xs uppercase px-3 h-full w-4/12\"\n          >\n            {{ isGoogleClassroomIntegrated ? 'DISCONNECT' : 'CONNECT' }}\n          </div>\n\n        </div>\n\n      </div>\n\n\n      <div class=\"w-full px-7 mt-3\">\n        <section-title class=\"text-left my-4\" title=\"Log out\"/>\n        <!-- LOGOUT -->\n        <div @click=\"logout\"\n             class=\"w-full text-left py-4 flex flex-row w-full border-b-1 items-center bg-white\"\n        >\n          <div class=\"w-1/12\">\n            <icon-base class=\"w-full text-red-primary\">\n              <logout-icon/>\n            </icon-base>\n          </div>\n          <div class=\"w-5/6 ml-5 text-red-primary  truncate pr-4\">\n            Log out\n          </div>\n        </div>\n      </div>\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\n\nexport default {\n  name: \"TeacherSettings\",\n  data() {\n    return {\n\n      faIcons: {\n        google: faGoogle,\n        edit: faEdit\n      },\n\n      details: {\n        fullName: {\n          value: null,\n          icon: 'identification-icon'\n        },\n        school: {\n          value: null,\n          icon: 'academic-icon'\n        },\n        email: {\n          value: null,\n          icon: 'email-icon'\n        },\n        contactNum: {\n          value: null,\n          icon: 'phone-icon'\n        }\n      }\n    };\n  },\n  computed: {\n    isGoogleClassroomIntegrated() {\n      return this.$store.getters.getGoogleIntegrated\n    }\n  },\n  methods: {\n    logout() {\n      this.$store.dispatch('logout')\n      this.$router.push({name: 'login'})\n    },\n    getDetails: function () {\n      TeacherRepository.getTeacherDetails()\n          .then(response => {\n\n            if (response.data.success) {\n\n              let data = response.data.data[0];\n\n              this.details.fullName.value = data.fullname;\n              this.details.school.value = data.school_name;\n              this.details.email.value = data.email;\n              this.details.contactNum.value = data.contact_num;\n            }\n          })\n    },\n    handleGoogleClassroomIntegration() {\n\n      // If already integrated, disconnect\n      if (this.isGoogleClassroomIntegrated) {\n        GoogleClassroomRepository.disconnect()\n            .then(response => {\n              if (response.data.success) {\n                this.$store.dispatch('setAuthUser')\n              }\n            })\n      } else {\n\n        GoogleClassroomRepository.integration()\n            .then(response => {\n\n              const newWindow = this.openWindow('', 'message')\n              newWindow.location.href = response.data\n            })\n            .catch(function (error) {\n              console.error(error);\n            });\n      }\n    },\n\n    handleMessage(event) {\n      if (event.data.success) {\n        this.$store.dispatch('setAuthUser')\n      }\n    },\n\n    /**\n     *   Opens a popup window to load Laravel Socialite redirect pages via URL\n     **/\n    openWindow(url, title, options = {}) {\n      if (typeof url === 'object') {\n        options = url\n        url = ''\n      }\n\n      options = {url, title, width: 600, height: 720, ...options}\n\n      const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screen.left\n      const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screen.top\n      const width = window.innerWidth || document.documentElement.clientWidth || window.screen.width\n      const height = window.innerHeight || document.documentElement.clientHeight || window.screen.height\n\n      options.left = ((width / 2) - (options.width / 2)) + dualScreenLeft\n      options.top = ((height / 2) - (options.height / 2)) + dualScreenTop\n\n      const optionsStr = Object.keys(options).reduce((acc, key) => {\n        acc.push(`${key}=${options[key]}`)\n        return acc\n      }, []).join(',')\n\n      const newWindow = window.open(url, title, optionsStr)\n\n      if (window.focus) {\n        newWindow.focus()\n      }\n\n      return newWindow\n    }\n\n  },\n  mounted() {\n    window.addEventListener('message', this.handleMessage)\n    this.getDetails()\n  },\n  components: {\n    LogoutIcon,\n    PhoneIcon,\n    EmailIcon,\n    BookIcon,\n    AcademicIcon,\n    IconBase,\n    IdentificationIcon,\n    IconBaseTwo,\n    SectionTitle,\n    PageTitle,\n    DashboardLayout,\n    FontAwesomeIcon,\n  },\n}\n\n\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport PageTitle from \"@/components/PageTitle\";\nimport SectionTitle from \"../../../components/SectionTitle\";\nimport IconBaseTwo from \"../../../components/IconBaseTwo\";\nimport IdentificationIcon from \"../../../components/icons/IdentificationIcon\";\nimport IconBase from \"../../../components/IconBase\";\nimport AcademicIcon from \"../../../components/icons/AcademicIcon\";\nimport BookIcon from \"../../../components/icons/BookIcon\";\nimport EmailIcon from \"../../../components/icons/EmailIcon\";\nimport PhoneIcon from \"../../../components/icons/PhoneIcon\";\nimport LogoutIcon from \"../../../components/icons/LogoutIcon\";\nimport TeacherRepository from \"../../../repositories/TeacherRepository\";\nimport GoogleClassroomRepository from \"@/repositories/GoogleClassroomRepository\";\n\n// FONT AWESOME\nimport {FontAwesomeIcon} from '@fortawesome/vue-fontawesome'\nimport {faGoogle} from '@fortawesome/free-brands-svg-icons'\nimport {faEdit} from \"@fortawesome/free-solid-svg-icons\";\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":";;EAQWA,KAAK,EAAC;AAAkB;;EAEtBA,KAAK,EAAC;AAAiD;;EAgBrDA,KAAK,EAAC;AAAQ;;EAKdA,KAAK,EAAC;AAA+C;;EAOzDA,KAAK,EAAC;AAAkB;;EAMpBA,KAAK,EAAC;AAAoB;gCAG/BC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAA0D,GAAC,oBAEtE;;EAYCA,KAAK,EAAC;AAAkB;;EAMpBA,KAAK,EAAC;AAAQ;iCAKnBC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAA4C,GAAC,WAExD;;;;;;;;;uBAzERE,YAAA,CA6EmBC,2BAAA;IA3EAC,UAAU,EAAAC,QAAA,CACzB,MAA4C,CAA5CC,YAAA,CAA4CC,qBAAA;MAAhCC,KAAK,EAAC,UAAU;MAACR,KAAK,EAAC;;IAGpBS,OAAO,EAAAJ,QAAA,CACtB,MA2BM,CA3BNJ,mBAAA,CA2BM,OA3BNS,UA2BM,GAzBJT,mBAAA,CAUM,OAVNU,UAUM,GATJL,YAAA,CAAuDM,wBAAA;MAAxCZ,KAAK,EAAC,gBAAgB;MAACQ,KAAK,EAAC;QAE5CK,mBAAA,qCAAwC,EAClDA,mBAAA,+DAAgE,EAChEA,mBAAA,kCAAqC,EACrCA,mBAAA,0CAA2C,EAC3CA,mBAAA,8DAA+D,EAC/DA,mBAAA,kBAAqB,EACrBA,mBAAA,4BAA+B,C,sBAGvBC,mBAAA,CAYMC,SAAA,QAAAC,WAAA,CAZgBC,KAAA,CAAAC,OAAO,EAAjBC,MAAM;2BAAlBL,mBAAA,CAYM;QAXAM,GAAG,EAAED,MAAM,CAACE,KAAK;QAClBrB,KAAK,EAAC;UAETC,mBAAA,CAIM,OAJNqB,UAIM,GAHJhB,YAAA,CAEYiB,oBAAA;QAFDvB,KAAK,EAAC;MAAS;0BACxB,MAA8B,E,cAA9BE,YAAA,CAA8BsB,wBAAA,CAAdL,MAAM,CAACM,IAAI,I;;sCAG/BxB,mBAAA,CAEM,OAFNyB,UAEM,EAAAC,gBAAA,CADDR,MAAM,CAACE,KAAK,iB;sCAKrBR,mBAAA,kBAAqB,EACrBZ,mBAAA,CAoBM,OApBN2B,UAoBM,GAnBJtB,YAAA,CAA4DM,wBAAA;MAA7CZ,KAAK,EAAC,gBAAgB;MAACQ,KAAK,EAAC;QAE5CK,mBAAA,sBAAyB,EACzBZ,mBAAA,CAcM;MAdA4B,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,gCAAA,IAAAD,QAAA,CAAAC,gCAAA,IAAAF,IAAA,CAAgC;MACxC/B,KAAK,EAAC;QACTC,mBAAA,CAEM,OAFNiC,UAEM,GADJ5B,YAAA,CAAoF6B,4BAAA;MAAjEnC,KAAK,EAAC,kCAAkC;MAAEyB,IAAI,EAAER,KAAA,CAAAmB,OAAO,CAACC;yCAE7EC,UAEM,EACNrC,mBAAA,CAIM;MAJAD,KAAK,EAAAuC,eAAA,EAAEP,QAAA,CAAAQ,2BAA2B,wCAC7B,+EAA+E;wBAErFR,QAAA,CAAAQ,2BAA2B,mD,KAQpCvC,mBAAA,CAeM,OAfNwC,UAeM,GAdJnC,YAAA,CAAuDM,wBAAA;MAAxCZ,KAAK,EAAC,gBAAgB;MAACQ,KAAK,EAAC;QAC5CK,mBAAA,YAAe,EACfZ,mBAAA,CAWM;MAXA4B,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAU,MAAA,IAAAV,QAAA,CAAAU,MAAA,IAAAX,IAAA,CAAM;MACd/B,KAAK,EAAC;QAETC,mBAAA,CAIM,OAJN0C,UAIM,GAHJrC,YAAA,CAEYiB,oBAAA;MAFDvB,KAAK,EAAC;IAAyB;wBACxC,MAAc,CAAdM,YAAA,CAAcsC,sBAAA,E;;UAGlBC,WAEM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}