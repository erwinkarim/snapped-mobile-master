{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport NavBack from \"@/components/NavBack\";\nimport Modal from \"@/components/Modal\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport ClockIcon from \"@/components/icons/ClockIcon\";\nimport moment from \"moment\";\nimport AssignmentRepository from \"@/repositories/AssignmentRepository\";\nimport router from \"@/router\";\nexport default {\n  name: \"Index\",\n  props: {\n    assignmentID: [String, Number]\n  },\n  data() {\n    return {\n      // states\n      isSelectingDueDate: false,\n      isShowingSuccessModal: false,\n      isShowingDeleteModal: false,\n      isDeleted: false,\n      // models\n      due_datetime: ''\n    };\n  },\n  methods: {\n    submit() {\n      if (this.due_datetime) {\n        AssignmentRepository.update(this.assignmentID, this.format_date(this.due_datetime)).then(response => {\n          if (response.data.success) {\n            this.isShowingSuccessModal = true;\n          }\n        });\n      }\n    },\n    deleteAssignment() {\n      AssignmentRepository.delete(this.assignmentID).then(response => {\n        if (response.data.success) {\n          this.toggleDeleteModal();\n          router.push({\n            name: 'teacher.assignments'\n          });\n        }\n      });\n    },\n    format_date(value) {\n      if (value) {\n        return moment(String(value)).format('YYYY-MM-DD HH:mm:ss');\n      }\n    },\n    getHumanDate(datetime) {\n      return moment(datetime, \"YYYY-MM-DD hh:mm:ss\").format(\"DD MMMM YYYY\");\n    },\n    toggleDeleteModal() {\n      this.isShowingDeleteModal = !this.isShowingDeleteModal;\n    },\n    closeSetDueDateModal() {\n      if (this.durationDay === '') {\n        this.durationDay = 0;\n      }\n      if (this.durationHour === '') {\n        this.durationHour = 0;\n      }\n      if (this.durationMinute === '') {\n        this.durationMinute = 0;\n      }\n      this.isSelectingDueDate = !this.isSelectingDueDate;\n    }\n  },\n  components: {\n    ClockIcon,\n    IconBaseTwo,\n    Modal,\n    NavBack,\n    PageHeaderThree,\n    DashboardLayout\n  }\n};","map":{"version":3,"names":["DashboardLayout","PageHeaderThree","NavBack","Modal","IconBaseTwo","ClockIcon","moment","AssignmentRepository","router","name","props","assignmentID","String","Number","data","isSelectingDueDate","isShowingSuccessModal","isShowingDeleteModal","isDeleted","due_datetime","methods","submit","update","format_date","then","response","success","deleteAssignment","delete","toggleDeleteModal","push","value","format","getHumanDate","datetime","closeSetDueDateModal","durationDay","durationHour","durationMinute","components"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherAssignments/Edit/Index.vue"],"sourcesContent":["<template>\n  <dashboard-layout :has-custom-bottom-bar=\"true\">\n\n    <!--  HEADER -->\n    <template v-slot:pageHeader>\n      <page-header-three class=\"px-2\" :has-scroll-animation=\"true\">\n        <template v-slot:leftAction>\n          <nav-back class=\"w-2/7\" stroke-color=\"red-primary\"/>\n        </template>\n        <template v-slot:mini-title>\n          Edit Assignment\n        </template>\n        <template v-slot:title>\n          Edit Assignment\n        </template>\n      </page-header-three>\n    </template>\n\n    <template v-slot:content>\n\n      <!--  MODAL: SUCCESS   -->\n      <div v-if=\"isShowingSuccessModal\" @click.self=\"\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal :redirect-route=\"{name: 'teacher.assignments.show'}\"\n               modal-type=\"success\"\n               class=\"w-4/5 \"\n        >\n          <h3 slot=\"title\" class=\"text-purple-primary font-bold text-4xl\">Published!</h3>\n          <p slot=\"message\">\n            Assignment updated!\n          </p>\n          <template slot=\"button\">\n            <button class=\"font-bold w-4/5 rounded-full px-2 font-bold leading-relaxed tracking-wider\">\n              Okay\n            </button>\n          </template>\n        </modal>\n      </div>\n\n      <!--  MODAL: DELETE   -->\n      <div v-if=\"isShowingDeleteModal\" @click.self=\"toggleDeleteModal\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal\n               modal-type=\"no-icon\"\n               class=\"w-4/5 \"\n        >\n          <h3 slot=\"title\" class=\"text-purple-primary font-bold text-4xl\">Delete this assignment</h3>\n          <p slot=\"message\">\n            Are you sure?\n          </p>\n          <template slot=\"button\">\n            <div @click=\"deleteAssignment\">\n              DELETE THIS\n            </div>\n          </template>\n        </modal>\n      </div>\n\n      <!--  MODAL: SELECT DUE DATE -->\n      <div v-if=\"isSelectingDueDate\" @click.self=\"closeSetDueDateModal\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal class=\"fixed mx-1/24\" v-if=\"isSelectingDueDate\" modal-type=\"no-icon\">\n\n          <template v-slot:title>\n            <div class=\"font-bold\">\n              Set Due Date & Time\n            </div>\n          </template>\n\n          <template v-slot:message>\n            <div class=\"w-full grid grid-cols-1 divide-y divide-transparent\">\n              <v-date-picker class=\"place-self-center\" :min-date=\"new Date()\" v-model=\"due_datetime\" mode=\"dateTime\"/>\n            </div>\n          </template>\n\n          <template v-slot:button>\n            <button @click=\"closeSetDueDateModal\"\n                    class=\"font-bold w-full rounded-full px-2 font-bold leading-relaxed tracking-wider\"\n            >\n              Okay\n            </button>\n          </template>\n        </modal>\n      </div>\n\n      <!-- INPUTS     -->\n      <div class=\"w-full px-7 mt-3 pb-3\">\n\n        <!--  INPUT: SELECT DUE DATE      -->\n        <div\n            class=\"flex mb-2 pl-6 pr-2 py-5 mt-2 grid grid-cols-2 appearance-none border rounded-md border-none w-full bg-gray-secondary text-purple-secondary text-lg font-normal leading-tight focus:outline-none focus:shadow-outline placeholder-purple-secondary\">\n          <div class=\"text-left place-self-start truncate\">\n            <button @click=\"isSelectingDueDate = !isSelectingDueDate\">\n              {{ due_datetime ? getHumanDate(due_datetime) : 'Change Due Date' }}\n            </button>\n          </div>\n          <div>\n            <button @click=\"isSelectingDueDate = !isSelectingDueDate\">\n              <icon-base-two class=\"align-center float-right w-1/8 mr-3\">\n                <clock-icon/>\n              </icon-base-two>\n            </button>\n          </div>\n        </div>\n\n      </div>\n\n    </template>\n\n    <template v-slot:bottomBar>\n      <div class=\"flex flex-row w-full max-w-xl\">\n        <div class=\"px-2 w-4/7\">\n          <button @click=\"toggleDeleteModal\"\n              class=\"w-full font-bold rounded-full text-white text-sm bg-red-primary border-2 border-red-primary py-3 px-1 flex flex-row justify-center mr-2\">\n        Delete\n      </button>\n        </div>\n        <div class=\"px-2 w-3/7\">\n          <button @click=\"submit\"\n              class=\"w-full font-bold rounded-full text-purple-primary text-sm bg-white border-2 border-purple-primary py-3 px-1 flex flex-row justify-center\">\n        Update\n      </button>\n        </div>\n      </div>\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport NavBack from \"@/components/NavBack\";\nimport Modal from \"@/components/Modal\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport ClockIcon from \"@/components/icons/ClockIcon\";\nimport moment from \"moment\";\nimport AssignmentRepository from \"@/repositories/AssignmentRepository\";\nimport router from \"@/router\";\n\nexport default {\n  name: \"Index\",\n  props: {\n    assignmentID: [String, Number]\n  },\n  data() {\n    return {\n\n      // states\n      isSelectingDueDate: false,\n      isShowingSuccessModal: false,\n      isShowingDeleteModal: false,\n      isDeleted: false,\n\n      // models\n      due_datetime: ''\n    }\n  },\n  methods: {\n\n    submit() {\n\n      if (this.due_datetime) {\n        AssignmentRepository.update(this.assignmentID, this.format_date(this.due_datetime))\n            .then(response => {\n              if (response.data.success) {\n                this.isShowingSuccessModal = true;\n              }\n            })\n      }\n    },\n\n    deleteAssignment () {\n      AssignmentRepository.delete(this.assignmentID)\n          .then(response => {\n            if (response.data.success) {\n              this.toggleDeleteModal();\n              router.push({ name: 'teacher.assignments'})\n            }\n          })\n    },\n\n    format_date(value) {\n      if (value) {\n        return moment(String(value)).format('YYYY-MM-DD HH:mm:ss')\n      }\n    },\n\n    getHumanDate(datetime) {\n      return moment(datetime, \"YYYY-MM-DD hh:mm:ss\").format(\"DD MMMM YYYY\")\n    },\n\n    toggleDeleteModal() {\n      this.isShowingDeleteModal = !this.isShowingDeleteModal\n    },\n\n    closeSetDueDateModal() {\n      if (this.durationDay === '') {\n        this.durationDay = 0\n      }\n      if (this.durationHour === '') {\n        this.durationHour = 0\n      }\n      if (this.durationMinute === '') {\n        this.durationMinute = 0\n      }\n\n      this.isSelectingDueDate = !this.isSelectingDueDate\n    },\n  },\n  components: {ClockIcon, IconBaseTwo, Modal, NavBack, PageHeaderThree, DashboardLayout}\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":";AAiIA,OAAOA,eAAc,MAAO,gCAAgC;AAC5D,OAAOC,eAAc,MAAO,8BAA8B;AAC1D,OAAOC,OAAM,MAAO,sBAAsB;AAC1C,OAAOC,KAAI,MAAO,oBAAoB;AACtC,OAAOC,WAAU,MAAO,0BAA0B;AAClD,OAAOC,SAAQ,MAAO,8BAA8B;AACpD,OAAOC,MAAK,MAAO,QAAQ;AAC3B,OAAOC,oBAAmB,MAAO,qCAAqC;AACtE,OAAOC,MAAK,MAAO,UAAU;AAE7B,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,KAAK,EAAE;IACLC,YAAY,EAAE,CAACC,MAAM,EAAEC,MAAM;EAC/B,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MAEL;MACAC,kBAAkB,EAAE,KAAK;MACzBC,qBAAqB,EAAE,KAAK;MAC5BC,oBAAoB,EAAE,KAAK;MAC3BC,SAAS,EAAE,KAAK;MAEhB;MACAC,YAAY,EAAE;IAChB;EACF,CAAC;EACDC,OAAO,EAAE;IAEPC,MAAMA,CAAA,EAAG;MAEP,IAAI,IAAI,CAACF,YAAY,EAAE;QACrBZ,oBAAoB,CAACe,MAAM,CAAC,IAAI,CAACX,YAAY,EAAE,IAAI,CAACY,WAAW,CAAC,IAAI,CAACJ,YAAY,CAAC,EAC7EK,IAAI,CAACC,QAAO,IAAK;UAChB,IAAIA,QAAQ,CAACX,IAAI,CAACY,OAAO,EAAE;YACzB,IAAI,CAACV,qBAAoB,GAAI,IAAI;UACnC;QACF,CAAC;MACP;IACF,CAAC;IAEDW,gBAAeA,CAAA,EAAK;MAClBpB,oBAAoB,CAACqB,MAAM,CAAC,IAAI,CAACjB,YAAY,EACxCa,IAAI,CAACC,QAAO,IAAK;QAChB,IAAIA,QAAQ,CAACX,IAAI,CAACY,OAAO,EAAE;UACzB,IAAI,CAACG,iBAAiB,EAAE;UACxBrB,MAAM,CAACsB,IAAI,CAAC;YAAErB,IAAI,EAAE;UAAqB,CAAC;QAC5C;MACF,CAAC;IACP,CAAC;IAEDc,WAAWA,CAACQ,KAAK,EAAE;MACjB,IAAIA,KAAK,EAAE;QACT,OAAOzB,MAAM,CAACM,MAAM,CAACmB,KAAK,CAAC,CAAC,CAACC,MAAM,CAAC,qBAAqB;MAC3D;IACF,CAAC;IAEDC,YAAYA,CAACC,QAAQ,EAAE;MACrB,OAAO5B,MAAM,CAAC4B,QAAQ,EAAE,qBAAqB,CAAC,CAACF,MAAM,CAAC,cAAc;IACtE,CAAC;IAEDH,iBAAiBA,CAAA,EAAG;MAClB,IAAI,CAACZ,oBAAmB,GAAI,CAAC,IAAI,CAACA,oBAAmB;IACvD,CAAC;IAEDkB,oBAAoBA,CAAA,EAAG;MACrB,IAAI,IAAI,CAACC,WAAU,KAAM,EAAE,EAAE;QAC3B,IAAI,CAACA,WAAU,GAAI;MACrB;MACA,IAAI,IAAI,CAACC,YAAW,KAAM,EAAE,EAAE;QAC5B,IAAI,CAACA,YAAW,GAAI;MACtB;MACA,IAAI,IAAI,CAACC,cAAa,KAAM,EAAE,EAAE;QAC9B,IAAI,CAACA,cAAa,GAAI;MACxB;MAEA,IAAI,CAACvB,kBAAiB,GAAI,CAAC,IAAI,CAACA,kBAAiB;IACnD;EACF,CAAC;EACDwB,UAAU,EAAE;IAAClC,SAAS;IAAED,WAAW;IAAED,KAAK;IAAED,OAAO;IAAED,eAAe;IAAED;EAAe;AACvF"},"metadata":{},"sourceType":"module","externalDependencies":[]}