{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport TeacherRepository from \"@/repositories/TeacherRepository\";\nimport IconBase from \"@/components/IconBase\";\nimport { Swiper, SwiperSlide, directive } from 'vue-awesome-swiper';\nimport ProfilePhoto from \"@/components/icons/ProfilePhoto\";\nimport '@/directives/scroll';\nimport router from \"@/router\";\nexport default {\n  name: \"SubjectsList\",\n  components: {\n    ProfilePhoto,\n    IconBase\n  },\n  props: {\n    search: String\n  },\n  data() {\n    return {\n      // States\n      loading: false,\n      error: null,\n      isScrolledDownTwo: false,\n      isScrolledUp: false,\n      scrollLocation: 0,\n      setStickySearchBar: false,\n      // Data\n      subjects: null,\n      filteredSubjects: null\n    };\n  },\n  created() {\n    this.fetchData();\n  },\n  watch: {\n    '$route': 'fetchData',\n    'search': 'searchName'\n  },\n  computed: {\n    containerClass: function () {\n      if (this.setStickySearchBar) {\n        return 'mt-20';\n      }\n      if (this.isScrolledUp) {\n        return 'mt-0';\n      }\n    }\n  },\n  methods: {\n    fetchData() {\n      this.error = this.subjects = null;\n      this.loading = true;\n      const classID = this.$route.params.classID;\n      TeacherRepository.getSubjectsWithStudentsForTeacherClass({\n        classID: classID,\n        search: null\n      }).then(response => {\n        this.subjects = response.data.data;\n        this.filteredSubjects = response.data.data;\n      }).catch(err => {});\n    },\n    searchName() {\n      // Copy original results into filterSubjects\n      this.filteredSubjects = JSON.parse(JSON.stringify(this.subjects));\n      this.filteredSubjects = this.filteredSubjects.map(subject => {\n        return {\n          period: subject.period,\n          students: subject.students.filter(student => {\n            return student.name.toLowerCase().includes(this.search.toLowerCase());\n          }),\n          subject_title: subject.subject_title\n        };\n      });\n    },\n    goToStudentShow(studentID) {\n      router.push({\n        name: 'student.profile.show',\n        params: {\n          studentID: studentID\n        }\n      });\n    },\n    handleScroll: function (evt, el) {\n      if (window.scrollY > 60 && window.scrollY > this.scrollLocation) {\n        let status = window.scrollY > 60;\n        this.isScrolledDownTwo = status;\n        this.isScrolledUp = !status;\n      }\n      if (window.scrollY < 60 && window.scrollY < this.scrollLocation) {\n        let status = window.scrollY < 60;\n        this.isScrolledUp = status;\n        this.isScrolledDownTwo = !status;\n      }\n      this.setStickySearchBar = window.scrollY > 60;\n      this.scrollLocation = window.scrollY;\n    }\n  }\n};","map":{"version":3,"names":["TeacherRepository","IconBase","Swiper","SwiperSlide","directive","ProfilePhoto","router","name","components","props","search","String","data","loading","error","isScrolledDownTwo","isScrolledUp","scrollLocation","setStickySearchBar","subjects","filteredSubjects","created","fetchData","watch","computed","containerClass","methods","classID","$route","params","getSubjectsWithStudentsForTeacherClass","then","response","catch","err","searchName","JSON","parse","stringify","map","subject","period","students","filter","student","toLowerCase","includes","subject_title","goToStudentShow","studentID","push","handleScroll","evt","el","window","scrollY","status"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherClasses/SubjectsList.vue"],"sourcesContent":["<template>\n\n  <div class=\"mb-20\" :class=\"containerClass\" v-scroll=\"handleScroll\">\n    <div v-for=\"subject in filteredSubjects\"\n         :key=\"subject.subject_title\"\n    >\n\n      <!-- Subject Title + Period -->\n      <div\n          class=\"text-purple-primary truncate font-bold flex flex-row justify-between text-left text-sm bg-gray-secondary py-2 px-5\">\n        <div class=\"w-3/5 truncate\">\n          {{ subject.subject_title }}\n        </div>\n        <div class=\"w-2/5 text-right\">\n          {{ subject.period }}\n        </div>\n      </div>\n\n      <!-- Student List for Subject -->\n      <div v-for=\"student in subject.students\"\n           :key=\"student.id\"\n           @click=\"goToStudentShow(student.id)\"\n           class=\"text-left px-5 py-4 flex flex-row w-full border-b-1 items-center bg-white\"\n      >\n        <icon-base class=\" w-1/8\">\n          <profile-photo :gender=\"student.gender\"/>\n        </icon-base>\n        <div class=\"w-5/6 ml-5 text-purple-primary truncate pr-4\">\n          {{ student.name }}\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport TeacherRepository from \"@/repositories/TeacherRepository\";\nimport IconBase from \"@/components/IconBase\";\nimport {Swiper, SwiperSlide, directive} from 'vue-awesome-swiper'\nimport ProfilePhoto from \"@/components/icons/ProfilePhoto\";\nimport '@/directives/scroll'\nimport router from \"@/router\";\n\nexport default {\n  name: \"SubjectsList\",\n  components: {ProfilePhoto, IconBase},\n  props: {\n    search: String\n  },\n  data() {\n    return {\n\n      // States\n      loading: false,\n      error: null,\n      isScrolledDownTwo: false,\n      isScrolledUp: false,\n      scrollLocation: 0,\n      setStickySearchBar: false,\n\n      // Data\n      subjects: null,\n      filteredSubjects: null\n\n    }\n  },\n  created() {\n    this.fetchData()\n  },\n  watch: {\n    '$route': 'fetchData',\n    'search': 'searchName'\n  },\n  computed: {\n    containerClass: function () {\n      if (this.setStickySearchBar) {\n        return 'mt-20'\n      }\n      if (this.isScrolledUp) {\n        return 'mt-0'\n      }\n    }\n  },\n  methods: {\n\n    fetchData() {\n      this.error = this.subjects = null\n      this.loading = true\n\n      const classID = this.$route.params.classID\n\n      TeacherRepository.getSubjectsWithStudentsForTeacherClass({classID: classID, search: null})\n          .then(response => {\n\n            this.subjects = response.data.data;\n            this.filteredSubjects = response.data.data;\n\n          })\n          .catch(err => {\n\n          })\n    },\n    searchName() {\n\n      // Copy original results into filterSubjects\n      this.filteredSubjects = JSON.parse(JSON.stringify(this.subjects));\n\n      this.filteredSubjects = this.filteredSubjects.map((subject) => {\n        return {\n          period: subject.period,\n          students: subject.students.filter(student => {\n            return (student.name.toLowerCase()).includes(this.search.toLowerCase())\n          }),\n          subject_title: subject.subject_title\n        }\n      })\n    },\n\n    goToStudentShow(studentID) {\n      router.push({name: 'student.profile.show', params: {studentID: studentID}})\n    },\n    handleScroll: function (evt, el) {\n\n      if (window.scrollY > 60 && window.scrollY > this.scrollLocation) {\n        let status = window.scrollY > 60\n        this.isScrolledDownTwo = status\n        this.isScrolledUp = !status\n      }\n\n      if (window.scrollY < 60 && window.scrollY < this.scrollLocation) {\n        let status = window.scrollY < 60\n        this.isScrolledUp = status\n        this.isScrolledDownTwo = !status\n      }\n\n      this.setStickySearchBar = window.scrollY > 60\n      this.scrollLocation = window.scrollY\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}