{"ast":null,"code":"import AppLogo from \"@/components/icons/AppLogo\";\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport SectionTitle from \"@/components/SectionTitle\";\nimport EdCoinTransactionPill from \"../../components/EdCoinTransactionPill.vue\";\nimport CoinsBottomNavBar from \"@/components/CoinsBottomNavBar.vue\";\nimport CoinsIcon from \"../../components/icons/CoinsIcon.vue\";\nimport SquareCheckIcon from \"../../components/icons/SquareCheckIcon.vue\";\nimport coin_routes from \"../../router/coin_routes\";\nimport CoinsRepository from \"../../repositories/CoinsRepository\";\nexport default {\n  name: \"CoinHome\",\n  data() {\n    return {\n      bottomBarClass: true,\n      tabs: [],\n      trxCount: 0,\n      trxResult: [],\n      availableMarks: 0,\n      homeURL: this.$store.getters.getAuthUserRole == 'Teacher' ? 'teacher.home' : 'student.home'\n    };\n  },\n  mounted() {\n    console.log('CoinHome Mounted');\n\n    // load up the transactions\n    CoinsRepository.coinTrxList().then(res => {\n      console.log('get coins trx history', res);\n      this.trxResult = res.data;\n    });\n    CoinsRepository.marksForCoinsList().then(response => {\n      console.log(response);\n      this.availableMarks = response.data.marks.reduce((a, v) => {\n        if (v.amount_redeemed === null) {\n          return a += v.final_marks;\n        } else {\n          return a;\n        }\n      }, 0);\n    });\n  },\n  methods: {\n    sliderUpdate(e) {\n      console.log('slider value', e.target.value);\n      this.trxCount = parseInt(e.target.value);\n    }\n  },\n  components: {\n    AppLogo,\n    DashboardLayout,\n    IconBaseTwo,\n    SectionTitle,\n    EdCoinTransactionPill,\n    SquareCheckIcon,\n    CoinsIcon,\n    CoinsBottomNavBar,\n    coin_routes\n  }\n};","map":{"version":3,"names":["AppLogo","DashboardLayout","IconBaseTwo","SectionTitle","EdCoinTransactionPill","CoinsBottomNavBar","CoinsIcon","SquareCheckIcon","coin_routes","CoinsRepository","name","data","bottomBarClass","tabs","trxCount","trxResult","availableMarks","homeURL","$store","getters","getAuthUserRole","mounted","console","log","coinTrxList","then","res","marksForCoinsList","response","marks","reduce","a","v","amount_redeemed","final_marks","methods","sliderUpdate","e","target","value","parseInt","components"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/edcoins/CoinHome.vue"],"sourcesContent":["<template>\n  <dashboard-layout :has-custom-bottom-bar=\"true\" >\n\n    <template v-slot:content>\n      <div class=\"flex flex-col px-5 w-full md:px-10\">\n        <router-link class=\"w-2/7\" :to=\"{ name: homeURL }\">\n          <icon-base-two>\n            <AppLogo/>\n          </icon-base-two>\n        </router-link>\n      </div>\n\n      <!-- total coins -->\n      <div class=\"px-5 w-full md:px-10\">\n        <section-title class=\"text-left\" title=\"Coins\"/>\n        <div class=\"overflow-hidden justify-between py-3 px-3 max-w-sm md:max-w-xl h-full rounded rounded-xl bg-gray-secondary\">\n          <div class=\"flex flex-row items-center h-full text-left text-purple-primary\">\n            <div class=\"flex flex-col px-2 w-1/8\">\n              <CoinsIcon />\n            </div>\n            <div class=\"flex flex-col px-2 w-3/8\">\n              {{ trxResult.length === 0 ? 0 : trxResult.at(0).balance }} Coins\n            </div>\n            <router-link class=\"flex flex-col px-2 w-1/2 text-right\" :to=\"{ name: 'coin.top_up' }\">\n              Top-Up\n            </router-link>\n          </div>\n        </div>\n      </div>\n\n      <!-- total marks -->\n      <div class=\"px-5 w-full md:px-10\">\n        <div class=\"mt-3 mb-3\">\n          <section-title class=\"text-left\" title=\"Marks\"/>\n          <div class=\"overflow-hidden justify-between py-3 px-3 max-w-sm md:max-w-xl h-full rounded rounded-xl bg-gray-secondary\">\n            <div class=\"flex flex-row items-center h-full text-left text-purple-primary\">\n              <div class=\"flex flex-col px-2 w-1/8\">\n                <SquareCheckIcon />\n              </div>\n              <div class=\"flex flex-col px-2 w-3/8\">\n                {{ availableMarks }} Marks Available\n              </div>\n              <router-link class=\"flex flex-col px-2 w-1/2 text-right\" :to=\"{ name: 'coin.top_up_redeem_marks' }\">\n                Redeem\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- transaction history -->\n      <div class=\"px-5 w-full md:px-10\">\n        <div class=\"mt-2 mb-3\">\n          <p>Showing {{ trxResult.length }} transaction(s)</p>\n        </div>\n\n        <div class=\"mt-2 mb-3\">\n          <section-title class=\"mb-5 text-left\" title=\"Transaction History\" />\n          <div v-if=\"trxResult.length === 0\">\n            No transactions\n          </div>\n          <div v-else>\n            <div v-for=\"trx in trxResult\">\n              <router-link :to=\"{ name: 'coin.trxDetail', params: { trxID: trx.id }}\">\n                <EdCoinTransactionPill :trxID=trx.id :trxAmount=trx.amount  :date=trx.created_at />\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"h-30\">Empty Space</div>\n\n    </template>\n\n    <template v-slot:bottomBar>\n      <CoinsBottomNavBar />\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\nimport AppLogo from \"@/components/icons/AppLogo\";\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport SectionTitle from \"@/components/SectionTitle\";\nimport EdCoinTransactionPill from \"../../components/EdCoinTransactionPill.vue\";\nimport CoinsBottomNavBar from \"@/components/CoinsBottomNavBar.vue\";\nimport CoinsIcon from \"../../components/icons/CoinsIcon.vue\";\nimport SquareCheckIcon from \"../../components/icons/SquareCheckIcon.vue\";\nimport coin_routes from \"../../router/coin_routes\";\nimport CoinsRepository from \"../../repositories/CoinsRepository\";\n\nexport default {\n  name: \"CoinHome\",\n  data() {\n    return {\n      bottomBarClass: true,\n      tabs: [],\n      trxCount: 0,\n      trxResult: [],\n      availableMarks: 0,\n      homeURL: this.$store.getters.getAuthUserRole == 'Teacher' ? 'teacher.home' : 'student.home',\n    };\n  },\n  mounted() {\n    console.log('CoinHome Mounted');\n\n    // load up the transactions\n    CoinsRepository.coinTrxList().then((res) => {\n      console.log('get coins trx history', res);\n      this.trxResult = res.data;\n    })\n\n    CoinsRepository.marksForCoinsList().then((response) => {\n      console.log(response);\n      this.availableMarks = response.data.marks.reduce((a, v) => {\n        if(v.amount_redeemed === null){\n          return a += v.final_marks;\n        } else {\n          return a;\n        }\n      }, 0);\n    });\n\n  },\n  methods: {\n    sliderUpdate(e){\n      console.log('slider value', e.target.value);\n      this.trxCount = parseInt(e.target.value);\n    }\n\n  },\n  components: {\n    AppLogo, DashboardLayout, IconBaseTwo, SectionTitle, EdCoinTransactionPill,\n    SquareCheckIcon, CoinsIcon, CoinsBottomNavBar, coin_routes,\n}\n}\n\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"AAiFA,OAAOA,OAAM,MAAO,4BAA4B;AAChD,OAAOC,eAAc,MAAO,gCAAgC;AAC5D,OAAOC,WAAU,MAAO,0BAA0B;AAClD,OAAOC,YAAW,MAAO,2BAA2B;AACpD,OAAOC,qBAAoB,MAAO,4CAA4C;AAC9E,OAAOC,iBAAgB,MAAO,oCAAoC;AAClE,OAAOC,SAAQ,MAAO,sCAAsC;AAC5D,OAAOC,eAAc,MAAO,4CAA4C;AACxE,OAAOC,WAAU,MAAO,0BAA0B;AAClD,OAAOC,eAAc,MAAO,oCAAoC;AAEhE,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,cAAc,EAAE,IAAI;MACpBC,IAAI,EAAE,EAAE;MACRC,QAAQ,EAAE,CAAC;MACXC,SAAS,EAAE,EAAE;MACbC,cAAc,EAAE,CAAC;MACjBC,OAAO,EAAE,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC,eAAc,IAAK,SAAQ,GAAI,cAAa,GAAI;IAC/E,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACRC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;;IAE/B;IACAd,eAAe,CAACe,WAAW,EAAE,CAACC,IAAI,CAAEC,GAAG,IAAK;MAC1CJ,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEG,GAAG,CAAC;MACzC,IAAI,CAACX,SAAQ,GAAIW,GAAG,CAACf,IAAI;IAC3B,CAAC;IAEDF,eAAe,CAACkB,iBAAiB,EAAE,CAACF,IAAI,CAAEG,QAAQ,IAAK;MACrDN,OAAO,CAACC,GAAG,CAACK,QAAQ,CAAC;MACrB,IAAI,CAACZ,cAAa,GAAIY,QAAQ,CAACjB,IAAI,CAACkB,KAAK,CAACC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;QACzD,IAAGA,CAAC,CAACC,eAAc,KAAM,IAAI,EAAC;UAC5B,OAAOF,CAAA,IAAKC,CAAC,CAACE,WAAW;QAC3B,OAAO;UACL,OAAOH,CAAC;QACV;MACF,CAAC,EAAE,CAAC,CAAC;IACP,CAAC,CAAC;EAEJ,CAAC;EACDI,OAAO,EAAE;IACPC,YAAYA,CAACC,CAAC,EAAC;MACbf,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEc,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;MAC3C,IAAI,CAACzB,QAAO,GAAI0B,QAAQ,CAACH,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;IAC1C;EAEF,CAAC;EACDE,UAAU,EAAE;IACVzC,OAAO;IAAEC,eAAe;IAAEC,WAAW;IAAEC,YAAY;IAAEC,qBAAqB;IAC1EG,eAAe;IAAED,SAAS;IAAED,iBAAiB;IAAEG;EACnD;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}