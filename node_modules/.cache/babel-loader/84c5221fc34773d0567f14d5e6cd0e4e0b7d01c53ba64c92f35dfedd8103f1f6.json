{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, toDisplayString as _toDisplayString, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 1,\n  class: \"fixed left-0 w-full items-center flex flex-col items-center justify-center top-1/4 z-70\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"w-full\"\n}, \" Got something to change? Don't worry! You can always edit your published homework \", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"w-full\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"p\", {\n  slot: \"message\"\n}, [/*#__PURE__*/_createTextVNode(\" Submitting your answer. \"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createTextVNode(\" Please wait... \")], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_modal = _resolveComponent(\"modal\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" OVERLAYS \"), $data.isShowingModal ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleModal && $options.toggleModal(...args)),\n    class: \"fixed w-full h-screen z-70 flex flex-col justify-center items-center inset-x-0 block top-0 bg-gray-primary bg-opacity-75\"\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" MODAL \"), $data.isShowingModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.submissionStatus === 'success' ? (_openBlock(), _createBlock(_component_modal, {\n    key: 0,\n    \"modal-type\": $data.submissionStatus,\n    \"redirect-route\": {\n      name: 'student.assignments.show'\n    },\n    onToggleModal: $options.toggleModal,\n    class: \"w-4/5\"\n  }, {\n    default: _withCtx(() => [_hoisted_2, _createTextVNode(\" \" + \" Okay \")], undefined, true),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modal-type\", \"redirect-route\", \"onToggleModal\"])) : _createCommentVNode(\"v-if\", true), $data.submissionStatus === 'error' ? (_openBlock(), _createBlock(_component_modal, {\n    key: 1,\n    \"modal-type\": $data.submissionStatus,\n    onToggleModal: $options.toggleModal,\n    class: \"w-4/5\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, _toDisplayString($data.error), 1 /* TEXT */), _createTextVNode(\" \" + \" Okay \")], undefined, true),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modal-type\", \"onToggleModal\"])) : _createCommentVNode(\"v-if\", true), $data.isSubmitting ? (_openBlock(), _createBlock(_component_modal, {\n    key: 2,\n    \"modal-type\": \"no-icon\",\n    \"has-button\": false,\n    class: \"w-4/5\"\n  }, {\n    default: _withCtx(() => [_hoisted_4], undefined, true),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_router_view, {\n    onWrittenAnswer: $options.handleWrittenAnswer,\n    onSnappedAnswer: $options.handleSnappedAnswer,\n    onError: $options.handleError,\n    onSubmit: $options.handleSubmit,\n    \"assignment-details\": $props.assignmentDetails,\n    answer: $data.answer\n  }, null, 8 /* PROPS */, [\"onWrittenAnswer\", \"onSnappedAnswer\", \"onError\", \"onSubmit\", \"assignment-details\", \"answer\"])]);\n}","map":{"version":3,"names":["class","_createElementVNode","slot","_createElementBlock","_createCommentVNode","$data","isShowingModal","onClick","_cache","args","$options","toggleModal","_hoisted_1","submissionStatus","_createBlock","_component_modal","name","onToggleModal","_hoisted_2","_hoisted_3","_toDisplayString","error","isSubmitting","_hoisted_4","_createVNode","_component_router_view","onWrittenAnswer","handleWrittenAnswer","onSnappedAnswer","handleSnappedAnswer","onError","handleError","onSubmit","handleSubmit","$props","assignmentDetails","answer"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/students/StudentAssignments/Answer/Index.vue"],"sourcesContent":["<template>\n  <div>\n\n    <!-- OVERLAYS -->\n    <div v-if=\"isShowingModal\" @click=\"toggleModal\"\n         class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center inset-x-0 block top-0 bg-gray-primary bg-opacity-75 \">\n    </div>\n\n\n    <!-- MODAL -->\n    <div v-if=\"isShowingModal\"\n         class=\"fixed left-0 w-full items-center flex flex-col items-center justify-center top-1/4 z-70\"\n    >\n      <modal v-if=\"submissionStatus === 'success'\"\n             :modal-type=\"submissionStatus\"\n             :redirect-route=\"{name: 'student.assignments.show'}\"\n             @toggleModal=\"toggleModal\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          <div class=\"w-full\">\n            Got something to change? Don't worry! You can always edit your published homework\n          </div>\n        </template>\n        <template slot=\"button\">\n          Okay\n        </template>\n      </modal>\n      <modal v-if=\"submissionStatus === 'error'\"\n             :modal-type=\"submissionStatus\"\n             @toggleModal=\"toggleModal\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          <div class=\"w-full\">\n            {{ error }}\n          </div>\n        </template>\n        <template slot=\"button\">\n          Okay\n        </template>\n      </modal>\n      <modal v-if=\"isSubmitting\"\n             modal-type=\"no-icon\"\n             :has-button=\"false\"\n             class=\"w-4/5 \"\n      >\n        <p slot=\"message\">\n          Submitting your answer.\n          <br>\n          Please wait...\n        </p>\n      </modal>\n    </div>\n\n\n    <router-view\n        @writtenAnswer=\"handleWrittenAnswer\"\n        @snappedAnswer=\"handleSnappedAnswer\"\n        @error=\"handleError\"\n        @submit=\"handleSubmit\"\n        :assignment-details=\"assignmentDetails\"\n        :answer=\"answer\"\n    />\n  </div>\n\n\n</template>\n\n<script>\nimport SubmissionRepository from \"@/repositories/SubmissionRepository\";\nimport Modal from \"@/components/Modal\";\n\nexport default {\n  name: \"Index\",\n  components: {Modal},\n  props: {\n    assignmentDetails: Object\n  },\n  data() {\n    return {\n\n      // States\n      isShowingModal: false,\n      isSubmitting: false,\n      submissionStatus: null,\n\n      error: null,\n\n      answer: {\n        type: null,\n        content: ''\n      }\n    }\n  },\n  methods: {\n    handleWrittenAnswer(value) {\n      this.answer.type = 'written';\n      this.answer.content = value;\n    },\n    handleSnappedAnswer(value) {\n      this.answer.type = 'snapped';\n      this.answer.content = value;\n    },\n    handleSubmit(remarks) {\n\n      this.resetError();\n\n      this.isSubmitting = true;\n      this.toggleModal();\n\n      SubmissionRepository.store(\n          {\n            assignmentID: this.assignmentDetails.id,\n            answerType: this.answer.type,\n            answerContent: this.answer.content,\n            remarks: remarks,\n          })\n          .then(response => {\n\n            this.isSubmitting = false;\n            this.toggleModal();\n\n            if (response.data.success) {\n              this.submissionStatus = 'success';\n              this.toggleModal();\n            }\n          })\n          .catch(error => {\n            this.isSubmitting = false;\n            this.toggleModal();\n\n            this.handleError({\n              status: true,\n              message: error\n            })\n          })\n\n\n    },\n    handleError(error) {\n      this.submissionStatus = 'error';\n      this.error = error.message;\n      this.toggleModal();\n    },\n\n    resetError() {\n      this.submissionStatus = null;\n      this.error = null;\n    },\n\n    toggleModal() {\n      this.isShowingModal = !this.isShowingModal;\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":";;;EAWSA,KAAK,EAAC;;gCASLC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAQ,GAAC,qFAEpB;;EAYKA,KAAK,EAAC;AAAQ;gCAarBC,mBAAA,CAII;EAJDC,IAAI,EAAC;AAAS,I,8BAAC,2BAEhB,G,aAAAD,mBAAA,CAAI,O,8BAAA,kBAEN,E;;;;;uBAlDNE,mBAAA,CA+DM,cA7DJC,mBAAA,cAAiB,EACNC,KAAA,CAAAC,cAAc,I,cAAzBH,mBAAA,CAEM;;IAFsBI,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;IACzCT,KAAK,EAAC;2CAIXI,mBAAA,WAAc,EACHC,KAAA,CAAAC,cAAc,I,cAAzBH,mBAAA,CA2CM,OA3CNS,UA2CM,GAxCSP,KAAA,CAAAQ,gBAAgB,kB,cAA7BC,YAAA,CAcQC,gBAAA;;IAbA,YAAU,EAAEV,KAAA,CAAAQ,gBAAgB;IAC5B,gBAAc,EAAE;MAAAG,IAAA;IAAA,CAAkC;IAClDC,aAAW,EAAEP,QAAA,CAAAC,WAAW;IACzBX,KAAK,EAAC;;sBAGT,MAEM,CAFNkB,UAEM,E,iBACG,GACX,GAAwB,QAExB,E;;6GAEWb,KAAA,CAAAQ,gBAAgB,gB,cAA7BC,YAAA,CAaQC,gBAAA;;IAZA,YAAU,EAAEV,KAAA,CAAAQ,gBAAgB;IAC5BI,aAAW,EAAEP,QAAA,CAAAC,WAAW;IACzBX,KAAK,EAAC;;sBAGT,MAEM,CAFNC,mBAAA,CAEM,OAFNkB,UAEM,EAAAC,gBAAA,CADDf,KAAA,CAAAgB,KAAK,kB,iBAED,GACX,GAAwB,QAExB,E;;2FAEWhB,KAAA,CAAAiB,YAAY,I,cAAzBR,YAAA,CAUQC,gBAAA;;IATD,YAAU,EAAC,SAAS;IACnB,YAAU,EAAE,KAAK;IAClBf,KAAK,EAAC;;sBAEX,MAII,CAJJuB,UAII,C;;kFAKRC,YAAA,CAOEC,sBAAA;IANGC,eAAa,EAAEhB,QAAA,CAAAiB,mBAAmB;IAClCC,eAAa,EAAElB,QAAA,CAAAmB,mBAAmB;IAClCC,OAAK,EAAEpB,QAAA,CAAAqB,WAAW;IAClBC,QAAM,EAAEtB,QAAA,CAAAuB,YAAY;IACpB,oBAAkB,EAAEC,MAAA,CAAAC,iBAAiB;IACrCC,MAAM,EAAE/B,KAAA,CAAA+B"},"metadata":{},"sourceType":"module","externalDependencies":[]}