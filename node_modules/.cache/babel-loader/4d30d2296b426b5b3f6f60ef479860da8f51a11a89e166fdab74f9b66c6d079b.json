{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport VCalendar from 'v-calendar';\nimport moment from 'moment';\nimport AssignmentRepository from \"../repositories/AssignmentRepository\";\nVue.use(VCalendar);\nexport default {\n  name: \"AssignmentCalendar\",\n  data() {\n    return {\n      days: [],\n      selectedDay: [],\n      date: new Date(),\n      duedates: [],\n      selectAttribute: {\n        highlight: 'yellow'\n        // Don't need the date here\n      }\n    };\n  },\n\n  watch: {\n    'selectedDay': 'emitSelectedDate'\n  },\n  computed: {\n    dates() {\n      return this.days.map(day => day.date);\n    },\n    todayDate() {\n      return {\n        id: moment().format(\"YYYY-MM-DD\"),\n        date: moment().toDate()\n      };\n    },\n    attributes() {\n      return this.dates.map(date => ({\n        highlight: this.todayDate.date === date ? 'indigo' : 'red',\n        dates: date\n      }));\n    }\n  },\n  methods: {\n    onDayClick(day) {\n      const idx = this.selectedDay.findIndex(d => d.id === day.id);\n      if (idx >= 0) {\n        this.selectedDay.splice(idx, 1);\n      } else {\n        this.selectedDay = [{\n          id: day.id,\n          date: day.date\n        }];\n      }\n    },\n    emitSelectedDate() {\n      if (this.selectedDay.length > 0) {\n        this.$emit('selectedDate', this.selectedDay[0]['date']);\n      }\n    },\n    getDuedates() {\n      AssignmentRepository.getDueDates().then(response => {\n        const data = response.data.data;\n        for (let i = 0; i < data.length; i++) {\n          let item = data[i];\n          let itemDetail = {\n            id: item.due_datetime,\n            date: moment(String(item.due_datetime)).toDate()\n          };\n          this.days.push(itemDetail);\n        }\n      });\n    }\n  },\n  mounted() {\n    // Set initial date\n    this.days.push(this.todayDate);\n    this.selectedDay.push(this.todayDate);\n\n    // Get due dates\n    this.getDuedates();\n  }\n};","map":{"version":3,"names":["Vue","VCalendar","moment","AssignmentRepository","use","name","data","days","selectedDay","date","Date","duedates","selectAttribute","highlight","watch","computed","dates","map","day","todayDate","id","format","toDate","attributes","methods","onDayClick","idx","findIndex","d","splice","emitSelectedDate","length","$emit","getDuedates","getDueDates","then","response","i","item","itemDetail","due_datetime","String","push","mounted"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/components/AssignmentCalendar.vue"],"sourcesContent":["<template>\n  <v-date-picker is-expanded\n                 title-position=\"left\"\n                 v-model=\"date\"\n                 :attributes=\"attributes\"\n                 :select-attribute=\"selectAttribute\"\n                 @dayclick=\"onDayClick\"\n  />\n</template>\n\n<script>\n\n\nimport Vue from 'vue';\nimport VCalendar from 'v-calendar';\nimport moment from 'moment';\nimport AssignmentRepository from \"../repositories/AssignmentRepository\";\n\nVue.use(VCalendar);\n\nexport default {\n  name: \"AssignmentCalendar\",\n  data() {\n    return {\n      days: [],\n      selectedDay: [],\n      date: new Date(),\n      duedates: [],\n\n      selectAttribute: {\n        highlight: 'yellow'\n        // Don't need the date here\n      },\n    };\n  },\n  watch: {\n    'selectedDay' : 'emitSelectedDate',\n  },\n  computed: {\n    dates() {\n      return this.days.map(day => day.date);\n    },\n\n    todayDate() {\n      return {\n        id: moment().format(\"YYYY-MM-DD\"),\n        date: moment().toDate()\n      }\n    },\n    attributes() {\n      return this.dates.map(date => ({\n        highlight: (this.todayDate.date === date) ? 'indigo':'red',\n        dates: date,\n      }));\n    }\n  },\n  methods: {\n    onDayClick(day) {\n      const idx = this.selectedDay.findIndex(d => d.id === day.id);\n      if (idx >= 0) {\n        this.selectedDay.splice(idx, 1);\n      } else {\n        this.selectedDay = [{\n          id: day.id,\n          date: day.date,\n        }]\n      }\n    },\n\n    emitSelectedDate () {\n      if (this.selectedDay.length > 0) {\n        this.$emit('selectedDate', this.selectedDay[0]['date'])\n      }\n    },\n\n    getDuedates () {\n      AssignmentRepository.getDueDates()\n              .then(response => {\n\n                const data = response.data.data\n\n                for (let i = 0; i < data.length; i++) {\n\n                  let item = data[i];\n\n                  let itemDetail = {\n                    id: item.due_datetime,\n                    date: moment(String(item.due_datetime)).toDate()\n\n                  }\n                  this.days.push(itemDetail)\n                }\n        })\n    }\n\n  },\n  mounted() {\n    // Set initial date\n    this.days.push(this.todayDate)\n    this.selectedDay.push(this.todayDate)\n\n    // Get due dates\n    this.getDuedates()\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}