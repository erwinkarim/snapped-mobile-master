{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex flex-col px-5 w-full md:px-10\"\n};\nconst _hoisted_2 = {\n  class: \"px-5 w-full md:px-10\"\n};\nconst _hoisted_3 = {\n  class: \"overflow-hidden justify-between py-3 px-3 max-w-sm md:max-w-xl h-full rounded rounded-xl bg-gray-secondary\"\n};\nconst _hoisted_4 = {\n  class: \"flex flex-row items-center h-full text-left text-purple-primary\"\n};\nconst _hoisted_5 = {\n  class: \"flex flex-col px-2 w-1/8\"\n};\nconst _hoisted_6 = {\n  class: \"flex flex-col px-2 w-3/8\"\n};\nconst _hoisted_7 = {\n  class: \"px-5 w-full md:px-10\"\n};\nconst _hoisted_8 = {\n  class: \"mt-3 mb-3\"\n};\nconst _hoisted_9 = {\n  class: \"overflow-hidden justify-between py-3 px-3 max-w-sm md:max-w-xl h-full rounded rounded-xl bg-gray-secondary\"\n};\nconst _hoisted_10 = {\n  class: \"flex flex-row items-center h-full text-left text-purple-primary\"\n};\nconst _hoisted_11 = {\n  class: \"flex flex-col px-2 w-1/8\"\n};\nconst _hoisted_12 = {\n  class: \"flex flex-col px-2 w-3/8\"\n};\nconst _hoisted_13 = {\n  class: \"px-5 w-full md:px-10\"\n};\nconst _hoisted_14 = {\n  class: \"mt-2 mb-3\"\n};\nconst _hoisted_15 = {\n  class: \"mt-2 mb-3\"\n};\nconst _hoisted_16 = {\n  key: 0\n};\nconst _hoisted_17 = {\n  key: 1\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"h-30\"\n}, \"Empty Space\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AppLogo = _resolveComponent(\"AppLogo\");\n  const _component_icon_base_two = _resolveComponent(\"icon-base-two\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_section_title = _resolveComponent(\"section-title\");\n  const _component_CoinsIcon = _resolveComponent(\"CoinsIcon\");\n  const _component_SquareCheckIcon = _resolveComponent(\"SquareCheckIcon\");\n  const _component_EdCoinTransactionPill = _resolveComponent(\"EdCoinTransactionPill\");\n  const _component_CoinsBottomNavBar = _resolveComponent(\"CoinsBottomNavBar\");\n  const _component_dashboard_layout = _resolveComponent(\"dashboard-layout\");\n  return _openBlock(), _createBlock(_component_dashboard_layout, {\n    \"has-custom-bottom-bar\": true\n  }, {\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_router_link, {\n      class: \"w-2/7\",\n      to: {\n        name: $data.homeURL\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_icon_base_two, null, {\n        default: _withCtx(() => [_createVNode(_component_AppLogo)], undefined, true),\n        _: 1 /* STABLE */\n      })], undefined, true),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"to\"])]), _createCommentVNode(\" total coins \"), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_section_title, {\n      class: \"text-left\",\n      title: \"Coins\"\n    }), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_CoinsIcon)]), _createElementVNode(\"div\", _hoisted_6, _toDisplayString($data.trxResult.length === 0 ? 0 : $data.trxResult.at(0).balance) + \" Coins \", 1 /* TEXT */), _createVNode(_component_router_link, {\n      class: \"flex flex-col px-2 w-1/2 text-right\",\n      to: {\n        name: 'coin.top_up'\n      }\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" Top-Up \")], undefined, true),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"to\"])])])]), _createCommentVNode(\" total marks \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_section_title, {\n      class: \"text-left\",\n      title: \"Marks\"\n    }), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createVNode(_component_SquareCheckIcon)]), _createElementVNode(\"div\", _hoisted_12, _toDisplayString($data.availableMarks) + \" Marks Available \", 1 /* TEXT */), _createVNode(_component_router_link, {\n      class: \"flex flex-col px-2 w-1/2 text-right\",\n      to: {\n        name: 'coin.top_up_redeem_marks'\n      }\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" Redeem \")], undefined, true),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"to\"])])])])]), _createCommentVNode(\" transaction history \"), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"p\", null, \"Showing \" + _toDisplayString($data.trxResult.length) + \" transaction(s)\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_15, [_createVNode(_component_section_title, {\n      class: \"mb-5 text-left\",\n      title: \"Transaction History\"\n    }), $data.trxResult.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, \" No transactions \")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.trxResult, trx => {\n      return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_router_link, {\n        to: {\n          name: 'coin.trxDetail',\n          params: {\n            trxID: trx.id\n          }\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_EdCoinTransactionPill, {\n          trxID: trx.id,\n          trxAmount: trx.amount,\n          date: trx.created_at\n        }, null, 8 /* PROPS */, [\"trxID\", \"trxAmount\", \"date\"])], undefined, true),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]);\n    }), 256 /* UNKEYED_FRAGMENT */))]))])]), _hoisted_18]),\n    bottomBar: _withCtx(() => [_createVNode(_component_CoinsBottomNavBar)]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","_createBlock","_component_dashboard_layout","content","_withCtx","_hoisted_1","_createVNode","_component_router_link","to","name","$data","homeURL","_component_icon_base_two","_component_AppLogo","_createCommentVNode","_hoisted_2","_component_section_title","title","_hoisted_3","_hoisted_4","_hoisted_5","_component_CoinsIcon","_hoisted_6","_toDisplayString","trxResult","length","at","balance","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_component_SquareCheckIcon","_hoisted_12","availableMarks","_hoisted_13","_hoisted_14","_hoisted_15","_createElementBlock","_hoisted_16","_hoisted_17","_Fragment","_renderList","trx","params","trxID","id","_component_EdCoinTransactionPill","trxAmount","amount","date","created_at","_hoisted_18","bottomBar","_component_CoinsBottomNavBar"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/edcoins/CoinHome.vue"],"sourcesContent":["<template>\n  <dashboard-layout :has-custom-bottom-bar=\"true\" >\n\n    <template v-slot:content>\n      <div class=\"flex flex-col px-5 w-full md:px-10\">\n        <router-link class=\"w-2/7\" :to=\"{ name: homeURL }\">\n          <icon-base-two>\n            <AppLogo/>\n          </icon-base-two>\n        </router-link>\n      </div>\n\n      <!-- total coins -->\n      <div class=\"px-5 w-full md:px-10\">\n        <section-title class=\"text-left\" title=\"Coins\"/>\n        <div class=\"overflow-hidden justify-between py-3 px-3 max-w-sm md:max-w-xl h-full rounded rounded-xl bg-gray-secondary\">\n          <div class=\"flex flex-row items-center h-full text-left text-purple-primary\">\n            <div class=\"flex flex-col px-2 w-1/8\">\n              <CoinsIcon />\n            </div>\n            <div class=\"flex flex-col px-2 w-3/8\">\n              {{ trxResult.length === 0 ? 0 : trxResult.at(0).balance }} Coins\n            </div>\n            <router-link class=\"flex flex-col px-2 w-1/2 text-right\" :to=\"{ name: 'coin.top_up' }\">\n              Top-Up\n            </router-link>\n          </div>\n        </div>\n      </div>\n\n      <!-- total marks -->\n      <div class=\"px-5 w-full md:px-10\">\n        <div class=\"mt-3 mb-3\">\n          <section-title class=\"text-left\" title=\"Marks\"/>\n          <div class=\"overflow-hidden justify-between py-3 px-3 max-w-sm md:max-w-xl h-full rounded rounded-xl bg-gray-secondary\">\n            <div class=\"flex flex-row items-center h-full text-left text-purple-primary\">\n              <div class=\"flex flex-col px-2 w-1/8\">\n                <SquareCheckIcon />\n              </div>\n              <div class=\"flex flex-col px-2 w-3/8\">\n                {{ availableMarks }} Marks Available\n              </div>\n              <router-link class=\"flex flex-col px-2 w-1/2 text-right\" :to=\"{ name: 'coin.top_up_redeem_marks' }\">\n                Redeem\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- transaction history -->\n      <div class=\"px-5 w-full md:px-10\">\n        <div class=\"mt-2 mb-3\">\n          <p>Showing {{ trxResult.length }} transaction(s)</p>\n        </div>\n\n        <div class=\"mt-2 mb-3\">\n          <section-title class=\"mb-5 text-left\" title=\"Transaction History\" />\n          <div v-if=\"trxResult.length === 0\">\n            No transactions\n          </div>\n          <div v-else>\n            <div v-for=\"trx in trxResult\">\n              <router-link :to=\"{ name: 'coin.trxDetail', params: { trxID: trx.id }}\">\n                <EdCoinTransactionPill :trxID=trx.id :trxAmount=trx.amount  :date=trx.created_at />\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"h-30\">Empty Space</div>\n\n    </template>\n\n    <template v-slot:bottomBar>\n      <CoinsBottomNavBar />\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\nimport AppLogo from \"@/components/icons/AppLogo\";\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport SectionTitle from \"@/components/SectionTitle\";\nimport EdCoinTransactionPill from \"../../components/EdCoinTransactionPill.vue\";\nimport CoinsBottomNavBar from \"@/components/CoinsBottomNavBar.vue\";\nimport CoinsIcon from \"../../components/icons/CoinsIcon.vue\";\nimport SquareCheckIcon from \"../../components/icons/SquareCheckIcon.vue\";\nimport coin_routes from \"../../router/coin_routes\";\nimport CoinsRepository from \"../../repositories/CoinsRepository\";\n\nexport default {\n  name: \"CoinHome\",\n  data() {\n    return {\n      bottomBarClass: true,\n      tabs: [],\n      trxCount: 0,\n      trxResult: [],\n      availableMarks: 0,\n      homeURL: this.$store.getters.getAuthUserRole == 'Teacher' ? 'teacher.home' : 'student.home',\n    };\n  },\n  mounted() {\n    console.log('CoinHome Mounted');\n\n    // load up the transactions\n    CoinsRepository.coinTrxList().then((res) => {\n      console.log('get coins trx history', res);\n      this.trxResult = res.data;\n    })\n\n    CoinsRepository.marksForCoinsList().then((response) => {\n      console.log(response);\n      this.availableMarks = response.data.marks.reduce((a, v) => {\n        if(v.amount_redeemed === null){\n          return a += v.final_marks;\n        } else {\n          return a;\n        }\n      }, 0);\n    });\n\n  },\n  methods: {\n    sliderUpdate(e){\n      console.log('slider value', e.target.value);\n      this.trxCount = parseInt(e.target.value);\n    }\n\n  },\n  components: {\n    AppLogo, DashboardLayout, IconBaseTwo, SectionTitle, EdCoinTransactionPill,\n    SquareCheckIcon, CoinsIcon, CoinsBottomNavBar, coin_routes,\n}\n}\n\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}