{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport StickerLoader from \"@/views/teachers/TeacherAssignments/Mark/Components/StickerLoader\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport TickedBoxIcon from \"@/components/icons/TickedBoxIcon\";\nimport DialogBubbleIcon from \"@/components/icons/DialogBubbleIcon\";\nimport router from \"@/router\";\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faCheckCircle } from '@fortawesome/free-regular-svg-icons';\nimport { faFont } from '@fortawesome/free-solid-svg-icons';\nimport { faMarker } from '@fortawesome/free-solid-svg-icons';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nexport default {\n  name: \"BottomBar\",\n  data() {\n    return {\n      show: true,\n      icons: {\n        checkCircle: faCheckCircle,\n        font: faFont,\n        marker: faMarker,\n        trash: faTrash\n      }\n    };\n  },\n  computed: {\n    hideMarkingOptions() {\n      return this.$store.state.teacherMarking.states.isDrawing || this.$store.state.teacherMarking.states.isMovingObject;\n    },\n    bottomBarClass() {\n      if (this.$store.state.teacherMarking.states.isMarking) {\n        return 'bg-black-primary z-70';\n      } else {\n        return 'bg-white z-60 ';\n      }\n    },\n    showBottomBar() {\n      // check if submission is tagged as unanswered\n      let tag = this.$store.state.teacherMarking.assignmentDetails.answer_tag;\n\n      // Show if is not loading or preparing canvas\n      let show = this.$store.state.teacherMarking.states.isLoading === false && this.$store.getters[\"teacherMarking/isPreparingCanvas\"] === false;\n      if (tag) {\n        return tag !== 'unanswered';\n      } else {\n        return show;\n      }\n    }\n  },\n  methods: {\n    togglePreviewMode() {\n      this.scrollToTop();\n      this.$store.commit('teacherMarking/togglePreviewMode');\n    },\n    toggleStickerBar() {\n      this.$store.commit('teacherMarking/resetObjectSelection');\n      this.$store.commit('teacherMarking/toggleStickerBar');\n    },\n    beginDrawingMode() {\n      this.$store.commit('teacherMarking/resetObjectSelection');\n      this.$store.dispatch('teacherMarking/beginDrawingMode');\n    },\n    loadTextBox() {\n      this.$store.commit('teacherMarking/resetObjectSelection');\n      this.$store.dispatch('teacherMarking/loadTextBox');\n    },\n    doneEditSnappedAnswer() {\n      this.$store.dispatch('teacherMarking/doneEditSnappedAnswer').then(() => {\n        router.push({\n          name: 'teacher.assignments.marking.details'\n        });\n      });\n    },\n    setAsMarked() {\n      this.$store.dispatch('teacherMarking/submit').then(submissionID => {\n        this.$store.dispatch('teacherMarking/fetchData', submissionID);\n      }).catch(err => {\n        console.log('Please add a mark first!');\n      });\n    },\n    handleRouteChange() {\n      let path = this.$route.path;\n      this.show = !(path.includes('/add-mark') || path.includes('/feedback'));\n    },\n    scrollToTop() {\n      window.scroll({\n        top: 0,\n        left: 0,\n        behavior: 'smooth'\n      });\n    }\n  },\n  components: {\n    DialogBubbleIcon,\n    TickedBoxIcon,\n    IconBaseTwo,\n    StickerLoader,\n    faCheckCircle,\n    FontAwesomeIcon\n  }\n};","map":{"version":3,"names":["StickerLoader","IconBaseTwo","TickedBoxIcon","DialogBubbleIcon","router","library","faCheckCircle","faFont","faMarker","faTrash","FontAwesomeIcon","name","data","show","icons","checkCircle","font","marker","trash","computed","hideMarkingOptions","$store","state","teacherMarking","states","isDrawing","isMovingObject","bottomBarClass","isMarking","showBottomBar","tag","assignmentDetails","answer_tag","isLoading","getters","methods","togglePreviewMode","scrollToTop","commit","toggleStickerBar","beginDrawingMode","dispatch","loadTextBox","doneEditSnappedAnswer","then","push","setAsMarked","submissionID","catch","err","console","log","handleRouteChange","path","$route","includes","window","scroll","top","left","behavior","components"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherAssignments/Mark/Components/BottomBar.vue"],"sourcesContent":["<template>\n\n  <!-- BOTTOM BAR -->\n\n  <div v-if=\"showBottomBar\" :class=\"bottomBarClass\"\n       class=\"md:max-w-xl mx-auto block fixed inset-x-0 bottom-0 shadow md:shadow-none pt-4 pb-6 px-5\">\n\n    <div class=\"w-full md:max-w-xl mx-auto\">\n\n      <div v-if=\"this.$store.getters['teacherMarking/isMarkedAssignment']\" class=\"w-full flex flex-row\">\n        <div @click=\"togglePreviewMode\" v-if=\"$store.state.teacherMarking.states.isMain\"\n             class=\"w-full font-bold rounded-full text-purple-primary text-sm border-2 border-purple-primary bg-white py-3 px-1 flex flex-row justify-center\">\n          View Markings\n        </div>\n      </div>\n\n      <div v-else-if=\"$store.state.teacherMarking.states.isMarking\" class=\"z-70\">\n\n        <div v-if=\"$store.state.teacherMarking.states.isSelectingSticker\"\n             class=\"fixed inset-x-0 z-70 bg-white block bottom-0 h-3/5 md:h-3/7 rounded-t-2xl shadow-xl\"\n        >\n          <button @click=\"toggleStickerBar\" class=\"bg-gray-primary h-2 w-1/5 rounded-full mt-3\"></button>\n          <!-- STICKER LOADER -->\n          <sticker-loader class=\"mt-5\"/>\n        </div>\n        <div v-else-if=\"hideMarkingOptions\">\n        </div>\n        <div v-else class=\"flex flex-row w-full h-full items-center justify-between\">\n\n          <!-- MARKING ACTIONS -->\n          <div class=\"flex flex-row w-2/3\">\n            <div @click=\"toggleStickerBar\" class=\"px-3\">\n              <font-awesome-icon class=\"w-full fa-2x text-white\" :icon=\"icons.checkCircle\"/>\n            </div>\n            <div @click=\"loadTextBox\" class=\"px-3\">\n              <font-awesome-icon class=\"w-full fa-2x text-white\" :icon=\"icons.font\"/>\n            </div>\n            <div @click=\"beginDrawingMode\" class=\"px-3\">\n              <font-awesome-icon class=\"w-full fa-2x text-white\" :icon=\"icons.marker\"/>\n            </div>\n          </div>\n\n          <div class=\"w-1/3 px-1\">\n            <button @click=\"doneEditSnappedAnswer\"\n                    class=\"w-full font-bold rounded-full text-purple-primary text-sm bg-yellow-primary py-3 px-1 flex flex-row justify-center\">\n              <div class=\"w-5/7\">\n                Done\n              </div>\n            </button>\n          </div>\n\n          <!--            <div class=\"w-1/3 px-1\"  >-->\n\n          <!--              <button @click=\"toggleStickerBar\"-->\n          <!--                      class=\"w-full font-bold rounded-full text-white text-sm bg-transparent border-1 border-white py-3 px-1 flex flex-row justify-center\">-->\n          <!--               -->\n\n\n          <!--                                <div class=\"w-5/7\">-->\n          <!--                                  Markers-->\n          <!--                                </div>-->\n          <!--                                <icon-base-two class=\"w-1/7\">-->\n          <!--                                  <ticked-box-icon/>-->\n          <!--                                </icon-base-two>-->\n          <!--              </button>-->\n          <!--            </div>-->\n          <!--            <div class=\"w-1/3 px-1\">-->\n          <!--              <button @click=\"loadTextBox\"-->\n          <!--                      class=\"w-full font-bold rounded-full text-white text-sm bg-transparent border-1 border-white py-3 px-1 flex flex-row justify-center\">-->\n          <!--                <div class=\"w-5/7\">-->\n          <!--                  Text-->\n          <!--                </div>-->\n          <!--              </button>-->\n          <!--            </div>-->\n\n        </div>\n      </div>\n\n      <div v-else-if=\"$store.state.teacherMarking.states.isMain\" class=\"w-full flex flex-row items-center\">\n        <button @click=\"togglePreviewMode\"\n                class=\"w-full font-bold rounded-full text-purple-primary text-sm border-2 border-purple-primary bg-white py-3 px-1 flex flex-row justify-center hover:text-white hover:bg-purple-primary\">\n          Begin Marking\n        </button>\n      </div>\n\n      <div v-else class=\"w-full flex flex-row items-center\">\n        <router-link :to=\"{name: 'teacher.assignments.marking.feedback'}\" class=\"w-1/8 mr-2\">\n          <icon-base-two class=\"w-7/8\">\n            <dialog-bubble-icon/>\n          </icon-base-two>\n        </router-link>\n        <div class=\"w-3/8 px-2\">\n          <router-link :to=\"{name: 'teacher.assignments.marking.add_mark'}\"\n                       class=\"w-full font-bold rounded-full text-purple-primary text-sm border-2 border-purple-primary bg-white py-3 px-1 flex flex-row justify-center hover:text-white hover:bg-purple-primary\"\n          >\n            Add Mark\n          </router-link>\n        </div>\n        <div class=\"w-4/8 px-2\">\n          <button @click=\"setAsMarked\"\n                  class=\"w-full font-bold bg-yellow-primary rounded-full text-purple-primary text-sm py-3 px-1 flex flex-row justify-center\">\n            <div class=\"w-5/7\">\n              Set as Marked\n            </div>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport StickerLoader from \"@/views/teachers/TeacherAssignments/Mark/Components/StickerLoader\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport TickedBoxIcon from \"@/components/icons/TickedBoxIcon\";\nimport DialogBubbleIcon from \"@/components/icons/DialogBubbleIcon\";\nimport router from \"@/router\";\n\nimport {library} from '@fortawesome/fontawesome-svg-core'\nimport {faCheckCircle} from '@fortawesome/free-regular-svg-icons'\nimport {faFont} from '@fortawesome/free-solid-svg-icons'\nimport {faMarker} from '@fortawesome/free-solid-svg-icons'\nimport {faTrash} from '@fortawesome/free-solid-svg-icons'\nimport {FontAwesomeIcon} from '@fortawesome/vue-fontawesome'\n\nexport default {\n  name: \"BottomBar\",\n  data() {\n    return {\n      show: true,\n\n      icons: {\n        checkCircle: faCheckCircle,\n        font: faFont,\n        marker: faMarker,\n        trash: faTrash\n      }\n    }\n  },\n  computed: {\n    hideMarkingOptions() {\n      return this.$store.state.teacherMarking.states.isDrawing || this.$store.state.teacherMarking.states.isMovingObject\n    },\n    bottomBarClass() {\n      if (this.$store.state.teacherMarking.states.isMarking) {\n        return 'bg-black-primary z-70'\n      } else {\n        return 'bg-white z-60 '\n      }\n    },\n    showBottomBar() {\n\n      // check if submission is tagged as unanswered\n      let tag = this.$store.state.teacherMarking.assignmentDetails.answer_tag;\n\n      // Show if is not loading or preparing canvas\n      let show = this.$store.state.teacherMarking.states.isLoading === false && this.$store.getters[\"teacherMarking/isPreparingCanvas\"] === false;\n\n      if (tag) {\n        return tag !== 'unanswered';\n      } else {\n        return show\n      }\n    }\n  },\n  methods: {\n    togglePreviewMode() {\n      this.scrollToTop();\n      this.$store.commit('teacherMarking/togglePreviewMode');\n    },\n    toggleStickerBar() {\n      this.$store.commit('teacherMarking/resetObjectSelection')\n      this.$store.commit('teacherMarking/toggleStickerBar')\n    },\n    beginDrawingMode() {\n      this.$store.commit('teacherMarking/resetObjectSelection')\n      this.$store.dispatch('teacherMarking/beginDrawingMode')\n    },\n    loadTextBox() {\n      this.$store.commit('teacherMarking/resetObjectSelection')\n      this.$store.dispatch('teacherMarking/loadTextBox')\n    },\n    doneEditSnappedAnswer() {\n      this.$store.dispatch('teacherMarking/doneEditSnappedAnswer')\n          .then(() => {\n            router.push({name: 'teacher.assignments.marking.details'});\n          })\n    },\n\n    setAsMarked() {\n\n      this.$store.dispatch('teacherMarking/submit')\n          .then((submissionID) => {\n            this.$store.dispatch('teacherMarking/fetchData', submissionID)\n          })\n          .catch(err => {\n            console.log('Please add a mark first!')\n          })\n    },\n\n    handleRouteChange() {\n      let path = this.$route.path;\n      this.show = !(path.includes('/add-mark') || path.includes('/feedback'));\n    },\n\n    scrollToTop() {\n      window.scroll({\n        top: 0,\n        left: 0,\n        behavior: 'smooth'\n      });\n    },\n  },\n  components: {\n    DialogBubbleIcon,\n    TickedBoxIcon,\n    IconBaseTwo,\n    StickerLoader,\n    faCheckCircle,\n    FontAwesomeIcon\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}