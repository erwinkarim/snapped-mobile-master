{"remainingRequest":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherAssignments/Mark/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherAssignments/Mark/Index.vue","mtime":1679379067248},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/babel.config.js","mtime":1679379067182},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/babel-loader/lib/index.js","mtime":1680059914906},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/cache-loader/dist/cjs.js","mtime":1680070113546},{"path":"/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/node_modules/vue-loader/lib/index.js","mtime":1680070113705}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFBhZ2VIZWFkZXJUaHJlZSBmcm9tICJAL2NvbXBvbmVudHMvUGFnZUhlYWRlclRocmVlIjsKaW1wb3J0IE5hdkJhY2sgZnJvbSAiQC9jb21wb25lbnRzL05hdkJhY2siOwppbXBvcnQgSWNvbkJhc2VUd28gZnJvbSAiQC9jb21wb25lbnRzL0ljb25CYXNlVHdvIjsKaW1wb3J0IEFycm93QmFja0ljb24gZnJvbSAiQC9jb21wb25lbnRzL2ljb25zL0Fycm93QmFja0ljb24iOwppbXBvcnQgRXhwYW5kSW1hZ2VJY29uIGZyb20gIkAvY29tcG9uZW50cy9pY29ucy9FeHBhbmRJbWFnZUljb24iOwppbXBvcnQgQm90dG9tQmFyIGZyb20gIkAvdmlld3MvdGVhY2hlcnMvVGVhY2hlckFzc2lnbm1lbnRzL01hcmsvQ29tcG9uZW50cy9Cb3R0b21CYXIiOwppbXBvcnQgU3VibWlzc2lvblJlcG9zaXRvcnkgZnJvbSAiQC9yZXBvc2l0b3JpZXMvU3VibWlzc2lvblJlcG9zaXRvcnkiOwppbXBvcnQgTW9kYWwgZnJvbSAiQC9jb21wb25lbnRzL01vZGFsIjsKaW1wb3J0IE1hcmtzUmVwb3NpdG9yeSBmcm9tICJAL3JlcG9zaXRvcmllcy90ZWFjaGVycy9NYXJrc1JlcG9zaXRvcnkiOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgVW5kb0ljb24gZnJvbSAiQC9jb21wb25lbnRzL2ljb25zL1VuZG9JY29uIjsKaW1wb3J0IFBhZ2VIZWFkZXIgZnJvbSAiQC92aWV3cy90ZWFjaGVycy9UZWFjaGVyQXNzaWdubWVudHMvTWFyay9Db21wb25lbnRzL1BhZ2VIZWFkZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkluZGV4IiwKICBwcm9wczogewogICAgc3VibWlzc2lvbklEOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgbWFya0lEOiBbU3RyaW5nLCBOdW1iZXJdCiAgfSwKICB3YXRjaDogewogICAgJyRyb3V0ZSc6ICdoYW5kbGVSb3V0ZUNoYW5nZScKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb250YWluZXJDbGFzczogZnVuY3Rpb24gKCkgewogICAgICBsZXQgdmFsdWUgPSAnYmctd2hpdGUgbWItNDAgJzsKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnRlYWNoZXJNYXJraW5nLnN0YXRlcy5pc01hcmtpbmcpIHsKICAgICAgICB2YWx1ZSA9ICdiZy1ibGFjay1wcmltYXJ5JzsKICAgICAgfQogICAgICByZXR1cm4gdmFsdWU7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVSb3V0ZUNoYW5nZSgpIHsKICAgICAgdGhpcy5zY3JvbGxUb1RvcCgpOwogICAgICBsZXQgcGF0aCA9IHRoaXMuJHJvdXRlLm5hbWU7CiAgICAgIGlmIChwYXRoID09PSAndGVhY2hlci5hc3NpZ25tZW50cy5tYXJraW5nLmRldGFpbHMnICYmICF0aGlzLiRzdG9yZS5zdGF0ZS50ZWFjaGVyTWFya2luZy5zdGF0ZXMuaXNQcmV2aWV3aW5nKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd0ZWFjaGVyTWFya2luZy9zZXRNYWluTW9kZScpOwogICAgICB9CiAgICAgIGlmIChwYXRoID09PSAndGVhY2hlci5hc3NpZ25tZW50cy5tYXJraW5nLmZlZWRiYWNrJykgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndGVhY2hlck1hcmtpbmcvc2V0V3JpdGluZ0ZlZWRiYWNrTW9kZScpOwogICAgICB9CiAgICB9LAogICAgdG9nZ2xlU3RpY2tlckJhcigpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ0ZWFjaGVyTWFya2luZy90b2dnbGVTdGlja2VyQmFyIik7CiAgICB9LAogICAgdG9nZ2xlTW9kYWxNb2RlKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RlYWNoZXJNYXJraW5nL3RvZ2dsZU1vZGFsTW9kZScpOwogICAgfSwKICAgIHNjcm9sbFRvVG9wKCkgewogICAgICB3aW5kb3cuc2Nyb2xsKHsKICAgICAgICB0b3A6IDAsCiAgICAgICAgbGVmdDogMCwKICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgLy8gdGhpcy4kc3RvcmUuY29tbWl0KCd0ZWFjaGVyTWFya2luZy9zZXRJbml0aWFsQ2FudmFzRGltZW5zaW9ucycpCiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RlYWNoZXJNYXJraW5nL3NldEluaXRpYWxDYW52YXNEaW1lbnNpb25zJywgdGhpcy4kcmVmcy5jb250YWluZXIuY2xpZW50V2lkdGgsIHRoaXMuJHJlZnMuY29udGFpbmVyLmNsaWVudEhlaWdodCk7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGVhY2hlck1hcmtpbmcvZmV0Y2hEYXRhJywgdGhpcy5zdWJtaXNzaW9uSUQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidGVhY2hlck1hcmtpbmcvYnVsa0NvbnZlcnRTdWJtaXNzaW9uc1RvRGF0YVVSTCIpOwogICAgfSk7CiAgfSwKICBkZXN0cm95ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RlYWNoZXJNYXJraW5nL3Jlc2V0U3RhdGUnKTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFBhZ2VIZWFkZXIsCiAgICBVbmRvSWNvbiwKICAgIE1vZGFsLAogICAgQm90dG9tQmFyLAogICAgRXhwYW5kSW1hZ2VJY29uLAogICAgQXJyb3dCYWNrSWNvbiwKICAgIEljb25CYXNlVHdvLAogICAgTmF2QmFjaywKICAgIFBhZ2VIZWFkZXJUaHJlZQogIH0KfTs="},{"version":3,"names":["PageHeaderThree","NavBack","IconBaseTwo","ArrowBackIcon","ExpandImageIcon","BottomBar","SubmissionRepository","Modal","MarksRepository","router","moment","UndoIcon","PageHeader","name","props","submissionID","String","Number","markID","watch","computed","containerClass","value","$store","state","teacherMarking","states","isMarking","methods","handleRouteChange","scrollToTop","path","$route","isPreviewing","commit","toggleStickerBar","toggleModalMode","window","scroll","top","left","behavior","mounted","$refs","container","clientWidth","clientHeight","dispatch","then","response","destroyed","components"],"sources":["src/views/teachers/TeacherAssignments/Mark/Index.vue"],"sourcesContent":["<template>\n  <div :class=\"containerClass\" ref=\"container\"\n       class=\"h-full md:max-w-xl mx-auto\"\n  >\n\n    <!---------------------\n            OVERLAYS\n     --------------------->\n    <div v-if=\"$store.state.teacherMarking.states.isShowingModal\" @click=\"toggleModalMode()\"\n         class=\"fixed w-full bg-black-primary bg-opacity-25 h-screen z-70 flex flex-col justify-center items-center inset-x-0 block top-0 \">\n    </div>\n    <div v-if=\"$store.state.teacherMarking.states.isSelectingSticker\" @click=\"toggleStickerBar\"\n         class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center inset-x-0 block top-0 \">\n    </div>\n\n\n    <!---------------------\n            MODAL\n     --------------------->\n    <div v-if=\"$store.state.teacherMarking.states.isShowingModal\"\n         class=\"fixed left-0 w-full items-center flex flex-col items-center justify-center top-1/4 z-70\">\n\n      <!-- ERROR: Missing mark. Prompt user to add mark before submitting  -->\n      <modal v-if=\"$store.state.teacherMarking.nowShowingModal === 'error_missing_mark'\"\n             modal-type=\"error\"\n             @toggleModal=\"toggleModalMode()\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          You must add mark for this assignment.\n        </template>\n        <template slot=\"button\">\n          Okay\n        </template>\n      </modal>\n\n      <!-- ERROR: Invalid image type. Some photos not converted to dataURL yet.  -->\n      <modal v-if=\"$store.state.teacherMarking.nowShowingModal === 'error_invalid_image_type'\"\n             modal-type=\"error\"\n             @toggleModal=\"toggleModalMode()\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          Please retry.\n        </template>\n        <template slot=\"button\">\n          Okay\n        </template>\n      </modal>\n\n      <!-- ERROR: Submissions failed  -->\n      <modal v-if=\"$store.state.teacherMarking.nowShowingModal === 'error_submit_markings'\"\n             modal-type=\"error\"\n             @toggleModal=\"toggleModalMode()\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          {{ $store.state.teacherMarking.states.errorMessages || 'Oops! There seems to be an error in your submission.'}}\n        </template>\n        <template slot=\"button\">\n          Okay\n        </template>\n      </modal>\n\n      <modal v-if=\"$store.state.teacherMarking.nowShowingModal === 'is_checking'\"\n          @toggleModal=\"toggleModalMode()\"\n             modal-type=\"no-icon\"\n             :has-button=\"false\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          Checking...\n        </template>\n      </modal>\n\n      <modal v-if=\"$store.state.teacherMarking.nowShowingModal === 'is_submitting'\"\n          @toggleModal=\"toggleModalMode()\"\n             :has-button=\"false\"\n             class=\"w-4/5 \"\n      >\n        <template slot=\"message\">\n          Submitting marking...\n        </template>\n      </modal>\n\n    </div>\n\n    <!-- HEADER -->\n    <page-header/>\n\n    <!-- CONTENT -->\n    <div class=\"relative\">\n      <router-view/>\n    </div>\n\n    <!-- BOTTOM -->\n    <bottom-bar/>\n\n  </div>\n</template>\n\n<script>\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport NavBack from \"@/components/NavBack\";\nimport IconBaseTwo from \"@/components/IconBaseTwo\";\nimport ArrowBackIcon from \"@/components/icons/ArrowBackIcon\";\nimport ExpandImageIcon from \"@/components/icons/ExpandImageIcon\";\nimport BottomBar from \"@/views/teachers/TeacherAssignments/Mark/Components/BottomBar\";\nimport SubmissionRepository from \"@/repositories/SubmissionRepository\";\nimport Modal from \"@/components/Modal\";\nimport MarksRepository from \"@/repositories/teachers/MarksRepository\";\nimport router from \"@/router\";\nimport moment from \"moment\";\nimport UndoIcon from \"@/components/icons/UndoIcon\";\nimport PageHeader from \"@/views/teachers/TeacherAssignments/Mark/Components/PageHeader\";\n\nexport default {\n  name: \"Index\",\n  props: {\n    submissionID: [String, Number],\n    markID: [String, Number],\n  },\n\n  watch: {\n    '$route': 'handleRouteChange',\n  },\n  computed: {\n\n    containerClass: function () {\n      let value = 'bg-white mb-40 ';\n\n      if (this.$store.state.teacherMarking.states.isMarking) {\n        value = 'bg-black-primary';\n      }\n\n      return value;\n    },\n\n\n  },\n  methods: {\n    handleRouteChange() {\n\n      this.scrollToTop();\n\n\n      let path = this.$route.name;\n\n      if (path === 'teacher.assignments.marking.details' && !this.$store.state.teacherMarking.states.isPreviewing) {\n        this.$store.commit('teacherMarking/setMainMode')\n      }\n\n      if (path === 'teacher.assignments.marking.feedback') {\n        this.$store.commit('teacherMarking/setWritingFeedbackMode')\n      }\n    },\n\n    toggleStickerBar() {\n      this.$store.commit(\"teacherMarking/toggleStickerBar\")\n    },\n\n    toggleModalMode() {\n      this.$store.commit('teacherMarking/toggleModalMode')\n    },\n\n    scrollToTop() {\n      window.scroll({\n        top: 0,\n        left: 0,\n        behavior: 'smooth'\n      });\n    },\n  },\n  mounted() {\n    // this.$store.commit('teacherMarking/setInitialCanvasDimensions')\n    this.$store.commit('teacherMarking/setInitialCanvasDimensions', this.$refs.container.clientWidth, this.$refs.container.clientHeight)\n    this.$store.dispatch('teacherMarking/fetchData', this.submissionID)\n        .then(response => {\n          this.$store.dispatch(\"teacherMarking/bulkConvertSubmissionsToDataURL\")\n        })\n  },\n  destroyed() {\n    this.$store.commit('teacherMarking/resetState')\n  },\n  components: {\n    PageHeader,\n    UndoIcon, Modal, BottomBar, ExpandImageIcon, ArrowBackIcon, IconBaseTwo, NavBack, PageHeaderThree\n  },\n\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":"AAsGA,OAAAA,eAAA;AACA,OAAAC,OAAA;AACA,OAAAC,WAAA;AACA,OAAAC,aAAA;AACA,OAAAC,eAAA;AACA,OAAAC,SAAA;AACA,OAAAC,oBAAA;AACA,OAAAC,KAAA;AACA,OAAAC,eAAA;AACA,OAAAC,MAAA;AACA,OAAAC,MAAA;AACA,OAAAC,QAAA;AACA,OAAAC,UAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,YAAA,GAAAC,MAAA,EAAAC,MAAA;IACAC,MAAA,GAAAF,MAAA,EAAAC,MAAA;EACA;EAEAE,KAAA;IACA;EACA;EACAC,QAAA;IAEAC,cAAA,WAAAA,CAAA;MACA,IAAAC,KAAA;MAEA,SAAAC,MAAA,CAAAC,KAAA,CAAAC,cAAA,CAAAC,MAAA,CAAAC,SAAA;QACAL,KAAA;MACA;MAEA,OAAAA,KAAA;IACA;EAGA;EACAM,OAAA;IACAC,kBAAA;MAEA,KAAAC,WAAA;MAGA,IAAAC,IAAA,QAAAC,MAAA,CAAAnB,IAAA;MAEA,IAAAkB,IAAA,oDAAAR,MAAA,CAAAC,KAAA,CAAAC,cAAA,CAAAC,MAAA,CAAAO,YAAA;QACA,KAAAV,MAAA,CAAAW,MAAA;MACA;MAEA,IAAAH,IAAA;QACA,KAAAR,MAAA,CAAAW,MAAA;MACA;IACA;IAEAC,iBAAA;MACA,KAAAZ,MAAA,CAAAW,MAAA;IACA;IAEAE,gBAAA;MACA,KAAAb,MAAA,CAAAW,MAAA;IACA;IAEAJ,YAAA;MACAO,MAAA,CAAAC,MAAA;QACAC,GAAA;QACAC,IAAA;QACAC,QAAA;MACA;IACA;EACA;EACAC,QAAA;IACA;IACA,KAAAnB,MAAA,CAAAW,MAAA,mDAAAS,KAAA,CAAAC,SAAA,CAAAC,WAAA,OAAAF,KAAA,CAAAC,SAAA,CAAAE,YAAA;IACA,KAAAvB,MAAA,CAAAwB,QAAA,kCAAAhC,YAAA,EACAiC,IAAA,CAAAC,QAAA;MACA,KAAA1B,MAAA,CAAAwB,QAAA;IACA;EACA;EACAG,UAAA;IACA,KAAA3B,MAAA,CAAAW,MAAA;EACA;EACAiB,UAAA;IACAvC,UAAA;IACAD,QAAA;IAAAJ,KAAA;IAAAF,SAAA;IAAAD,eAAA;IAAAD,aAAA;IAAAD,WAAA;IAAAD,OAAA;IAAAD;EACA;AAEA"}]}