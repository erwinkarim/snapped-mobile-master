{"ast":null,"code":"import DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport NavBack from \"@/components/NavBack\";\nimport Modal from \"@/components/Modal\";\nimport GoogleClassroomRepository from \"@/repositories/GoogleClassroomRepository\";\nexport default {\n  name: \"Index\",\n  data() {\n    return {\n      // states\n      isLoading: true,\n      isExporting: false,\n      isSuccessful: false,\n      hasError: false,\n      selectedFolder: null,\n      folders: []\n    };\n  },\n  computed: {\n    isGoogleClassroomIntegrated() {\n      return this.$store.getters.getGoogleIntegrated;\n    }\n  },\n  methods: {\n    fetchFolders() {\n      GoogleClassroomRepository.fetchFolders().then(response => {\n        if (response.data.success) {\n          this.isLoading = false;\n          this.folders = response.data.data.folders;\n        }\n      });\n    },\n    submit() {\n      if (this.selectedFolder) {\n        let payload = {\n          folderID: this.selectedFolder.id,\n          assignmentID: this.$attrs.assignmentID\n        };\n\n        // Set state to isExporting\n        this.isExporting = true;\n        GoogleClassroomRepository.export(payload).then(response => {\n          if (response.data.success) {\n            this.isExporting = false;\n            this.isSuccessful = true;\n          } else {\n            this.hasError = true;\n          }\n        }).catch(error => {\n          console.log('Oops! It seems that there is something wrong with this export module.');\n        });\n      }\n    }\n  },\n  created() {\n    this.fetchFolders();\n  },\n  components: {\n    NavBack,\n    PageHeaderThree,\n    DashboardLayout,\n    Modal\n  }\n};","map":{"version":3,"names":["DashboardLayout","PageHeaderThree","NavBack","Modal","GoogleClassroomRepository","name","data","isLoading","isExporting","isSuccessful","hasError","selectedFolder","folders","computed","isGoogleClassroomIntegrated","$store","getters","getGoogleIntegrated","methods","fetchFolders","then","response","success","submit","payload","folderID","id","assignmentID","$attrs","export","catch","error","console","log","created","components"],"sources":["/Users/erwinkarim/Websites/Snapped/snapped-mobile-master/src/views/teachers/TeacherAssignments/Export/Index.vue"],"sourcesContent":["<template>\n  <dashboard-layout :has-custom-bottom-bar=\"isGoogleClassroomIntegrated\" :no-bottom-bar=\"!isGoogleClassroomIntegrated\">\n\n    <!--  HEADER -->\n    <template v-slot:pageHeader>\n      <page-header-three class=\"px-2\" :has-scroll-animation=\"true\">\n        <template v-slot:leftAction>\n          <nav-back class=\"w-2/7\" stroke-color=\"red-primary\"/>\n        </template>\n        <template v-slot:mini-title>\n          Export Assignment\n        </template>\n        <template v-slot:title>\n          Export Assignment\n        </template>\n      </page-header-three>\n    </template>\n\n    <template v-slot:content v-if=\"isGoogleClassroomIntegrated\">\n\n      <!--  MODAL: EXPORTING   -->\n      <div v-if=\"isExporting\" @click.self=\"\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal class=\"w-4/5 \">\n          <h3 slot=\"title\" class=\"text-purple-primary font-bold text-4xl\">Exporting...</h3>\n          <p slot=\"message\">\n            Exporting assignment details\n          </p>\n        </modal>\n      </div>\n\n      <!--  MODAL: SUCCESS   -->\n      <div v-if=\"isSuccessful\" @click.self=\"\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal :redirect-route=\"{name: 'teacher.assignments.show'}\"\n               modal-type=\"success\"\n               class=\"w-4/5 \"\n        >\n          <h3 slot=\"title\" class=\"text-purple-primary font-bold text-4xl\">Published!</h3>\n          <p slot=\"message\">\n            Assignment exported!\n          </p>\n          <template slot=\"button\">\n            <button class=\"font-bold w-4/5 rounded-full px-2 font-bold leading-relaxed tracking-wider\">\n              Okay\n            </button>\n          </template>\n        </modal>\n      </div>\n\n      <!--  MODAL: SUCCESS   -->\n      <div v-if=\"hasError\" @click.self=\"\"\n           class=\"fixed w-full h-screen z-70 flex flex-col justify-center items-center top-0 bg-gray-primary bg-opacity-75 \">\n        <modal modal-type=\"error\"\n               class=\"w-4/5 \"\n        >\n          <h3 slot=\"title\" class=\"text-purple-primary font-bold text-4xl\">Oops!</h3>\n          <p slot=\"message\">\n            Seems like something went wrong.\n          </p>\n          <template slot=\"button\">\n            <button class=\"font-bold w-4/5 rounded-full px-2 font-bold leading-relaxed tracking-wider\">\n              Try again?\n            </button>\n          </template>\n        </modal>\n      </div>\n\n\n      <!-- INPUTS     -->\n      <div class=\"w-full px-7 mt-3 pb-3\">\n\n        <multiselect v-model=\"selectedFolder\"\n                     :options=\"folders\"\n                     :show-labels=\"false\"\n                     track-by=\"id\"\n                     label=\"title\"\n                     :placeholder=\"!isLoading ? 'Google Classroom Folder' : 'Loading...'\"\n                     class=\"mt-2 w-full text-lg font-normal leading-tight text-left rounded-md border border-none appearance-none bg-gray-secondary text-purple-secondary focus:outline-none focus:shadow-outline placeholder-purple-secondary\"\n        >\n\n          <!--            <option disabled value=\"\">Class</option>-->\n          <!--            <option v-for=\"classroom in classrooms\" :value=\"classroom.id\">{{ classroom.name }}</option>-->\n        </multiselect>\n      </div>\n\n    </template>\n\n    <template v-slot:content v-else>\n\n      <!-- INPUTS     -->\n      <div class=\"w-full px-7 mt-3 flex flex-col items-center pb-3 pt-20\">\n        <div class=\"text-xs\">\n          It seems that you are not connected to your Google account.\n        </div>\n        <router-link :to=\"{name: 'teacher.settings'}\"\n                     class=\"bg-purple-primary mt-4 py-2 text-xs rounded-lg px-5 text-white\"\n        >\n          CONNECT NOW\n        </router-link>\n      </div>\n\n    </template>\n\n    <template v-slot:bottomBar v-if=\"isGoogleClassroomIntegrated\">\n      <!--      <button @click=\"toggleDeleteModal\"-->\n      <!--              class=\"w-full font-bold rounded-full text-white text-sm bg-red-primary border-2 border-red-primary py-3 px-1 flex flex-row justify-center mr-2\">-->\n      <!--        Delete-->\n      <!--      </button>-->\n      <button @click=\"submit\"\n              class=\"w-full font-bold focus:outline-none rounded-full text-purple-primary text-sm bg-white border-2 border-purple-primary py-3 px-1 flex flex-row justify-center\">\n        Export\n      </button>\n    </template>\n  </dashboard-layout>\n</template>\n\n<script>\nimport DashboardLayout from \"@/views/layout/DashboardLayout\";\nimport PageHeaderThree from \"@/components/PageHeaderThree\";\nimport NavBack from \"@/components/NavBack\";\nimport Modal from \"@/components/Modal\";\nimport GoogleClassroomRepository from \"@/repositories/GoogleClassroomRepository\";\n\nexport default {\n  name: \"Index\",\n  data() {\n    return {\n\n      // states\n      isLoading: true,\n      isExporting: false,\n      isSuccessful: false,\n\n      hasError: false,\n\n      selectedFolder: null,\n      folders: []\n    }\n  },\n  computed: {\n    isGoogleClassroomIntegrated() {\n      return this.$store.getters.getGoogleIntegrated;\n    }\n  },\n  methods: {\n    fetchFolders() {\n\n      GoogleClassroomRepository.fetchFolders()\n          .then(response => {\n            if (response.data.success) {\n              this.isLoading = false;\n              this.folders = response.data.data.folders;\n            }\n          })\n    },\n    submit() {\n      if (this.selectedFolder) {\n\n        let payload = {\n          folderID: this.selectedFolder.id,\n          assignmentID: this.$attrs.assignmentID\n        }\n\n        // Set state to isExporting\n        this.isExporting = true;\n\n        GoogleClassroomRepository.export(payload)\n            .then(response => {\n              if (response.data.success) {\n                this.isExporting = false;\n                this.isSuccessful = true;\n              } else {\n                this.hasError = true;\n              }\n            })\n            .catch(error => {\n              console.log('Oops! It seems that there is something wrong with this export module.')\n            })\n      }\n\n    }\n  },\n  created() {\n    this.fetchFolders()\n  },\n  components: {NavBack, PageHeaderThree, DashboardLayout, Modal}\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":"AAsHA,OAAOA,eAAc,MAAO,gCAAgC;AAC5D,OAAOC,eAAc,MAAO,8BAA8B;AAC1D,OAAOC,OAAM,MAAO,sBAAsB;AAC1C,OAAOC,KAAI,MAAO,oBAAoB;AACtC,OAAOC,yBAAwB,MAAO,0CAA0C;AAEhF,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MAEL;MACAC,SAAS,EAAE,IAAI;MACfC,WAAW,EAAE,KAAK;MAClBC,YAAY,EAAE,KAAK;MAEnBC,QAAQ,EAAE,KAAK;MAEfC,cAAc,EAAE,IAAI;MACpBC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,QAAQ,EAAE;IACRC,2BAA2BA,CAAA,EAAG;MAC5B,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC,mBAAmB;IAChD;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MAEbf,yBAAyB,CAACe,YAAY,EAAC,CAClCC,IAAI,CAACC,QAAO,IAAK;QAChB,IAAIA,QAAQ,CAACf,IAAI,CAACgB,OAAO,EAAE;UACzB,IAAI,CAACf,SAAQ,GAAI,KAAK;UACtB,IAAI,CAACK,OAAM,GAAIS,QAAQ,CAACf,IAAI,CAACA,IAAI,CAACM,OAAO;QAC3C;MACF,CAAC;IACP,CAAC;IACDW,MAAMA,CAAA,EAAG;MACP,IAAI,IAAI,CAACZ,cAAc,EAAE;QAEvB,IAAIa,OAAM,GAAI;UACZC,QAAQ,EAAE,IAAI,CAACd,cAAc,CAACe,EAAE;UAChCC,YAAY,EAAE,IAAI,CAACC,MAAM,CAACD;QAC5B;;QAEA;QACA,IAAI,CAACnB,WAAU,GAAI,IAAI;QAEvBJ,yBAAyB,CAACyB,MAAM,CAACL,OAAO,EACnCJ,IAAI,CAACC,QAAO,IAAK;UAChB,IAAIA,QAAQ,CAACf,IAAI,CAACgB,OAAO,EAAE;YACzB,IAAI,CAACd,WAAU,GAAI,KAAK;YACxB,IAAI,CAACC,YAAW,GAAI,IAAI;UAC1B,OAAO;YACL,IAAI,CAACC,QAAO,GAAI,IAAI;UACtB;QACF,CAAC,EACAoB,KAAK,CAACC,KAAI,IAAK;UACdC,OAAO,CAACC,GAAG,CAAC,uEAAuE;QACrF,CAAC;MACP;IAEF;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACf,YAAY,EAAC;EACpB,CAAC;EACDgB,UAAU,EAAE;IAACjC,OAAO;IAAED,eAAe;IAAED,eAAe;IAAEG;EAAK;AAC/D"},"metadata":{},"sourceType":"module","externalDependencies":[]}